var HD=Object.defineProperty;var s0=e=>{throw TypeError(e)};var KD=(e,t,r)=>t in e?HD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Y=(e,t,r)=>KD(e,typeof t!="symbol"?t+"":t,r),th=(e,t,r)=>t.has(e)||s0("Cannot "+r);var V=(e,t,r)=>(th(e,t,"read from private field"),r?r.call(e):t.get(e)),Le=(e,t,r)=>t.has(e)?s0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),je=(e,t,r,s)=>(th(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),Je=(e,t,r)=>(th(e,t,"access private method"),r);var od=(e,t,r,s)=>({set _(a){je(e,t,a,r)},get _(){return V(e,t,s)}});function QD(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function XN(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var HN={exports:{}},im={},KN={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yc=Symbol.for("react.element"),ZD=Symbol.for("react.portal"),JD=Symbol.for("react.fragment"),e5=Symbol.for("react.strict_mode"),t5=Symbol.for("react.profiler"),r5=Symbol.for("react.provider"),n5=Symbol.for("react.context"),s5=Symbol.for("react.forward_ref"),a5=Symbol.for("react.suspense"),i5=Symbol.for("react.memo"),o5=Symbol.for("react.lazy"),a0=Symbol.iterator;function l5(e){return e===null||typeof e!="object"?null:(e=a0&&e[a0]||e["@@iterator"],typeof e=="function"?e:null)}var QN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZN=Object.assign,JN={};function il(e,t,r){this.props=e,this.context=t,this.refs=JN,this.updater=r||QN}il.prototype.isReactComponent={};il.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};il.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function e1(){}e1.prototype=il.prototype;function Hp(e,t,r){this.props=e,this.context=t,this.refs=JN,this.updater=r||QN}var Kp=Hp.prototype=new e1;Kp.constructor=Hp;ZN(Kp,il.prototype);Kp.isPureReactComponent=!0;var i0=Array.isArray,t1=Object.prototype.hasOwnProperty,Qp={current:null},r1={key:!0,ref:!0,__self:!0,__source:!0};function n1(e,t,r){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)t1.call(t,s)&&!r1.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:Yc,type:e,key:i,ref:o,props:a,_owner:Qp.current}}function c5(e,t){return{$$typeof:Yc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yc}function d5(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var o0=/\/+/g;function rh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?d5(""+e.key):t.toString(36)}function Od(e,t,r,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Yc:case ZD:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+rh(o,0):s,i0(a)?(r="",e!=null&&(r=e.replace(o0,"$&/")+"/"),Od(a,t,r,"",function(d){return d})):a!=null&&(Zp(a)&&(a=c5(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(o0,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",i0(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+rh(i,l);o+=Od(i,t,r,c,a)}else if(c=l5(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+rh(i,l++),o+=Od(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ld(e,t,r){if(e==null)return e;var s=[],a=0;return Od(e,s,"","",function(i){return t.call(r,i,a++)}),s}function u5(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Or={current:null},Ld={transition:null},m5={ReactCurrentDispatcher:Or,ReactCurrentBatchConfig:Ld,ReactCurrentOwner:Qp};function s1(){throw Error("act(...) is not supported in production builds of React.")}tt.Children={map:ld,forEach:function(e,t,r){ld(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ld(e,function(){t++}),t},toArray:function(e){return ld(e,function(t){return t})||[]},only:function(e){if(!Zp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};tt.Component=il;tt.Fragment=JD;tt.Profiler=t5;tt.PureComponent=Hp;tt.StrictMode=e5;tt.Suspense=a5;tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m5;tt.act=s1;tt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=ZN({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Qp.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)t1.call(t,c)&&!r1.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:Yc,type:e.type,key:a,ref:i,props:s,_owner:o}};tt.createContext=function(e){return e={$$typeof:n5,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:r5,_context:e},e.Consumer=e};tt.createElement=n1;tt.createFactory=function(e){var t=n1.bind(null,e);return t.type=e,t};tt.createRef=function(){return{current:null}};tt.forwardRef=function(e){return{$$typeof:s5,render:e}};tt.isValidElement=Zp;tt.lazy=function(e){return{$$typeof:o5,_payload:{_status:-1,_result:e},_init:u5}};tt.memo=function(e,t){return{$$typeof:i5,type:e,compare:t===void 0?null:t}};tt.startTransition=function(e){var t=Ld.transition;Ld.transition={};try{e()}finally{Ld.transition=t}};tt.unstable_act=s1;tt.useCallback=function(e,t){return Or.current.useCallback(e,t)};tt.useContext=function(e){return Or.current.useContext(e)};tt.useDebugValue=function(){};tt.useDeferredValue=function(e){return Or.current.useDeferredValue(e)};tt.useEffect=function(e,t){return Or.current.useEffect(e,t)};tt.useId=function(){return Or.current.useId()};tt.useImperativeHandle=function(e,t,r){return Or.current.useImperativeHandle(e,t,r)};tt.useInsertionEffect=function(e,t){return Or.current.useInsertionEffect(e,t)};tt.useLayoutEffect=function(e,t){return Or.current.useLayoutEffect(e,t)};tt.useMemo=function(e,t){return Or.current.useMemo(e,t)};tt.useReducer=function(e,t,r){return Or.current.useReducer(e,t,r)};tt.useRef=function(e){return Or.current.useRef(e)};tt.useState=function(e){return Or.current.useState(e)};tt.useSyncExternalStore=function(e,t,r){return Or.current.useSyncExternalStore(e,t,r)};tt.useTransition=function(){return Or.current.useTransition()};tt.version="18.3.1";KN.exports=tt;var h=KN.exports;const Oe=XN(h),a1=QD({__proto__:null,default:Oe},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h5=h,f5=Symbol.for("react.element"),p5=Symbol.for("react.fragment"),g5=Object.prototype.hasOwnProperty,x5=h5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y5={key:!0,ref:!0,__self:!0,__source:!0};function i1(e,t,r){var s,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)g5.call(t,s)&&!y5.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:f5,type:e,key:i,ref:o,props:a,_owner:x5.current}}im.Fragment=p5;im.jsx=i1;im.jsxs=i1;HN.exports=im;var n=HN.exports,o1={exports:{}},mn={},l1={exports:{}},c1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,D){var u=L.length;L.push(D);e:for(;0<u;){var T=u-1>>>1,A=L[T];if(0<a(A,D))L[T]=D,L[u]=A,u=T;else break e}}function r(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var D=L[0],u=L.pop();if(u!==D){L[0]=u;e:for(var T=0,A=L.length,U=A>>>1;T<U;){var te=2*(T+1)-1,fe=L[te],pe=te+1,G=L[pe];if(0>a(fe,u))pe<A&&0>a(G,fe)?(L[T]=G,L[pe]=u,T=pe):(L[T]=fe,L[te]=u,T=te);else if(pe<A&&0>a(G,u))L[T]=G,L[pe]=u,T=pe;else break e}}return D}function a(L,D){var u=L.sortIndex-D.sortIndex;return u!==0?u:L.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],m=1,p=null,f=3,x=!1,v=!1,y=!1,N=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(L){for(var D=r(d);D!==null;){if(D.callback===null)s(d);else if(D.startTime<=L)s(d),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(d)}}function S(L){if(y=!1,w(L),!v)if(r(c)!==null)v=!0,M(j);else{var D=r(d);D!==null&&$(S,D.startTime-L)}}function j(L,D){v=!1,y&&(y=!1,b(F),F=-1),x=!0;var u=f;try{for(w(D),p=r(c);p!==null&&(!(p.expirationTime>D)||L&&!X());){var T=p.callback;if(typeof T=="function"){p.callback=null,f=p.priorityLevel;var A=T(p.expirationTime<=D);D=e.unstable_now(),typeof A=="function"?p.callback=A:p===r(c)&&s(c),w(D)}else s(c);p=r(c)}if(p!==null)var U=!0;else{var te=r(d);te!==null&&$(S,te.startTime-D),U=!1}return U}finally{p=null,f=u,x=!1}}var k=!1,R=null,F=-1,B=5,_=-1;function X(){return!(e.unstable_now()-_<B)}function C(){if(R!==null){var L=e.unstable_now();_=L;var D=!0;try{D=R(!0,L)}finally{D?P():(k=!1,R=null)}}else k=!1}var P;if(typeof g=="function")P=function(){g(C)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,W=z.port2;z.port1.onmessage=C,P=function(){W.postMessage(null)}}else P=function(){N(C,0)};function M(L){R=L,k||(k=!0,P())}function $(L,D){F=N(function(){L(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){v||x||(v=!0,M(j))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(L){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var u=f;f=D;try{return L()}finally{f=u}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,D){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var u=f;f=L;try{return D()}finally{f=u}},e.unstable_scheduleCallback=function(L,D,u){var T=e.unstable_now();switch(typeof u=="object"&&u!==null?(u=u.delay,u=typeof u=="number"&&0<u?T+u:T):u=T,L){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=u+A,L={id:m++,callback:D,priorityLevel:L,startTime:u,expirationTime:A,sortIndex:-1},u>T?(L.sortIndex=u,t(d,L),r(c)===null&&L===r(d)&&(y?(b(F),F=-1):y=!0,$(S,u-T))):(L.sortIndex=A,t(c,L),v||x||(v=!0,M(j))),L},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(L){var D=f;return function(){var u=f;f=D;try{return L.apply(this,arguments)}finally{f=u}}}})(c1);l1.exports=c1;var v5=l1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w5=h,un=v5;function ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d1=new Set,nc={};function Di(e,t){Yo(e,t),Yo(e+"Capture",t)}function Yo(e,t){for(nc[e]=t,e=0;e<t.length;e++)d1.add(t[e])}var Ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tf=Object.prototype.hasOwnProperty,b5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l0={},c0={};function j5(e){return tf.call(c0,e)?!0:tf.call(l0,e)?!1:b5.test(e)?c0[e]=!0:(l0[e]=!0,!1)}function N5(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function S5(e,t,r,s){if(t===null||typeof t>"u"||N5(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Lr(e,t,r,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var pr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pr[e]=new Lr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pr[t]=new Lr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pr[e]=new Lr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pr[e]=new Lr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pr[e]=new Lr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pr[e]=new Lr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pr[e]=new Lr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pr[e]=new Lr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pr[e]=new Lr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jp=/[\-:]([a-z])/g;function eg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jp,eg);pr[t]=new Lr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jp,eg);pr[t]=new Lr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jp,eg);pr[t]=new Lr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pr[e]=new Lr(e,1,!1,e.toLowerCase(),null,!1,!1)});pr.xlinkHref=new Lr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pr[e]=new Lr(e,1,!1,e.toLowerCase(),null,!0,!0)});function tg(e,t,r,s){var a=pr.hasOwnProperty(t)?pr[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(S5(t,r,a,s)&&(r=null),s||a===null?j5(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Ws=w5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cd=Symbol.for("react.element"),qi=Symbol.for("react.portal"),Yi=Symbol.for("react.fragment"),rg=Symbol.for("react.strict_mode"),rf=Symbol.for("react.profiler"),u1=Symbol.for("react.provider"),m1=Symbol.for("react.context"),ng=Symbol.for("react.forward_ref"),nf=Symbol.for("react.suspense"),sf=Symbol.for("react.suspense_list"),sg=Symbol.for("react.memo"),ra=Symbol.for("react.lazy"),h1=Symbol.for("react.offscreen"),d0=Symbol.iterator;function vl(e){return e===null||typeof e!="object"?null:(e=d0&&e[d0]||e["@@iterator"],typeof e=="function"?e:null)}var zt=Object.assign,nh;function Rl(e){if(nh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);nh=t&&t[1]||""}return`
`+nh+e}var sh=!1;function ah(e,t){if(!e||sh)return"";sh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{sh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Rl(e):""}function C5(e){switch(e.tag){case 5:return Rl(e.type);case 16:return Rl("Lazy");case 13:return Rl("Suspense");case 19:return Rl("SuspenseList");case 0:case 2:case 15:return e=ah(e.type,!1),e;case 11:return e=ah(e.type.render,!1),e;case 1:return e=ah(e.type,!0),e;default:return""}}function af(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yi:return"Fragment";case qi:return"Portal";case rf:return"Profiler";case rg:return"StrictMode";case nf:return"Suspense";case sf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case m1:return(e.displayName||"Context")+".Consumer";case u1:return(e._context.displayName||"Context")+".Provider";case ng:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sg:return t=e.displayName||null,t!==null?t:af(e.type)||"Memo";case ra:t=e._payload,e=e._init;try{return af(e(t))}catch{}}return null}function k5(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return af(t);case 8:return t===rg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ea(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function f1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function P5(e){var t=f1(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function dd(e){e._valueTracker||(e._valueTracker=P5(e))}function p1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=f1(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function au(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function of(e,t){var r=t.checked;return zt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function u0(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=Ea(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function g1(e,t){t=t.checked,t!=null&&tg(e,"checked",t,!1)}function lf(e,t){g1(e,t);var r=Ea(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?cf(e,t.type,r):t.hasOwnProperty("defaultValue")&&cf(e,t.type,Ea(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function m0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function cf(e,t,r){(t!=="number"||au(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ml=Array.isArray;function io(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Ea(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function df(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ue(91));return zt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function h0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ue(92));if(Ml(r)){if(1<r.length)throw Error(ue(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ea(r)}}function x1(e,t){var r=Ea(t.value),s=Ea(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function f0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function y1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?y1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ud,v1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ud=ud||document.createElement("div"),ud.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ud.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function sc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ql={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},T5=["Webkit","ms","Moz","O"];Object.keys(ql).forEach(function(e){T5.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ql[t]=ql[e]})});function w1(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ql.hasOwnProperty(e)&&ql[e]?(""+t).trim():t+"px"}function b1(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=w1(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var E5=zt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mf(e,t){if(t){if(E5[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ue(62))}}function hf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ff=null;function ag(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pf=null,oo=null,lo=null;function p0(e){if(e=Xc(e)){if(typeof pf!="function")throw Error(ue(280));var t=e.stateNode;t&&(t=um(t),pf(e.stateNode,e.type,t))}}function j1(e){oo?lo?lo.push(e):lo=[e]:oo=e}function N1(){if(oo){var e=oo,t=lo;if(lo=oo=null,p0(e),t)for(e=0;e<t.length;e++)p0(t[e])}}function S1(e,t){return e(t)}function C1(){}var ih=!1;function k1(e,t,r){if(ih)return e(t,r);ih=!0;try{return S1(e,t,r)}finally{ih=!1,(oo!==null||lo!==null)&&(C1(),N1())}}function ac(e,t){var r=e.stateNode;if(r===null)return null;var s=um(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ue(231,t,typeof r));return r}var gf=!1;if(Ls)try{var wl={};Object.defineProperty(wl,"passive",{get:function(){gf=!0}}),window.addEventListener("test",wl,wl),window.removeEventListener("test",wl,wl)}catch{gf=!1}function _5(e,t,r,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(m){this.onError(m)}}var Yl=!1,iu=null,ou=!1,xf=null,D5={onError:function(e){Yl=!0,iu=e}};function I5(e,t,r,s,a,i,o,l,c){Yl=!1,iu=null,_5.apply(D5,arguments)}function A5(e,t,r,s,a,i,o,l,c){if(I5.apply(this,arguments),Yl){if(Yl){var d=iu;Yl=!1,iu=null}else throw Error(ue(198));ou||(ou=!0,xf=d)}}function Ii(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function P1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g0(e){if(Ii(e)!==e)throw Error(ue(188))}function R5(e){var t=e.alternate;if(!t){if(t=Ii(e),t===null)throw Error(ue(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return g0(a),e;if(i===s)return g0(a),t;i=i.sibling}throw Error(ue(188))}if(r.return!==s.return)r=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,s=i;break}if(l===s){o=!0,s=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,s=a;break}if(l===s){o=!0,s=i,r=a;break}l=l.sibling}if(!o)throw Error(ue(189))}}if(r.alternate!==s)throw Error(ue(190))}if(r.tag!==3)throw Error(ue(188));return r.stateNode.current===r?e:t}function T1(e){return e=R5(e),e!==null?E1(e):null}function E1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=E1(e);if(t!==null)return t;e=e.sibling}return null}var _1=un.unstable_scheduleCallback,x0=un.unstable_cancelCallback,M5=un.unstable_shouldYield,F5=un.unstable_requestPaint,Wt=un.unstable_now,O5=un.unstable_getCurrentPriorityLevel,ig=un.unstable_ImmediatePriority,D1=un.unstable_UserBlockingPriority,lu=un.unstable_NormalPriority,L5=un.unstable_LowPriority,I1=un.unstable_IdlePriority,om=null,ds=null;function $5(e){if(ds&&typeof ds.onCommitFiberRoot=="function")try{ds.onCommitFiberRoot(om,e,void 0,(e.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:U5,V5=Math.log,z5=Math.LN2;function U5(e){return e>>>=0,e===0?32:31-(V5(e)/z5|0)|0}var md=64,hd=4194304;function Fl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cu(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?s=Fl(l):(i&=o,i!==0&&(s=Fl(i)))}else o=r&~a,o!==0?s=Fl(o):i!==0&&(s=Fl(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Un(t),a=1<<r,s|=e[r],t&=~a;return s}function B5(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q5(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Un(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&s)&&(a[o]=B5(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function yf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function A1(){var e=md;return md<<=1,!(md&4194240)&&(md=64),e}function oh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Gc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Un(t),e[t]=r}function Y5(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Un(r),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~i}}function og(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Un(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var gt=0;function R1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var M1,lg,F1,O1,L1,vf=!1,fd=[],wa=null,ba=null,ja=null,ic=new Map,oc=new Map,aa=[],G5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function y0(e,t){switch(e){case"focusin":case"focusout":wa=null;break;case"dragenter":case"dragleave":ba=null;break;case"mouseover":case"mouseout":ja=null;break;case"pointerover":case"pointerout":ic.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(t.pointerId)}}function bl(e,t,r,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Xc(t),t!==null&&lg(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function W5(e,t,r,s,a){switch(t){case"focusin":return wa=bl(wa,e,t,r,s,a),!0;case"dragenter":return ba=bl(ba,e,t,r,s,a),!0;case"mouseover":return ja=bl(ja,e,t,r,s,a),!0;case"pointerover":var i=a.pointerId;return ic.set(i,bl(ic.get(i)||null,e,t,r,s,a)),!0;case"gotpointercapture":return i=a.pointerId,oc.set(i,bl(oc.get(i)||null,e,t,r,s,a)),!0}return!1}function $1(e){var t=ei(e.target);if(t!==null){var r=Ii(t);if(r!==null){if(t=r.tag,t===13){if(t=P1(r),t!==null){e.blockedOn=t,L1(e.priority,function(){F1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $d(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=wf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);ff=s,r.target.dispatchEvent(s),ff=null}else return t=Xc(r),t!==null&&lg(t),e.blockedOn=r,!1;t.shift()}return!0}function v0(e,t,r){$d(e)&&r.delete(t)}function X5(){vf=!1,wa!==null&&$d(wa)&&(wa=null),ba!==null&&$d(ba)&&(ba=null),ja!==null&&$d(ja)&&(ja=null),ic.forEach(v0),oc.forEach(v0)}function jl(e,t){e.blockedOn===t&&(e.blockedOn=null,vf||(vf=!0,un.unstable_scheduleCallback(un.unstable_NormalPriority,X5)))}function lc(e){function t(a){return jl(a,e)}if(0<fd.length){jl(fd[0],e);for(var r=1;r<fd.length;r++){var s=fd[r];s.blockedOn===e&&(s.blockedOn=null)}}for(wa!==null&&jl(wa,e),ba!==null&&jl(ba,e),ja!==null&&jl(ja,e),ic.forEach(t),oc.forEach(t),r=0;r<aa.length;r++)s=aa[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<aa.length&&(r=aa[0],r.blockedOn===null);)$1(r),r.blockedOn===null&&aa.shift()}var co=Ws.ReactCurrentBatchConfig,du=!0;function H5(e,t,r,s){var a=gt,i=co.transition;co.transition=null;try{gt=1,cg(e,t,r,s)}finally{gt=a,co.transition=i}}function K5(e,t,r,s){var a=gt,i=co.transition;co.transition=null;try{gt=4,cg(e,t,r,s)}finally{gt=a,co.transition=i}}function cg(e,t,r,s){if(du){var a=wf(e,t,r,s);if(a===null)xh(e,t,s,uu,r),y0(e,s);else if(W5(a,e,t,r,s))s.stopPropagation();else if(y0(e,s),t&4&&-1<G5.indexOf(e)){for(;a!==null;){var i=Xc(a);if(i!==null&&M1(i),i=wf(e,t,r,s),i===null&&xh(e,t,s,uu,r),i===a)break;a=i}a!==null&&s.stopPropagation()}else xh(e,t,s,null,r)}}var uu=null;function wf(e,t,r,s){if(uu=null,e=ag(s),e=ei(e),e!==null)if(t=Ii(e),t===null)e=null;else if(r=t.tag,r===13){if(e=P1(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return uu=e,null}function V1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(O5()){case ig:return 1;case D1:return 4;case lu:case L5:return 16;case I1:return 536870912;default:return 16}default:return 16}}var xa=null,dg=null,Vd=null;function z1(){if(Vd)return Vd;var e,t=dg,r=t.length,s,a="value"in xa?xa.value:xa.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(s=1;s<=o&&t[r-s]===a[i-s];s++);return Vd=a.slice(e,1<s?1-s:void 0)}function zd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function w0(){return!1}function hn(e){function t(r,s,a,i,o){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?pd:w0,this.isPropagationStopped=w0,this}return zt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),t}var ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ug=hn(ol),Wc=zt({},ol,{view:0,detail:0}),Q5=hn(Wc),lh,ch,Nl,lm=zt({},Wc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nl&&(Nl&&e.type==="mousemove"?(lh=e.screenX-Nl.screenX,ch=e.screenY-Nl.screenY):ch=lh=0,Nl=e),lh)},movementY:function(e){return"movementY"in e?e.movementY:ch}}),b0=hn(lm),Z5=zt({},lm,{dataTransfer:0}),J5=hn(Z5),eI=zt({},Wc,{relatedTarget:0}),dh=hn(eI),tI=zt({},ol,{animationName:0,elapsedTime:0,pseudoElement:0}),rI=hn(tI),nI=zt({},ol,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sI=hn(nI),aI=zt({},ol,{data:0}),j0=hn(aI),iI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lI[e])?!!t[e]:!1}function mg(){return cI}var dI=zt({},Wc,{key:function(e){if(e.key){var t=iI[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?oI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mg,charCode:function(e){return e.type==="keypress"?zd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uI=hn(dI),mI=zt({},lm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N0=hn(mI),hI=zt({},Wc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mg}),fI=hn(hI),pI=zt({},ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),gI=hn(pI),xI=zt({},lm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yI=hn(xI),vI=[9,13,27,32],hg=Ls&&"CompositionEvent"in window,Gl=null;Ls&&"documentMode"in document&&(Gl=document.documentMode);var wI=Ls&&"TextEvent"in window&&!Gl,U1=Ls&&(!hg||Gl&&8<Gl&&11>=Gl),S0=" ",C0=!1;function B1(e,t){switch(e){case"keyup":return vI.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function q1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gi=!1;function bI(e,t){switch(e){case"compositionend":return q1(t);case"keypress":return t.which!==32?null:(C0=!0,S0);case"textInput":return e=t.data,e===S0&&C0?null:e;default:return null}}function jI(e,t){if(Gi)return e==="compositionend"||!hg&&B1(e,t)?(e=z1(),Vd=dg=xa=null,Gi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return U1&&t.locale!=="ko"?null:t.data;default:return null}}var NI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!NI[e.type]:t==="textarea"}function Y1(e,t,r,s){j1(s),t=mu(t,"onChange"),0<t.length&&(r=new ug("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Wl=null,cc=null;function SI(e){rS(e,0)}function cm(e){var t=Hi(e);if(p1(t))return e}function CI(e,t){if(e==="change")return t}var G1=!1;if(Ls){var uh;if(Ls){var mh="oninput"in document;if(!mh){var P0=document.createElement("div");P0.setAttribute("oninput","return;"),mh=typeof P0.oninput=="function"}uh=mh}else uh=!1;G1=uh&&(!document.documentMode||9<document.documentMode)}function T0(){Wl&&(Wl.detachEvent("onpropertychange",W1),cc=Wl=null)}function W1(e){if(e.propertyName==="value"&&cm(cc)){var t=[];Y1(t,cc,e,ag(e)),k1(SI,t)}}function kI(e,t,r){e==="focusin"?(T0(),Wl=t,cc=r,Wl.attachEvent("onpropertychange",W1)):e==="focusout"&&T0()}function PI(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cm(cc)}function TI(e,t){if(e==="click")return cm(t)}function EI(e,t){if(e==="input"||e==="change")return cm(t)}function _I(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gn=typeof Object.is=="function"?Object.is:_I;function dc(e,t){if(Gn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!tf.call(t,a)||!Gn(e[a],t[a]))return!1}return!0}function E0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _0(e,t){var r=E0(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=E0(r)}}function X1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?X1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function H1(){for(var e=window,t=au();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=au(e.document)}return t}function fg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function DI(e){var t=H1(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&X1(r.ownerDocument.documentElement,r)){if(s!==null&&fg(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=_0(r,i);var o=_0(r,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var II=Ls&&"documentMode"in document&&11>=document.documentMode,Wi=null,bf=null,Xl=null,jf=!1;function D0(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jf||Wi==null||Wi!==au(s)||(s=Wi,"selectionStart"in s&&fg(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Xl&&dc(Xl,s)||(Xl=s,s=mu(bf,"onSelect"),0<s.length&&(t=new ug("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Wi)))}function gd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Xi={animationend:gd("Animation","AnimationEnd"),animationiteration:gd("Animation","AnimationIteration"),animationstart:gd("Animation","AnimationStart"),transitionend:gd("Transition","TransitionEnd")},hh={},K1={};Ls&&(K1=document.createElement("div").style,"AnimationEvent"in window||(delete Xi.animationend.animation,delete Xi.animationiteration.animation,delete Xi.animationstart.animation),"TransitionEvent"in window||delete Xi.transitionend.transition);function dm(e){if(hh[e])return hh[e];if(!Xi[e])return e;var t=Xi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in K1)return hh[e]=t[r];return e}var Q1=dm("animationend"),Z1=dm("animationiteration"),J1=dm("animationstart"),eS=dm("transitionend"),tS=new Map,I0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function za(e,t){tS.set(e,t),Di(t,[e])}for(var fh=0;fh<I0.length;fh++){var ph=I0[fh],AI=ph.toLowerCase(),RI=ph[0].toUpperCase()+ph.slice(1);za(AI,"on"+RI)}za(Q1,"onAnimationEnd");za(Z1,"onAnimationIteration");za(J1,"onAnimationStart");za("dblclick","onDoubleClick");za("focusin","onFocus");za("focusout","onBlur");za(eS,"onTransitionEnd");Yo("onMouseEnter",["mouseout","mouseover"]);Yo("onMouseLeave",["mouseout","mouseover"]);Yo("onPointerEnter",["pointerout","pointerover"]);Yo("onPointerLeave",["pointerout","pointerover"]);Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Di("onBeforeInput",["compositionend","keypress","textInput","paste"]);Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ol));function A0(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,A5(s,t,void 0,e),e.currentTarget=null}function rS(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;A0(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;A0(a,l,d),i=c}}}if(ou)throw e=xf,ou=!1,xf=null,e}function Ct(e,t){var r=t[Pf];r===void 0&&(r=t[Pf]=new Set);var s=e+"__bubble";r.has(s)||(nS(t,e,2,!1),r.add(s))}function gh(e,t,r){var s=0;t&&(s|=4),nS(r,e,s,t)}var xd="_reactListening"+Math.random().toString(36).slice(2);function uc(e){if(!e[xd]){e[xd]=!0,d1.forEach(function(r){r!=="selectionchange"&&(MI.has(r)||gh(r,!1,e),gh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xd]||(t[xd]=!0,gh("selectionchange",!1,t))}}function nS(e,t,r,s){switch(V1(t)){case 1:var a=H5;break;case 4:a=K5;break;default:a=cg}r=a.bind(null,t,r,e),a=void 0,!gf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function xh(e,t,r,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=ei(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}k1(function(){var d=i,m=ag(r),p=[];e:{var f=tS.get(e);if(f!==void 0){var x=ug,v=e;switch(e){case"keypress":if(zd(r)===0)break e;case"keydown":case"keyup":x=uI;break;case"focusin":v="focus",x=dh;break;case"focusout":v="blur",x=dh;break;case"beforeblur":case"afterblur":x=dh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=b0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=J5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=fI;break;case Q1:case Z1:case J1:x=rI;break;case eS:x=gI;break;case"scroll":x=Q5;break;case"wheel":x=yI;break;case"copy":case"cut":case"paste":x=sI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=N0}var y=(t&4)!==0,N=!y&&e==="scroll",b=y?f!==null?f+"Capture":null:f;y=[];for(var g=d,w;g!==null;){w=g;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,b!==null&&(S=ac(g,b),S!=null&&y.push(mc(g,S,w)))),N)break;g=g.return}0<y.length&&(f=new x(f,v,null,r,m),p.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",f&&r!==ff&&(v=r.relatedTarget||r.fromElement)&&(ei(v)||v[$s]))break e;if((x||f)&&(f=m.window===m?m:(f=m.ownerDocument)?f.defaultView||f.parentWindow:window,x?(v=r.relatedTarget||r.toElement,x=d,v=v?ei(v):null,v!==null&&(N=Ii(v),v!==N||v.tag!==5&&v.tag!==6)&&(v=null)):(x=null,v=d),x!==v)){if(y=b0,S="onMouseLeave",b="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=N0,S="onPointerLeave",b="onPointerEnter",g="pointer"),N=x==null?f:Hi(x),w=v==null?f:Hi(v),f=new y(S,g+"leave",x,r,m),f.target=N,f.relatedTarget=w,S=null,ei(m)===d&&(y=new y(b,g+"enter",v,r,m),y.target=w,y.relatedTarget=N,S=y),N=S,x&&v)t:{for(y=x,b=v,g=0,w=y;w;w=Fi(w))g++;for(w=0,S=b;S;S=Fi(S))w++;for(;0<g-w;)y=Fi(y),g--;for(;0<w-g;)b=Fi(b),w--;for(;g--;){if(y===b||b!==null&&y===b.alternate)break t;y=Fi(y),b=Fi(b)}y=null}else y=null;x!==null&&R0(p,f,x,y,!1),v!==null&&N!==null&&R0(p,N,v,y,!0)}}e:{if(f=d?Hi(d):window,x=f.nodeName&&f.nodeName.toLowerCase(),x==="select"||x==="input"&&f.type==="file")var j=CI;else if(k0(f))if(G1)j=EI;else{j=PI;var k=kI}else(x=f.nodeName)&&x.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=TI);if(j&&(j=j(e,d))){Y1(p,j,r,m);break e}k&&k(e,f,d),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&cf(f,"number",f.value)}switch(k=d?Hi(d):window,e){case"focusin":(k0(k)||k.contentEditable==="true")&&(Wi=k,bf=d,Xl=null);break;case"focusout":Xl=bf=Wi=null;break;case"mousedown":jf=!0;break;case"contextmenu":case"mouseup":case"dragend":jf=!1,D0(p,r,m);break;case"selectionchange":if(II)break;case"keydown":case"keyup":D0(p,r,m)}var R;if(hg)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Gi?B1(e,r)&&(F="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(F="onCompositionStart");F&&(U1&&r.locale!=="ko"&&(Gi||F!=="onCompositionStart"?F==="onCompositionEnd"&&Gi&&(R=z1()):(xa=m,dg="value"in xa?xa.value:xa.textContent,Gi=!0)),k=mu(d,F),0<k.length&&(F=new j0(F,e,null,r,m),p.push({event:F,listeners:k}),R?F.data=R:(R=q1(r),R!==null&&(F.data=R)))),(R=wI?bI(e,r):jI(e,r))&&(d=mu(d,"onBeforeInput"),0<d.length&&(m=new j0("onBeforeInput","beforeinput",null,r,m),p.push({event:m,listeners:d}),m.data=R))}rS(p,t)})}function mc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function mu(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=ac(e,r),i!=null&&s.unshift(mc(e,i,a)),i=ac(e,t),i!=null&&s.push(mc(e,i,a))),e=e.return}return s}function Fi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function R0(e,t,r,s,a){for(var i=t._reactName,o=[];r!==null&&r!==s;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=ac(r,i),c!=null&&o.unshift(mc(r,c,l))):a||(c=ac(r,i),c!=null&&o.push(mc(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var FI=/\r\n?/g,OI=/\u0000|\uFFFD/g;function M0(e){return(typeof e=="string"?e:""+e).replace(FI,`
`).replace(OI,"")}function yd(e,t,r){if(t=M0(t),M0(e)!==t&&r)throw Error(ue(425))}function hu(){}var Nf=null,Sf=null;function Cf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kf=typeof setTimeout=="function"?setTimeout:void 0,LI=typeof clearTimeout=="function"?clearTimeout:void 0,F0=typeof Promise=="function"?Promise:void 0,$I=typeof queueMicrotask=="function"?queueMicrotask:typeof F0<"u"?function(e){return F0.resolve(null).then(e).catch(VI)}:kf;function VI(e){setTimeout(function(){throw e})}function yh(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),lc(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);lc(t)}function Na(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function O0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ll=Math.random().toString(36).slice(2),is="__reactFiber$"+ll,hc="__reactProps$"+ll,$s="__reactContainer$"+ll,Pf="__reactEvents$"+ll,zI="__reactListeners$"+ll,UI="__reactHandles$"+ll;function ei(e){var t=e[is];if(t)return t;for(var r=e.parentNode;r;){if(t=r[$s]||r[is]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=O0(e);e!==null;){if(r=e[is])return r;e=O0(e)}return t}e=r,r=e.parentNode}return null}function Xc(e){return e=e[is]||e[$s],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ue(33))}function um(e){return e[hc]||null}var Tf=[],Ki=-1;function Ua(e){return{current:e}}function kt(e){0>Ki||(e.current=Tf[Ki],Tf[Ki]=null,Ki--)}function wt(e,t){Ki++,Tf[Ki]=e.current,e.current=t}var _a={},Nr=Ua(_a),Gr=Ua(!1),gi=_a;function Go(e,t){var r=e.type.contextTypes;if(!r)return _a;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Wr(e){return e=e.childContextTypes,e!=null}function fu(){kt(Gr),kt(Nr)}function L0(e,t,r){if(Nr.current!==_a)throw Error(ue(168));wt(Nr,t),wt(Gr,r)}function sS(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(ue(108,k5(e)||"Unknown",a));return zt({},r,s)}function pu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_a,gi=Nr.current,wt(Nr,e),wt(Gr,Gr.current),!0}function $0(e,t,r){var s=e.stateNode;if(!s)throw Error(ue(169));r?(e=sS(e,t,gi),s.__reactInternalMemoizedMergedChildContext=e,kt(Gr),kt(Nr),wt(Nr,e)):kt(Gr),wt(Gr,r)}var Ps=null,mm=!1,vh=!1;function aS(e){Ps===null?Ps=[e]:Ps.push(e)}function BI(e){mm=!0,aS(e)}function Ba(){if(!vh&&Ps!==null){vh=!0;var e=0,t=gt;try{var r=Ps;for(gt=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Ps=null,mm=!1}catch(a){throw Ps!==null&&(Ps=Ps.slice(e+1)),_1(ig,Ba),a}finally{gt=t,vh=!1}}return null}var Qi=[],Zi=0,gu=null,xu=0,vn=[],wn=0,xi=null,As=1,Rs="";function Ha(e,t){Qi[Zi++]=xu,Qi[Zi++]=gu,gu=e,xu=t}function iS(e,t,r){vn[wn++]=As,vn[wn++]=Rs,vn[wn++]=xi,xi=e;var s=As;e=Rs;var a=32-Un(s)-1;s&=~(1<<a),r+=1;var i=32-Un(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,As=1<<32-Un(t)+a|r<<a|s,Rs=i+e}else As=1<<i|r<<a|s,Rs=e}function pg(e){e.return!==null&&(Ha(e,1),iS(e,1,0))}function gg(e){for(;e===gu;)gu=Qi[--Zi],Qi[Zi]=null,xu=Qi[--Zi],Qi[Zi]=null;for(;e===xi;)xi=vn[--wn],vn[wn]=null,Rs=vn[--wn],vn[wn]=null,As=vn[--wn],vn[wn]=null}var an=null,sn=null,Et=!1,On=null;function oS(e,t){var r=bn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function V0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,an=e,sn=Na(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,an=e,sn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=xi!==null?{id:As,overflow:Rs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=bn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,an=e,sn=null,!0):!1;default:return!1}}function Ef(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _f(e){if(Et){var t=sn;if(t){var r=t;if(!V0(e,t)){if(Ef(e))throw Error(ue(418));t=Na(r.nextSibling);var s=an;t&&V0(e,t)?oS(s,r):(e.flags=e.flags&-4097|2,Et=!1,an=e)}}else{if(Ef(e))throw Error(ue(418));e.flags=e.flags&-4097|2,Et=!1,an=e}}}function z0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;an=e}function vd(e){if(e!==an)return!1;if(!Et)return z0(e),Et=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cf(e.type,e.memoizedProps)),t&&(t=sn)){if(Ef(e))throw lS(),Error(ue(418));for(;t;)oS(e,t),t=Na(t.nextSibling)}if(z0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){sn=Na(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}sn=null}}else sn=an?Na(e.stateNode.nextSibling):null;return!0}function lS(){for(var e=sn;e;)e=Na(e.nextSibling)}function Wo(){sn=an=null,Et=!1}function xg(e){On===null?On=[e]:On.push(e)}var qI=Ws.ReactCurrentBatchConfig;function Sl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ue(309));var s=r.stateNode}if(!s)throw Error(ue(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ue(284));if(!r._owner)throw Error(ue(290,e))}return e}function wd(e,t){throw e=Object.prototype.toString.call(t),Error(ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function U0(e){var t=e._init;return t(e._payload)}function cS(e){function t(b,g){if(e){var w=b.deletions;w===null?(b.deletions=[g],b.flags|=16):w.push(g)}}function r(b,g){if(!e)return null;for(;g!==null;)t(b,g),g=g.sibling;return null}function s(b,g){for(b=new Map;g!==null;)g.key!==null?b.set(g.key,g):b.set(g.index,g),g=g.sibling;return b}function a(b,g){return b=Pa(b,g),b.index=0,b.sibling=null,b}function i(b,g,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<g?(b.flags|=2,g):w):(b.flags|=2,g)):(b.flags|=1048576,g)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,g,w,S){return g===null||g.tag!==6?(g=kh(w,b.mode,S),g.return=b,g):(g=a(g,w),g.return=b,g)}function c(b,g,w,S){var j=w.type;return j===Yi?m(b,g,w.props.children,S,w.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ra&&U0(j)===g.type)?(S=a(g,w.props),S.ref=Sl(b,g,w),S.return=b,S):(S=Xd(w.type,w.key,w.props,null,b.mode,S),S.ref=Sl(b,g,w),S.return=b,S)}function d(b,g,w,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Ph(w,b.mode,S),g.return=b,g):(g=a(g,w.children||[]),g.return=b,g)}function m(b,g,w,S,j){return g===null||g.tag!==7?(g=fi(w,b.mode,S,j),g.return=b,g):(g=a(g,w),g.return=b,g)}function p(b,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=kh(""+g,b.mode,w),g.return=b,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case cd:return w=Xd(g.type,g.key,g.props,null,b.mode,w),w.ref=Sl(b,null,g),w.return=b,w;case qi:return g=Ph(g,b.mode,w),g.return=b,g;case ra:var S=g._init;return p(b,S(g._payload),w)}if(Ml(g)||vl(g))return g=fi(g,b.mode,w,null),g.return=b,g;wd(b,g)}return null}function f(b,g,w,S){var j=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(b,g,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case cd:return w.key===j?c(b,g,w,S):null;case qi:return w.key===j?d(b,g,w,S):null;case ra:return j=w._init,f(b,g,j(w._payload),S)}if(Ml(w)||vl(w))return j!==null?null:m(b,g,w,S,null);wd(b,w)}return null}function x(b,g,w,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return b=b.get(w)||null,l(g,b,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case cd:return b=b.get(S.key===null?w:S.key)||null,c(g,b,S,j);case qi:return b=b.get(S.key===null?w:S.key)||null,d(g,b,S,j);case ra:var k=S._init;return x(b,g,w,k(S._payload),j)}if(Ml(S)||vl(S))return b=b.get(w)||null,m(g,b,S,j,null);wd(g,S)}return null}function v(b,g,w,S){for(var j=null,k=null,R=g,F=g=0,B=null;R!==null&&F<w.length;F++){R.index>F?(B=R,R=null):B=R.sibling;var _=f(b,R,w[F],S);if(_===null){R===null&&(R=B);break}e&&R&&_.alternate===null&&t(b,R),g=i(_,g,F),k===null?j=_:k.sibling=_,k=_,R=B}if(F===w.length)return r(b,R),Et&&Ha(b,F),j;if(R===null){for(;F<w.length;F++)R=p(b,w[F],S),R!==null&&(g=i(R,g,F),k===null?j=R:k.sibling=R,k=R);return Et&&Ha(b,F),j}for(R=s(b,R);F<w.length;F++)B=x(R,b,F,w[F],S),B!==null&&(e&&B.alternate!==null&&R.delete(B.key===null?F:B.key),g=i(B,g,F),k===null?j=B:k.sibling=B,k=B);return e&&R.forEach(function(X){return t(b,X)}),Et&&Ha(b,F),j}function y(b,g,w,S){var j=vl(w);if(typeof j!="function")throw Error(ue(150));if(w=j.call(w),w==null)throw Error(ue(151));for(var k=j=null,R=g,F=g=0,B=null,_=w.next();R!==null&&!_.done;F++,_=w.next()){R.index>F?(B=R,R=null):B=R.sibling;var X=f(b,R,_.value,S);if(X===null){R===null&&(R=B);break}e&&R&&X.alternate===null&&t(b,R),g=i(X,g,F),k===null?j=X:k.sibling=X,k=X,R=B}if(_.done)return r(b,R),Et&&Ha(b,F),j;if(R===null){for(;!_.done;F++,_=w.next())_=p(b,_.value,S),_!==null&&(g=i(_,g,F),k===null?j=_:k.sibling=_,k=_);return Et&&Ha(b,F),j}for(R=s(b,R);!_.done;F++,_=w.next())_=x(R,b,F,_.value,S),_!==null&&(e&&_.alternate!==null&&R.delete(_.key===null?F:_.key),g=i(_,g,F),k===null?j=_:k.sibling=_,k=_);return e&&R.forEach(function(C){return t(b,C)}),Et&&Ha(b,F),j}function N(b,g,w,S){if(typeof w=="object"&&w!==null&&w.type===Yi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case cd:e:{for(var j=w.key,k=g;k!==null;){if(k.key===j){if(j=w.type,j===Yi){if(k.tag===7){r(b,k.sibling),g=a(k,w.props.children),g.return=b,b=g;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ra&&U0(j)===k.type){r(b,k.sibling),g=a(k,w.props),g.ref=Sl(b,k,w),g.return=b,b=g;break e}r(b,k);break}else t(b,k);k=k.sibling}w.type===Yi?(g=fi(w.props.children,b.mode,S,w.key),g.return=b,b=g):(S=Xd(w.type,w.key,w.props,null,b.mode,S),S.ref=Sl(b,g,w),S.return=b,b=S)}return o(b);case qi:e:{for(k=w.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){r(b,g.sibling),g=a(g,w.children||[]),g.return=b,b=g;break e}else{r(b,g);break}else t(b,g);g=g.sibling}g=Ph(w,b.mode,S),g.return=b,b=g}return o(b);case ra:return k=w._init,N(b,g,k(w._payload),S)}if(Ml(w))return v(b,g,w,S);if(vl(w))return y(b,g,w,S);wd(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(r(b,g.sibling),g=a(g,w),g.return=b,b=g):(r(b,g),g=kh(w,b.mode,S),g.return=b,b=g),o(b)):r(b,g)}return N}var Xo=cS(!0),dS=cS(!1),yu=Ua(null),vu=null,Ji=null,yg=null;function vg(){yg=Ji=vu=null}function wg(e){var t=yu.current;kt(yu),e._currentValue=t}function Df(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function uo(e,t){vu=e,yg=Ji=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Br=!0),e.firstContext=null)}function Cn(e){var t=e._currentValue;if(yg!==e)if(e={context:e,memoizedValue:t,next:null},Ji===null){if(vu===null)throw Error(ue(308));Ji=e,vu.dependencies={lanes:0,firstContext:e}}else Ji=Ji.next=e;return t}var ti=null;function bg(e){ti===null?ti=[e]:ti.push(e)}function uS(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,bg(t)):(r.next=a.next,a.next=r),t.interleaved=r,Vs(e,s)}function Vs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var na=!1;function jg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Sa(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,lt&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Vs(e,r)}return a=s.interleaved,a===null?(t.next=t,bg(s)):(t.next=a.next,a.next=t),s.interleaved=t,Vs(e,r)}function Ud(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,og(e,r)}}function B0(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function wu(e,t,r,s){var a=e.updateQueue;na=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var m=e.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==o&&(l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=c))}if(i!==null){var p=a.baseState;o=0,m=d=c=null,l=i;do{var f=l.lane,x=l.eventTime;if((s&f)===f){m!==null&&(m=m.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,y=l;switch(f=t,x=r,y.tag){case 1:if(v=y.payload,typeof v=="function"){p=v.call(x,p,f);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(x,p,f):v,f==null)break e;p=zt({},p,f);break e;case 2:na=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else x={eventTime:x,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(d=m=x,c=p):m=m.next=x,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(m===null&&(c=p),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=m,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);vi|=o,e.lanes=o,e.memoizedState=p}}function q0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(ue(191,a));a.call(s)}}}var Hc={},us=Ua(Hc),fc=Ua(Hc),pc=Ua(Hc);function ri(e){if(e===Hc)throw Error(ue(174));return e}function Ng(e,t){switch(wt(pc,t),wt(fc,e),wt(us,Hc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:uf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=uf(t,e)}kt(us),wt(us,t)}function Ho(){kt(us),kt(fc),kt(pc)}function hS(e){ri(pc.current);var t=ri(us.current),r=uf(t,e.type);t!==r&&(wt(fc,e),wt(us,r))}function Sg(e){fc.current===e&&(kt(us),kt(fc))}var Mt=Ua(0);function bu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wh=[];function Cg(){for(var e=0;e<wh.length;e++)wh[e]._workInProgressVersionPrimary=null;wh.length=0}var Bd=Ws.ReactCurrentDispatcher,bh=Ws.ReactCurrentBatchConfig,yi=0,Vt=null,tr=null,ir=null,ju=!1,Hl=!1,gc=0,YI=0;function xr(){throw Error(ue(321))}function kg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Gn(e[r],t[r]))return!1;return!0}function Pg(e,t,r,s,a,i){if(yi=i,Vt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bd.current=e===null||e.memoizedState===null?HI:KI,e=r(s,a),Hl){i=0;do{if(Hl=!1,gc=0,25<=i)throw Error(ue(301));i+=1,ir=tr=null,t.updateQueue=null,Bd.current=QI,e=r(s,a)}while(Hl)}if(Bd.current=Nu,t=tr!==null&&tr.next!==null,yi=0,ir=tr=Vt=null,ju=!1,t)throw Error(ue(300));return e}function Tg(){var e=gc!==0;return gc=0,e}function ts(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?Vt.memoizedState=ir=e:ir=ir.next=e,ir}function kn(){if(tr===null){var e=Vt.alternate;e=e!==null?e.memoizedState:null}else e=tr.next;var t=ir===null?Vt.memoizedState:ir.next;if(t!==null)ir=t,tr=e;else{if(e===null)throw Error(ue(310));tr=e,e={memoizedState:tr.memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},ir===null?Vt.memoizedState=ir=e:ir=ir.next=e}return ir}function xc(e,t){return typeof t=="function"?t(e):t}function jh(e){var t=kn(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var s=tr,a=s.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var m=d.lane;if((yi&m)===m)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var p={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=p,o=s):c=c.next=p,Vt.lanes|=m,vi|=m}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,Gn(s,t.memoizedState)||(Br=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Vt.lanes|=i,vi|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Nh(e){var t=kn(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Gn(i,t.memoizedState)||(Br=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function fS(){}function pS(e,t){var r=Vt,s=kn(),a=t(),i=!Gn(s.memoizedState,a);if(i&&(s.memoizedState=a,Br=!0),s=s.queue,Eg(yS.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||ir!==null&&ir.memoizedState.tag&1){if(r.flags|=2048,yc(9,xS.bind(null,r,s,a,t),void 0,null),or===null)throw Error(ue(349));yi&30||gS(r,t,a)}return a}function gS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Vt.updateQueue,t===null?(t={lastEffect:null,stores:null},Vt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function xS(e,t,r,s){t.value=r,t.getSnapshot=s,vS(t)&&wS(e)}function yS(e,t,r){return r(function(){vS(t)&&wS(e)})}function vS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Gn(e,r)}catch{return!0}}function wS(e){var t=Vs(e,1);t!==null&&Bn(t,e,1,-1)}function Y0(e){var t=ts();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xc,lastRenderedState:e},t.queue=e,e=e.dispatch=XI.bind(null,Vt,e),[t.memoizedState,e]}function yc(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=Vt.updateQueue,t===null?(t={lastEffect:null,stores:null},Vt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function bS(){return kn().memoizedState}function qd(e,t,r,s){var a=ts();Vt.flags|=e,a.memoizedState=yc(1|t,r,void 0,s===void 0?null:s)}function hm(e,t,r,s){var a=kn();s=s===void 0?null:s;var i=void 0;if(tr!==null){var o=tr.memoizedState;if(i=o.destroy,s!==null&&kg(s,o.deps)){a.memoizedState=yc(t,r,i,s);return}}Vt.flags|=e,a.memoizedState=yc(1|t,r,i,s)}function G0(e,t){return qd(8390656,8,e,t)}function Eg(e,t){return hm(2048,8,e,t)}function jS(e,t){return hm(4,2,e,t)}function NS(e,t){return hm(4,4,e,t)}function SS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function CS(e,t,r){return r=r!=null?r.concat([e]):null,hm(4,4,SS.bind(null,t,e),r)}function _g(){}function kS(e,t){var r=kn();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&kg(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function PS(e,t){var r=kn();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&kg(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function TS(e,t,r){return yi&21?(Gn(r,t)||(r=A1(),Vt.lanes|=r,vi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Br=!0),e.memoizedState=r)}function GI(e,t){var r=gt;gt=r!==0&&4>r?r:4,e(!0);var s=bh.transition;bh.transition={};try{e(!1),t()}finally{gt=r,bh.transition=s}}function ES(){return kn().memoizedState}function WI(e,t,r){var s=ka(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},_S(e))DS(t,r);else if(r=uS(e,t,r,s),r!==null){var a=Mr();Bn(r,e,s,a),IS(r,t,s)}}function XI(e,t,r){var s=ka(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(_S(e))DS(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Gn(l,o)){var c=t.interleaved;c===null?(a.next=a,bg(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=uS(e,t,a,s),r!==null&&(a=Mr(),Bn(r,e,s,a),IS(r,t,s))}}function _S(e){var t=e.alternate;return e===Vt||t!==null&&t===Vt}function DS(e,t){Hl=ju=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function IS(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,og(e,r)}}var Nu={readContext:Cn,useCallback:xr,useContext:xr,useEffect:xr,useImperativeHandle:xr,useInsertionEffect:xr,useLayoutEffect:xr,useMemo:xr,useReducer:xr,useRef:xr,useState:xr,useDebugValue:xr,useDeferredValue:xr,useTransition:xr,useMutableSource:xr,useSyncExternalStore:xr,useId:xr,unstable_isNewReconciler:!1},HI={readContext:Cn,useCallback:function(e,t){return ts().memoizedState=[e,t===void 0?null:t],e},useContext:Cn,useEffect:G0,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,qd(4194308,4,SS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return qd(4194308,4,e,t)},useInsertionEffect:function(e,t){return qd(4,2,e,t)},useMemo:function(e,t){var r=ts();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=ts();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=WI.bind(null,Vt,e),[s.memoizedState,e]},useRef:function(e){var t=ts();return e={current:e},t.memoizedState=e},useState:Y0,useDebugValue:_g,useDeferredValue:function(e){return ts().memoizedState=e},useTransition:function(){var e=Y0(!1),t=e[0];return e=GI.bind(null,e[1]),ts().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=Vt,a=ts();if(Et){if(r===void 0)throw Error(ue(407));r=r()}else{if(r=t(),or===null)throw Error(ue(349));yi&30||gS(s,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,G0(yS.bind(null,s,i,e),[e]),s.flags|=2048,yc(9,xS.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=ts(),t=or.identifierPrefix;if(Et){var r=Rs,s=As;r=(s&~(1<<32-Un(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=gc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=YI++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},KI={readContext:Cn,useCallback:kS,useContext:Cn,useEffect:Eg,useImperativeHandle:CS,useInsertionEffect:jS,useLayoutEffect:NS,useMemo:PS,useReducer:jh,useRef:bS,useState:function(){return jh(xc)},useDebugValue:_g,useDeferredValue:function(e){var t=kn();return TS(t,tr.memoizedState,e)},useTransition:function(){var e=jh(xc)[0],t=kn().memoizedState;return[e,t]},useMutableSource:fS,useSyncExternalStore:pS,useId:ES,unstable_isNewReconciler:!1},QI={readContext:Cn,useCallback:kS,useContext:Cn,useEffect:Eg,useImperativeHandle:CS,useInsertionEffect:jS,useLayoutEffect:NS,useMemo:PS,useReducer:Nh,useRef:bS,useState:function(){return Nh(xc)},useDebugValue:_g,useDeferredValue:function(e){var t=kn();return tr===null?t.memoizedState=e:TS(t,tr.memoizedState,e)},useTransition:function(){var e=Nh(xc)[0],t=kn().memoizedState;return[e,t]},useMutableSource:fS,useSyncExternalStore:pS,useId:ES,unstable_isNewReconciler:!1};function An(e,t){if(e&&e.defaultProps){t=zt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function If(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:zt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var fm={isMounted:function(e){return(e=e._reactInternals)?Ii(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Mr(),a=ka(e),i=Fs(s,a);i.payload=t,r!=null&&(i.callback=r),t=Sa(e,i,a),t!==null&&(Bn(t,e,a,s),Ud(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Mr(),a=ka(e),i=Fs(s,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Sa(e,i,a),t!==null&&(Bn(t,e,a,s),Ud(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Mr(),s=ka(e),a=Fs(r,s);a.tag=2,t!=null&&(a.callback=t),t=Sa(e,a,s),t!==null&&(Bn(t,e,s,r),Ud(t,e,s))}};function W0(e,t,r,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!dc(r,s)||!dc(a,i):!0}function AS(e,t,r){var s=!1,a=_a,i=t.contextType;return typeof i=="object"&&i!==null?i=Cn(i):(a=Wr(t)?gi:Nr.current,s=t.contextTypes,i=(s=s!=null)?Go(e,a):_a),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fm,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function X0(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&fm.enqueueReplaceState(t,t.state,null)}function Af(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},jg(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Cn(i):(i=Wr(t)?gi:Nr.current,a.context=Go(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(If(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&fm.enqueueReplaceState(a,a.state,null),wu(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ko(e,t){try{var r="",s=t;do r+=C5(s),s=s.return;while(s);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Sh(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Rf(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ZI=typeof WeakMap=="function"?WeakMap:Map;function RS(e,t,r){r=Fs(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Cu||(Cu=!0,qf=s),Rf(e,t)},r}function MS(e,t,r){r=Fs(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){Rf(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Rf(e,t),typeof s!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function H0(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new ZI;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=mA.bind(null,e,t,r),t.then(e,e))}function K0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Q0(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Fs(-1,1),t.tag=2,Sa(r,t,1))),r.lanes|=1),e)}var JI=Ws.ReactCurrentOwner,Br=!1;function _r(e,t,r,s){t.child=e===null?dS(t,null,r,s):Xo(t,e.child,r,s)}function Z0(e,t,r,s,a){r=r.render;var i=t.ref;return uo(t,a),s=Pg(e,t,r,s,i,a),r=Tg(),e!==null&&!Br?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,zs(e,t,a)):(Et&&r&&pg(t),t.flags|=1,_r(e,t,s,a),t.child)}function J0(e,t,r,s,a){if(e===null){var i=r.type;return typeof i=="function"&&!Lg(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,FS(e,t,i,s,a)):(e=Xd(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:dc,r(o,s)&&e.ref===t.ref)return zs(e,t,a)}return t.flags|=1,e=Pa(i,s),e.ref=t.ref,e.return=t,t.child=e}function FS(e,t,r,s,a){if(e!==null){var i=e.memoizedProps;if(dc(i,s)&&e.ref===t.ref)if(Br=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(Br=!0);else return t.lanes=e.lanes,zs(e,t,a)}return Mf(e,t,r,s,a)}function OS(e,t,r){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(to,Zr),Zr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,wt(to,Zr),Zr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,wt(to,Zr),Zr|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,wt(to,Zr),Zr|=s;return _r(e,t,a,r),t.child}function LS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Mf(e,t,r,s,a){var i=Wr(r)?gi:Nr.current;return i=Go(t,i),uo(t,a),r=Pg(e,t,r,s,i,a),s=Tg(),e!==null&&!Br?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,zs(e,t,a)):(Et&&s&&pg(t),t.flags|=1,_r(e,t,r,a),t.child)}function ey(e,t,r,s,a){if(Wr(r)){var i=!0;pu(t)}else i=!1;if(uo(t,a),t.stateNode===null)Yd(e,t),AS(t,r,s),Af(t,r,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Cn(d):(d=Wr(r)?gi:Nr.current,d=Go(t,d));var m=r.getDerivedStateFromProps,p=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&X0(t,o,s,d),na=!1;var f=t.memoizedState;o.state=f,wu(t,s,o,a),c=t.memoizedState,l!==s||f!==c||Gr.current||na?(typeof m=="function"&&(If(t,r,m,s),c=t.memoizedState),(l=na||W0(t,r,l,s,f,c,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,mS(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:An(t.type,l),o.props=d,p=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Cn(c):(c=Wr(r)?gi:Nr.current,c=Go(t,c));var x=r.getDerivedStateFromProps;(m=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||f!==c)&&X0(t,o,s,c),na=!1,f=t.memoizedState,o.state=f,wu(t,s,o,a);var v=t.memoizedState;l!==p||f!==v||Gr.current||na?(typeof x=="function"&&(If(t,r,x,s),v=t.memoizedState),(d=na||W0(t,r,d,s,f,v,c)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=v),o.props=s,o.state=v,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return Ff(e,t,r,s,i,a)}function Ff(e,t,r,s,a,i){LS(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&$0(t,r,!1),zs(e,t,i);s=t.stateNode,JI.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Xo(t,e.child,null,i),t.child=Xo(t,null,l,i)):_r(e,t,l,i),t.memoizedState=s.state,a&&$0(t,r,!0),t.child}function $S(e){var t=e.stateNode;t.pendingContext?L0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&L0(e,t.context,!1),Ng(e,t.containerInfo)}function ty(e,t,r,s,a){return Wo(),xg(a),t.flags|=256,_r(e,t,r,s),t.child}var Of={dehydrated:null,treeContext:null,retryLane:0};function Lf(e){return{baseLanes:e,cachePool:null,transitions:null}}function VS(e,t,r){var s=t.pendingProps,a=Mt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),wt(Mt,a&1),e===null)return _f(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=xm(o,s,0,null),e=fi(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Lf(r),t.memoizedState=Of,e):Dg(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return eA(e,t,o,s,l,a,r);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=Pa(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Pa(l,i):(i=fi(i,o,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?Lf(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Of,s}return i=e.child,e=i.sibling,s=Pa(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Dg(e,t){return t=xm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bd(e,t,r,s){return s!==null&&xg(s),Xo(t,e.child,null,r),e=Dg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function eA(e,t,r,s,a,i,o){if(r)return t.flags&256?(t.flags&=-257,s=Sh(Error(ue(422))),bd(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=xm({mode:"visible",children:s.children},a,0,null),i=fi(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&Xo(t,e.child,null,o),t.child.memoizedState=Lf(o),t.memoizedState=Of,i);if(!(t.mode&1))return bd(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(ue(419)),s=Sh(i,s,void 0),bd(e,t,o,s)}if(l=(o&e.childLanes)!==0,Br||l){if(s=or,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Vs(e,a),Bn(s,e,a,-1))}return Og(),s=Sh(Error(ue(421))),bd(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=hA.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,sn=Na(a.nextSibling),an=t,Et=!0,On=null,e!==null&&(vn[wn++]=As,vn[wn++]=Rs,vn[wn++]=xi,As=e.id,Rs=e.overflow,xi=t),t=Dg(t,s.children),t.flags|=4096,t)}function ry(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Df(e.return,t,r)}function Ch(e,t,r,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=a)}function zS(e,t,r){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(_r(e,t,s.children,r),s=Mt.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ry(e,r,t);else if(e.tag===19)ry(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(wt(Mt,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&bu(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Ch(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&bu(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Ch(t,!0,r,null,i);break;case"together":Ch(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),vi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ue(153));if(t.child!==null){for(e=t.child,r=Pa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Pa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function tA(e,t,r){switch(t.tag){case 3:$S(t),Wo();break;case 5:hS(t);break;case 1:Wr(t.type)&&pu(t);break;case 4:Ng(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;wt(yu,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(wt(Mt,Mt.current&1),t.flags|=128,null):r&t.child.childLanes?VS(e,t,r):(wt(Mt,Mt.current&1),e=zs(e,t,r),e!==null?e.sibling:null);wt(Mt,Mt.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return zS(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),wt(Mt,Mt.current),s)break;return null;case 22:case 23:return t.lanes=0,OS(e,t,r)}return zs(e,t,r)}var US,$f,BS,qS;US=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};$f=function(){};BS=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,ri(us.current);var i=null;switch(r){case"input":a=of(e,a),s=of(e,s),i=[];break;case"select":a=zt({},a,{value:void 0}),s=zt({},s,{value:void 0}),i=[];break;case"textarea":a=df(e,a),s=df(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=hu)}mf(r,s);var o;r=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(nc.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(nc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ct("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};qS=function(e,t,r,s){r!==s&&(t.flags|=4)};function Cl(e,t){if(!Et)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function yr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function rA(e,t,r){var s=t.pendingProps;switch(gg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yr(t),null;case 1:return Wr(t.type)&&fu(),yr(t),null;case 3:return s=t.stateNode,Ho(),kt(Gr),kt(Nr),Cg(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(vd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,On!==null&&(Wf(On),On=null))),$f(e,t),yr(t),null;case 5:Sg(t);var a=ri(pc.current);if(r=t.type,e!==null&&t.stateNode!=null)BS(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(ue(166));return yr(t),null}if(e=ri(us.current),vd(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[is]=t,s[hc]=i,e=(t.mode&1)!==0,r){case"dialog":Ct("cancel",s),Ct("close",s);break;case"iframe":case"object":case"embed":Ct("load",s);break;case"video":case"audio":for(a=0;a<Ol.length;a++)Ct(Ol[a],s);break;case"source":Ct("error",s);break;case"img":case"image":case"link":Ct("error",s),Ct("load",s);break;case"details":Ct("toggle",s);break;case"input":u0(s,i),Ct("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Ct("invalid",s);break;case"textarea":h0(s,i),Ct("invalid",s)}mf(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&yd(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&yd(s.textContent,l,e),a=["children",""+l]):nc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ct("scroll",s)}switch(r){case"input":dd(s),m0(s,i,!0);break;case"textarea":dd(s),f0(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=hu)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=y1(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),r==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[is]=t,e[hc]=s,US(e,t,!1,!1),t.stateNode=e;e:{switch(o=hf(r,s),r){case"dialog":Ct("cancel",e),Ct("close",e),a=s;break;case"iframe":case"object":case"embed":Ct("load",e),a=s;break;case"video":case"audio":for(a=0;a<Ol.length;a++)Ct(Ol[a],e);a=s;break;case"source":Ct("error",e),a=s;break;case"img":case"image":case"link":Ct("error",e),Ct("load",e),a=s;break;case"details":Ct("toggle",e),a=s;break;case"input":u0(e,s),a=of(e,s),Ct("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=zt({},s,{value:void 0}),Ct("invalid",e);break;case"textarea":h0(e,s),a=df(e,s),Ct("invalid",e);break;default:a=s}mf(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?b1(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&v1(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&sc(e,c):typeof c=="number"&&sc(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(nc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ct("scroll",e):c!=null&&tg(e,i,c,o))}switch(r){case"input":dd(e),m0(e,s,!1);break;case"textarea":dd(e),f0(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Ea(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?io(e,!!s.multiple,i,!1):s.defaultValue!=null&&io(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=hu)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yr(t),null;case 6:if(e&&t.stateNode!=null)qS(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(ue(166));if(r=ri(pc.current),ri(us.current),vd(t)){if(s=t.stateNode,r=t.memoizedProps,s[is]=t,(i=s.nodeValue!==r)&&(e=an,e!==null))switch(e.tag){case 3:yd(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yd(s.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[is]=t,t.stateNode=s}return yr(t),null;case 13:if(kt(Mt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Et&&sn!==null&&t.mode&1&&!(t.flags&128))lS(),Wo(),t.flags|=98560,i=!1;else if(i=vd(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(ue(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ue(317));i[is]=t}else Wo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;yr(t),i=!1}else On!==null&&(Wf(On),On=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Mt.current&1?nr===0&&(nr=3):Og())),t.updateQueue!==null&&(t.flags|=4),yr(t),null);case 4:return Ho(),$f(e,t),e===null&&uc(t.stateNode.containerInfo),yr(t),null;case 10:return wg(t.type._context),yr(t),null;case 17:return Wr(t.type)&&fu(),yr(t),null;case 19:if(kt(Mt),i=t.memoizedState,i===null)return yr(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)Cl(i,!1);else{if(nr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=bu(e),o!==null){for(t.flags|=128,Cl(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return wt(Mt,Mt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Wt()>Qo&&(t.flags|=128,s=!0,Cl(i,!1),t.lanes=4194304)}else{if(!s)if(e=bu(o),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Cl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Et)return yr(t),null}else 2*Wt()-i.renderingStartTime>Qo&&r!==1073741824&&(t.flags|=128,s=!0,Cl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Wt(),t.sibling=null,r=Mt.current,wt(Mt,s?r&1|2:r&1),t):(yr(t),null);case 22:case 23:return Fg(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Zr&1073741824&&(yr(t),t.subtreeFlags&6&&(t.flags|=8192)):yr(t),null;case 24:return null;case 25:return null}throw Error(ue(156,t.tag))}function nA(e,t){switch(gg(t),t.tag){case 1:return Wr(t.type)&&fu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ho(),kt(Gr),kt(Nr),Cg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Sg(t),null;case 13:if(kt(Mt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ue(340));Wo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return kt(Mt),null;case 4:return Ho(),null;case 10:return wg(t.type._context),null;case 22:case 23:return Fg(),null;case 24:return null;default:return null}}var jd=!1,wr=!1,sA=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function eo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Bt(e,t,s)}else r.current=null}function Vf(e,t,r){try{r()}catch(s){Bt(e,t,s)}}var ny=!1;function aA(e,t){if(Nf=du,e=H1(),fg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,m=0,p=e,f=null;t:for(;;){for(var x;p!==r||a!==0&&p.nodeType!==3||(l=o+a),p!==i||s!==0&&p.nodeType!==3||(c=o+s),p.nodeType===3&&(o+=p.nodeValue.length),(x=p.firstChild)!==null;)f=p,p=x;for(;;){if(p===e)break t;if(f===r&&++d===a&&(l=o),f===i&&++m===s&&(c=o),(x=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=x}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Sf={focusedElem:e,selectionRange:r},du=!1,Ce=t;Ce!==null;)if(t=Ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ce=e;else for(;Ce!==null;){t=Ce;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,N=v.memoizedState,b=t.stateNode,g=b.getSnapshotBeforeUpdate(t.elementType===t.type?y:An(t.type,y),N);b.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(S){Bt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Ce=e;break}Ce=t.return}return v=ny,ny=!1,v}function Kl(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Vf(t,r,i)}a=a.next}while(a!==s)}}function pm(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function zf(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function YS(e){var t=e.alternate;t!==null&&(e.alternate=null,YS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[is],delete t[hc],delete t[Pf],delete t[zI],delete t[UI])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function GS(e){return e.tag===5||e.tag===3||e.tag===4}function sy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||GS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uf(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=hu));else if(s!==4&&(e=e.child,e!==null))for(Uf(e,t,r),e=e.sibling;e!==null;)Uf(e,t,r),e=e.sibling}function Bf(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Bf(e,t,r),e=e.sibling;e!==null;)Bf(e,t,r),e=e.sibling}var ur=null,Fn=!1;function Ks(e,t,r){for(r=r.child;r!==null;)WS(e,t,r),r=r.sibling}function WS(e,t,r){if(ds&&typeof ds.onCommitFiberUnmount=="function")try{ds.onCommitFiberUnmount(om,r)}catch{}switch(r.tag){case 5:wr||eo(r,t);case 6:var s=ur,a=Fn;ur=null,Ks(e,t,r),ur=s,Fn=a,ur!==null&&(Fn?(e=ur,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ur.removeChild(r.stateNode));break;case 18:ur!==null&&(Fn?(e=ur,r=r.stateNode,e.nodeType===8?yh(e.parentNode,r):e.nodeType===1&&yh(e,r),lc(e)):yh(ur,r.stateNode));break;case 4:s=ur,a=Fn,ur=r.stateNode.containerInfo,Fn=!0,Ks(e,t,r),ur=s,Fn=a;break;case 0:case 11:case 14:case 15:if(!wr&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Vf(r,t,o),a=a.next}while(a!==s)}Ks(e,t,r);break;case 1:if(!wr&&(eo(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){Bt(r,t,l)}Ks(e,t,r);break;case 21:Ks(e,t,r);break;case 22:r.mode&1?(wr=(s=wr)||r.memoizedState!==null,Ks(e,t,r),wr=s):Ks(e,t,r);break;default:Ks(e,t,r)}}function ay(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new sA),t.forEach(function(s){var a=fA.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function Dn(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ur=l.stateNode,Fn=!1;break e;case 3:ur=l.stateNode.containerInfo,Fn=!0;break e;case 4:ur=l.stateNode.containerInfo,Fn=!0;break e}l=l.return}if(ur===null)throw Error(ue(160));WS(i,o,a),ur=null,Fn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Bt(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)XS(t,e),t=t.sibling}function XS(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dn(t,e),Jn(e),s&4){try{Kl(3,e,e.return),pm(3,e)}catch(y){Bt(e,e.return,y)}try{Kl(5,e,e.return)}catch(y){Bt(e,e.return,y)}}break;case 1:Dn(t,e),Jn(e),s&512&&r!==null&&eo(r,r.return);break;case 5:if(Dn(t,e),Jn(e),s&512&&r!==null&&eo(r,r.return),e.flags&32){var a=e.stateNode;try{sc(a,"")}catch(y){Bt(e,e.return,y)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&g1(a,i),hf(l,o);var d=hf(l,i);for(o=0;o<c.length;o+=2){var m=c[o],p=c[o+1];m==="style"?b1(a,p):m==="dangerouslySetInnerHTML"?v1(a,p):m==="children"?sc(a,p):tg(a,m,p,d)}switch(l){case"input":lf(a,i);break;case"textarea":x1(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?io(a,!!i.multiple,x,!1):f!==!!i.multiple&&(i.defaultValue!=null?io(a,!!i.multiple,i.defaultValue,!0):io(a,!!i.multiple,i.multiple?[]:"",!1))}a[hc]=i}catch(y){Bt(e,e.return,y)}}break;case 6:if(Dn(t,e),Jn(e),s&4){if(e.stateNode===null)throw Error(ue(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(y){Bt(e,e.return,y)}}break;case 3:if(Dn(t,e),Jn(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{lc(t.containerInfo)}catch(y){Bt(e,e.return,y)}break;case 4:Dn(t,e),Jn(e);break;case 13:Dn(t,e),Jn(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Rg=Wt())),s&4&&ay(e);break;case 22:if(m=r!==null&&r.memoizedState!==null,e.mode&1?(wr=(d=wr)||m,Dn(t,e),wr=d):Dn(t,e),Jn(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!m&&e.mode&1)for(Ce=e,m=e.child;m!==null;){for(p=Ce=m;Ce!==null;){switch(f=Ce,x=f.child,f.tag){case 0:case 11:case 14:case 15:Kl(4,f,f.return);break;case 1:eo(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){s=f,r=f.return;try{t=s,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Bt(s,r,y)}}break;case 5:eo(f,f.return);break;case 22:if(f.memoizedState!==null){oy(p);continue}}x!==null?(x.return=f,Ce=x):oy(p)}m=m.sibling}e:for(m=null,p=e;;){if(p.tag===5){if(m===null){m=p;try{a=p.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=w1("display",o))}catch(y){Bt(e,e.return,y)}}}else if(p.tag===6){if(m===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(y){Bt(e,e.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;m===p&&(m=null),p=p.return}m===p&&(m=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Dn(t,e),Jn(e),s&4&&ay(e);break;case 21:break;default:Dn(t,e),Jn(e)}}function Jn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(GS(r)){var s=r;break e}r=r.return}throw Error(ue(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(sc(a,""),s.flags&=-33);var i=sy(e);Bf(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=sy(e);Uf(e,l,o);break;default:throw Error(ue(161))}}catch(c){Bt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function iA(e,t,r){Ce=e,HS(e)}function HS(e,t,r){for(var s=(e.mode&1)!==0;Ce!==null;){var a=Ce,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||jd;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||wr;l=jd;var d=wr;if(jd=o,(wr=c)&&!d)for(Ce=a;Ce!==null;)o=Ce,c=o.child,o.tag===22&&o.memoizedState!==null?ly(a):c!==null?(c.return=o,Ce=c):ly(a);for(;i!==null;)Ce=i,HS(i),i=i.sibling;Ce=a,jd=l,wr=d}iy(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ce=i):iy(e)}}function iy(e){for(;Ce!==null;){var t=Ce;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:wr||pm(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!wr)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:An(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&q0(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}q0(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var p=m.dehydrated;p!==null&&lc(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}wr||t.flags&512&&zf(t)}catch(f){Bt(t,t.return,f)}}if(t===e){Ce=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ce=r;break}Ce=t.return}}function oy(e){for(;Ce!==null;){var t=Ce;if(t===e){Ce=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ce=r;break}Ce=t.return}}function ly(e){for(;Ce!==null;){var t=Ce;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{pm(4,t)}catch(c){Bt(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){Bt(t,a,c)}}var i=t.return;try{zf(t)}catch(c){Bt(t,i,c)}break;case 5:var o=t.return;try{zf(t)}catch(c){Bt(t,o,c)}}}catch(c){Bt(t,t.return,c)}if(t===e){Ce=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ce=l;break}Ce=t.return}}var oA=Math.ceil,Su=Ws.ReactCurrentDispatcher,Ig=Ws.ReactCurrentOwner,jn=Ws.ReactCurrentBatchConfig,lt=0,or=null,Qt=null,hr=0,Zr=0,to=Ua(0),nr=0,vc=null,vi=0,gm=0,Ag=0,Ql=null,Ur=null,Rg=0,Qo=1/0,ks=null,Cu=!1,qf=null,Ca=null,Nd=!1,ya=null,ku=0,Zl=0,Yf=null,Gd=-1,Wd=0;function Mr(){return lt&6?Wt():Gd!==-1?Gd:Gd=Wt()}function ka(e){return e.mode&1?lt&2&&hr!==0?hr&-hr:qI.transition!==null?(Wd===0&&(Wd=A1()),Wd):(e=gt,e!==0||(e=window.event,e=e===void 0?16:V1(e.type)),e):1}function Bn(e,t,r,s){if(50<Zl)throw Zl=0,Yf=null,Error(ue(185));Gc(e,r,s),(!(lt&2)||e!==or)&&(e===or&&(!(lt&2)&&(gm|=r),nr===4&&ia(e,hr)),Xr(e,s),r===1&&lt===0&&!(t.mode&1)&&(Qo=Wt()+500,mm&&Ba()))}function Xr(e,t){var r=e.callbackNode;q5(e,t);var s=cu(e,e===or?hr:0);if(s===0)r!==null&&x0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&x0(r),t===1)e.tag===0?BI(cy.bind(null,e)):aS(cy.bind(null,e)),$I(function(){!(lt&6)&&Ba()}),r=null;else{switch(R1(s)){case 1:r=ig;break;case 4:r=D1;break;case 16:r=lu;break;case 536870912:r=I1;break;default:r=lu}r=n2(r,KS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function KS(e,t){if(Gd=-1,Wd=0,lt&6)throw Error(ue(327));var r=e.callbackNode;if(mo()&&e.callbackNode!==r)return null;var s=cu(e,e===or?hr:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Pu(e,s);else{t=s;var a=lt;lt|=2;var i=ZS();(or!==e||hr!==t)&&(ks=null,Qo=Wt()+500,hi(e,t));do try{dA();break}catch(l){QS(e,l)}while(!0);vg(),Su.current=i,lt=a,Qt!==null?t=0:(or=null,hr=0,t=nr)}if(t!==0){if(t===2&&(a=yf(e),a!==0&&(s=a,t=Gf(e,a))),t===1)throw r=vc,hi(e,0),ia(e,s),Xr(e,Wt()),r;if(t===6)ia(e,s);else{if(a=e.current.alternate,!(s&30)&&!lA(a)&&(t=Pu(e,s),t===2&&(i=yf(e),i!==0&&(s=i,t=Gf(e,i))),t===1))throw r=vc,hi(e,0),ia(e,s),Xr(e,Wt()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(ue(345));case 2:Ka(e,Ur,ks);break;case 3:if(ia(e,s),(s&130023424)===s&&(t=Rg+500-Wt(),10<t)){if(cu(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Mr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=kf(Ka.bind(null,e,Ur,ks),t);break}Ka(e,Ur,ks);break;case 4:if(ia(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-Un(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=Wt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*oA(s/1960))-s,10<s){e.timeoutHandle=kf(Ka.bind(null,e,Ur,ks),s);break}Ka(e,Ur,ks);break;case 5:Ka(e,Ur,ks);break;default:throw Error(ue(329))}}}return Xr(e,Wt()),e.callbackNode===r?KS.bind(null,e):null}function Gf(e,t){var r=Ql;return e.current.memoizedState.isDehydrated&&(hi(e,t).flags|=256),e=Pu(e,t),e!==2&&(t=Ur,Ur=r,t!==null&&Wf(t)),e}function Wf(e){Ur===null?Ur=e:Ur.push.apply(Ur,e)}function lA(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],i=a.getSnapshot;a=a.value;try{if(!Gn(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ia(e,t){for(t&=~Ag,t&=~gm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Un(t),s=1<<r;e[r]=-1,t&=~s}}function cy(e){if(lt&6)throw Error(ue(327));mo();var t=cu(e,0);if(!(t&1))return Xr(e,Wt()),null;var r=Pu(e,t);if(e.tag!==0&&r===2){var s=yf(e);s!==0&&(t=s,r=Gf(e,s))}if(r===1)throw r=vc,hi(e,0),ia(e,t),Xr(e,Wt()),r;if(r===6)throw Error(ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ka(e,Ur,ks),Xr(e,Wt()),null}function Mg(e,t){var r=lt;lt|=1;try{return e(t)}finally{lt=r,lt===0&&(Qo=Wt()+500,mm&&Ba())}}function wi(e){ya!==null&&ya.tag===0&&!(lt&6)&&mo();var t=lt;lt|=1;var r=jn.transition,s=gt;try{if(jn.transition=null,gt=1,e)return e()}finally{gt=s,jn.transition=r,lt=t,!(lt&6)&&Ba()}}function Fg(){Zr=to.current,kt(to)}function hi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,LI(r)),Qt!==null)for(r=Qt.return;r!==null;){var s=r;switch(gg(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&fu();break;case 3:Ho(),kt(Gr),kt(Nr),Cg();break;case 5:Sg(s);break;case 4:Ho();break;case 13:kt(Mt);break;case 19:kt(Mt);break;case 10:wg(s.type._context);break;case 22:case 23:Fg()}r=r.return}if(or=e,Qt=e=Pa(e.current,null),hr=Zr=t,nr=0,vc=null,Ag=gm=vi=0,Ur=Ql=null,ti!==null){for(t=0;t<ti.length;t++)if(r=ti[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}r.pending=s}ti=null}return e}function QS(e,t){do{var r=Qt;try{if(vg(),Bd.current=Nu,ju){for(var s=Vt.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}ju=!1}if(yi=0,ir=tr=Vt=null,Hl=!1,gc=0,Ig.current=null,r===null||r.return===null){nr=1,vc=t,Qt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=hr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,m=l,p=m.tag;if(!(m.mode&1)&&(p===0||p===11||p===15)){var f=m.alternate;f?(m.updateQueue=f.updateQueue,m.memoizedState=f.memoizedState,m.lanes=f.lanes):(m.updateQueue=null,m.memoizedState=null)}var x=K0(o);if(x!==null){x.flags&=-257,Q0(x,o,l,i,t),x.mode&1&&H0(i,d,t),t=x,c=d;var v=t.updateQueue;if(v===null){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}else{if(!(t&1)){H0(i,d,t),Og();break e}c=Error(ue(426))}}else if(Et&&l.mode&1){var N=K0(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Q0(N,o,l,i,t),xg(Ko(c,l));break e}}i=c=Ko(c,l),nr!==4&&(nr=2),Ql===null?Ql=[i]:Ql.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=RS(i,c,t);B0(i,b);break e;case 1:l=c;var g=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ca===null||!Ca.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=MS(i,l,t);B0(i,S);break e}}i=i.return}while(i!==null)}e2(r)}catch(j){t=j,Qt===r&&r!==null&&(Qt=r=r.return);continue}break}while(!0)}function ZS(){var e=Su.current;return Su.current=Nu,e===null?Nu:e}function Og(){(nr===0||nr===3||nr===2)&&(nr=4),or===null||!(vi&268435455)&&!(gm&268435455)||ia(or,hr)}function Pu(e,t){var r=lt;lt|=2;var s=ZS();(or!==e||hr!==t)&&(ks=null,hi(e,t));do try{cA();break}catch(a){QS(e,a)}while(!0);if(vg(),lt=r,Su.current=s,Qt!==null)throw Error(ue(261));return or=null,hr=0,nr}function cA(){for(;Qt!==null;)JS(Qt)}function dA(){for(;Qt!==null&&!M5();)JS(Qt)}function JS(e){var t=r2(e.alternate,e,Zr);e.memoizedProps=e.pendingProps,t===null?e2(e):Qt=t,Ig.current=null}function e2(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=nA(r,t),r!==null){r.flags&=32767,Qt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{nr=6,Qt=null;return}}else if(r=rA(r,t,Zr),r!==null){Qt=r;return}if(t=t.sibling,t!==null){Qt=t;return}Qt=t=e}while(t!==null);nr===0&&(nr=5)}function Ka(e,t,r){var s=gt,a=jn.transition;try{jn.transition=null,gt=1,uA(e,t,r,s)}finally{jn.transition=a,gt=s}return null}function uA(e,t,r,s){do mo();while(ya!==null);if(lt&6)throw Error(ue(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ue(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Y5(e,i),e===or&&(Qt=or=null,hr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Nd||(Nd=!0,n2(lu,function(){return mo(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=jn.transition,jn.transition=null;var o=gt;gt=1;var l=lt;lt|=4,Ig.current=null,aA(e,r),XS(r,e),DI(Sf),du=!!Nf,Sf=Nf=null,e.current=r,iA(r),F5(),lt=l,gt=o,jn.transition=i}else e.current=r;if(Nd&&(Nd=!1,ya=e,ku=a),i=e.pendingLanes,i===0&&(Ca=null),$5(r.stateNode),Xr(e,Wt()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(Cu)throw Cu=!1,e=qf,qf=null,e;return ku&1&&e.tag!==0&&mo(),i=e.pendingLanes,i&1?e===Yf?Zl++:(Zl=0,Yf=e):Zl=0,Ba(),null}function mo(){if(ya!==null){var e=R1(ku),t=jn.transition,r=gt;try{if(jn.transition=null,gt=16>e?16:e,ya===null)var s=!1;else{if(e=ya,ya=null,ku=0,lt&6)throw Error(ue(331));var a=lt;for(lt|=4,Ce=e.current;Ce!==null;){var i=Ce,o=i.child;if(Ce.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Ce=d;Ce!==null;){var m=Ce;switch(m.tag){case 0:case 11:case 15:Kl(8,m,i)}var p=m.child;if(p!==null)p.return=m,Ce=p;else for(;Ce!==null;){m=Ce;var f=m.sibling,x=m.return;if(YS(m),m===d){Ce=null;break}if(f!==null){f.return=x,Ce=f;break}Ce=x}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var N=y.sibling;y.sibling=null,y=N}while(y!==null)}}Ce=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ce=o;else e:for(;Ce!==null;){if(i=Ce,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Kl(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,Ce=b;break e}Ce=i.return}}var g=e.current;for(Ce=g;Ce!==null;){o=Ce;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ce=w;else e:for(o=g;Ce!==null;){if(l=Ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:pm(9,l)}}catch(j){Bt(l,l.return,j)}if(l===o){Ce=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,Ce=S;break e}Ce=l.return}}if(lt=a,Ba(),ds&&typeof ds.onPostCommitFiberRoot=="function")try{ds.onPostCommitFiberRoot(om,e)}catch{}s=!0}return s}finally{gt=r,jn.transition=t}}return!1}function dy(e,t,r){t=Ko(r,t),t=RS(e,t,1),e=Sa(e,t,1),t=Mr(),e!==null&&(Gc(e,1,t),Xr(e,t))}function Bt(e,t,r){if(e.tag===3)dy(e,e,r);else for(;t!==null;){if(t.tag===3){dy(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ca===null||!Ca.has(s))){e=Ko(r,e),e=MS(t,e,1),t=Sa(t,e,1),e=Mr(),t!==null&&(Gc(t,1,e),Xr(t,e));break}}t=t.return}}function mA(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Mr(),e.pingedLanes|=e.suspendedLanes&r,or===e&&(hr&r)===r&&(nr===4||nr===3&&(hr&130023424)===hr&&500>Wt()-Rg?hi(e,0):Ag|=r),Xr(e,t)}function t2(e,t){t===0&&(e.mode&1?(t=hd,hd<<=1,!(hd&130023424)&&(hd=4194304)):t=1);var r=Mr();e=Vs(e,t),e!==null&&(Gc(e,t,r),Xr(e,r))}function hA(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),t2(e,r)}function fA(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(ue(314))}s!==null&&s.delete(t),t2(e,r)}var r2;r2=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gr.current)Br=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Br=!1,tA(e,t,r);Br=!!(e.flags&131072)}else Br=!1,Et&&t.flags&1048576&&iS(t,xu,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Yd(e,t),e=t.pendingProps;var a=Go(t,Nr.current);uo(t,r),a=Pg(null,t,s,e,a,r);var i=Tg();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wr(s)?(i=!0,pu(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,jg(t),a.updater=fm,t.stateNode=a,a._reactInternals=t,Af(t,s,e,r),t=Ff(null,t,s,!0,i,r)):(t.tag=0,Et&&i&&pg(t),_r(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Yd(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=gA(s),e=An(s,e),a){case 0:t=Mf(null,t,s,e,r);break e;case 1:t=ey(null,t,s,e,r);break e;case 11:t=Z0(null,t,s,e,r);break e;case 14:t=J0(null,t,s,An(s.type,e),r);break e}throw Error(ue(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:An(s,a),Mf(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:An(s,a),ey(e,t,s,a,r);case 3:e:{if($S(t),e===null)throw Error(ue(387));s=t.pendingProps,i=t.memoizedState,a=i.element,mS(e,t),wu(t,s,null,r);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Ko(Error(ue(423)),t),t=ty(e,t,s,r,a);break e}else if(s!==a){a=Ko(Error(ue(424)),t),t=ty(e,t,s,r,a);break e}else for(sn=Na(t.stateNode.containerInfo.firstChild),an=t,Et=!0,On=null,r=dS(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wo(),s===a){t=zs(e,t,r);break e}_r(e,t,s,r)}t=t.child}return t;case 5:return hS(t),e===null&&_f(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Cf(s,a)?o=null:i!==null&&Cf(s,i)&&(t.flags|=32),LS(e,t),_r(e,t,o,r),t.child;case 6:return e===null&&_f(t),null;case 13:return VS(e,t,r);case 4:return Ng(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Xo(t,null,s,r):_r(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:An(s,a),Z0(e,t,s,a,r);case 7:return _r(e,t,t.pendingProps,r),t.child;case 8:return _r(e,t,t.pendingProps.children,r),t.child;case 12:return _r(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,wt(yu,s._currentValue),s._currentValue=o,i!==null)if(Gn(i.value,o)){if(i.children===a.children&&!Gr.current){t=zs(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Fs(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?c.next=c:(c.next=m.next,m.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Df(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ue(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Df(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_r(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,uo(t,r),a=Cn(a),s=s(a),t.flags|=1,_r(e,t,s,r),t.child;case 14:return s=t.type,a=An(s,t.pendingProps),a=An(s.type,a),J0(e,t,s,a,r);case 15:return FS(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:An(s,a),Yd(e,t),t.tag=1,Wr(s)?(e=!0,pu(t)):e=!1,uo(t,r),AS(t,s,a),Af(t,s,a,r),Ff(null,t,s,!0,e,r);case 19:return zS(e,t,r);case 22:return OS(e,t,r)}throw Error(ue(156,t.tag))};function n2(e,t){return _1(e,t)}function pA(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(e,t,r,s){return new pA(e,t,r,s)}function Lg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gA(e){if(typeof e=="function")return Lg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ng)return 11;if(e===sg)return 14}return 2}function Pa(e,t){var r=e.alternate;return r===null?(r=bn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Xd(e,t,r,s,a,i){var o=2;if(s=e,typeof e=="function")Lg(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Yi:return fi(r.children,a,i,t);case rg:o=8,a|=8;break;case rf:return e=bn(12,r,t,a|2),e.elementType=rf,e.lanes=i,e;case nf:return e=bn(13,r,t,a),e.elementType=nf,e.lanes=i,e;case sf:return e=bn(19,r,t,a),e.elementType=sf,e.lanes=i,e;case h1:return xm(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case u1:o=10;break e;case m1:o=9;break e;case ng:o=11;break e;case sg:o=14;break e;case ra:o=16,s=null;break e}throw Error(ue(130,e==null?e:typeof e,""))}return t=bn(o,r,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function fi(e,t,r,s){return e=bn(7,e,s,t),e.lanes=r,e}function xm(e,t,r,s){return e=bn(22,e,s,t),e.elementType=h1,e.lanes=r,e.stateNode={isHidden:!1},e}function kh(e,t,r){return e=bn(6,e,null,t),e.lanes=r,e}function Ph(e,t,r){return t=bn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xA(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oh(0),this.expirationTimes=oh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oh(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function $g(e,t,r,s,a,i,o,l,c){return e=new xA(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=bn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},jg(i),e}function yA(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qi,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function s2(e){if(!e)return _a;e=e._reactInternals;e:{if(Ii(e)!==e||e.tag!==1)throw Error(ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ue(171))}if(e.tag===1){var r=e.type;if(Wr(r))return sS(e,r,t)}return t}function a2(e,t,r,s,a,i,o,l,c){return e=$g(r,s,!0,e,a,i,o,l,c),e.context=s2(null),r=e.current,s=Mr(),a=ka(r),i=Fs(s,a),i.callback=t??null,Sa(r,i,a),e.current.lanes=a,Gc(e,a,s),Xr(e,s),e}function ym(e,t,r,s){var a=t.current,i=Mr(),o=ka(a);return r=s2(r),t.context===null?t.context=r:t.pendingContext=r,t=Fs(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Sa(a,t,o),e!==null&&(Bn(e,a,o,i),Ud(e,a,o)),o}function Tu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Vg(e,t){uy(e,t),(e=e.alternate)&&uy(e,t)}function vA(){return null}var i2=typeof reportError=="function"?reportError:function(e){console.error(e)};function zg(e){this._internalRoot=e}vm.prototype.render=zg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ue(409));ym(e,t,null,null)};vm.prototype.unmount=zg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wi(function(){ym(null,e,null,null)}),t[$s]=null}};function vm(e){this._internalRoot=e}vm.prototype.unstable_scheduleHydration=function(e){if(e){var t=O1();e={blockedOn:null,target:e,priority:t};for(var r=0;r<aa.length&&t!==0&&t<aa[r].priority;r++);aa.splice(r,0,e),r===0&&$1(e)}};function Ug(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function my(){}function wA(e,t,r,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=Tu(o);i.call(d)}}var o=a2(t,s,e,0,null,!1,!1,"",my);return e._reactRootContainer=o,e[$s]=o.current,uc(e.nodeType===8?e.parentNode:e),wi(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=Tu(c);l.call(d)}}var c=$g(e,0,!1,null,null,!1,!1,"",my);return e._reactRootContainer=c,e[$s]=c.current,uc(e.nodeType===8?e.parentNode:e),wi(function(){ym(t,c,r,s)}),c}function bm(e,t,r,s,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Tu(o);l.call(c)}}ym(t,o,e,a)}else o=wA(r,t,e,a,s);return Tu(o)}M1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Fl(t.pendingLanes);r!==0&&(og(t,r|1),Xr(t,Wt()),!(lt&6)&&(Qo=Wt()+500,Ba()))}break;case 13:wi(function(){var s=Vs(e,1);if(s!==null){var a=Mr();Bn(s,e,1,a)}}),Vg(e,1)}};lg=function(e){if(e.tag===13){var t=Vs(e,134217728);if(t!==null){var r=Mr();Bn(t,e,134217728,r)}Vg(e,134217728)}};F1=function(e){if(e.tag===13){var t=ka(e),r=Vs(e,t);if(r!==null){var s=Mr();Bn(r,e,t,s)}Vg(e,t)}};O1=function(){return gt};L1=function(e,t){var r=gt;try{return gt=e,t()}finally{gt=r}};pf=function(e,t,r){switch(t){case"input":if(lf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=um(s);if(!a)throw Error(ue(90));p1(s),lf(s,a)}}}break;case"textarea":x1(e,r);break;case"select":t=r.value,t!=null&&io(e,!!r.multiple,t,!1)}};S1=Mg;C1=wi;var bA={usingClientEntryPoint:!1,Events:[Xc,Hi,um,j1,N1,Mg]},kl={findFiberByHostInstance:ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jA={bundleType:kl.bundleType,version:kl.version,rendererPackageName:kl.rendererPackageName,rendererConfig:kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ws.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=T1(e),e===null?null:e.stateNode},findFiberByHostInstance:kl.findFiberByHostInstance||vA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sd.isDisabled&&Sd.supportsFiber)try{om=Sd.inject(jA),ds=Sd}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bA;mn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ug(t))throw Error(ue(200));return yA(e,t,null,r)};mn.createRoot=function(e,t){if(!Ug(e))throw Error(ue(299));var r=!1,s="",a=i2;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=$g(e,1,!1,null,null,r,!1,s,a),e[$s]=t.current,uc(e.nodeType===8?e.parentNode:e),new zg(t)};mn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ue(188)):(e=Object.keys(e).join(","),Error(ue(268,e)));return e=T1(t),e=e===null?null:e.stateNode,e};mn.flushSync=function(e){return wi(e)};mn.hydrate=function(e,t,r){if(!wm(t))throw Error(ue(200));return bm(null,e,t,!0,r)};mn.hydrateRoot=function(e,t,r){if(!Ug(e))throw Error(ue(405));var s=r!=null&&r.hydratedSources||null,a=!1,i="",o=i2;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=a2(t,null,e,1,r??null,a,!1,i,o),e[$s]=t.current,uc(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new vm(t)};mn.render=function(e,t,r){if(!wm(t))throw Error(ue(200));return bm(null,e,t,!1,r)};mn.unmountComponentAtNode=function(e){if(!wm(e))throw Error(ue(40));return e._reactRootContainer?(wi(function(){bm(null,null,e,!1,function(){e._reactRootContainer=null,e[$s]=null})}),!0):!1};mn.unstable_batchedUpdates=Mg;mn.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!wm(r))throw Error(ue(200));if(e==null||e._reactInternals===void 0)throw Error(ue(38));return bm(e,t,r,!1,s)};mn.version="18.3.1-next-f1338f8080-20240426";function o2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o2)}catch(e){console.error(e)}}o2(),o1.exports=mn;var Ai=o1.exports;const NA=XN(Ai);var l2,hy=Ai;l2=hy.createRoot,hy.hydrateRoot;function SA(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,s,a,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)r=a[0],r==="*"?(o.push(r),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(s=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~s?s:~i?i:a.length)),l+=~s&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~s?"?":"")+"\\"+a.substring(i))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var c2={exports:{}},d2={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zo=h;function CA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kA=typeof Object.is=="function"?Object.is:CA,PA=Zo.useState,TA=Zo.useEffect,EA=Zo.useLayoutEffect,_A=Zo.useDebugValue;function DA(e,t){var r=t(),s=PA({inst:{value:r,getSnapshot:t}}),a=s[0].inst,i=s[1];return EA(function(){a.value=r,a.getSnapshot=t,Th(a)&&i({inst:a})},[e,r,t]),TA(function(){return Th(a)&&i({inst:a}),e(function(){Th(a)&&i({inst:a})})},[e]),_A(r),r}function Th(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!kA(e,r)}catch{return!0}}function IA(e,t){return t()}var AA=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?IA:DA;d2.useSyncExternalStore=Zo.useSyncExternalStore!==void 0?Zo.useSyncExternalStore:AA;c2.exports=d2;var RA=c2.exports;const MA=a1.useInsertionEffect,FA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OA=FA?h.useLayoutEffect:h.useEffect,LA=MA||OA,u2=e=>{const t=h.useRef([e,(...r)=>t[0](...r)]).current;return LA(()=>{t[0]=e}),t[1]},$A="popstate",Bg="pushState",qg="replaceState",VA="hashchange",fy=[$A,Bg,qg,VA],zA=e=>{for(const t of fy)addEventListener(t,e);return()=>{for(const t of fy)removeEventListener(t,e)}},m2=(e,t)=>RA.useSyncExternalStore(zA,e,t),UA=()=>location.search,BA=({ssrSearch:e=""}={})=>m2(UA,()=>e),py=()=>location.pathname,qA=({ssrPath:e}={})=>m2(py,e?()=>e:py),YA=(e,{replace:t=!1,state:r=null}={})=>history[t?qg:Bg](r,"",e),GA=(e={})=>[qA(e),YA],gy=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[gy]>"u"){for(const e of[Bg,qg]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),s=new Event(e);return s.arguments=arguments,dispatchEvent(s),r}}Object.defineProperty(window,gy,{value:!0})}const WA=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",h2=(e="")=>e==="/"?"":e,XA=(e,t)=>e[0]==="~"?e.slice(1):h2(t)+e,HA=(e="",t)=>WA(xy(h2(e)),xy(t)),xy=e=>{try{return decodeURI(e)}catch{return e}},f2={hook:GA,searchHook:BA,parser:SA,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},p2=h.createContext(f2),Kc=()=>h.useContext(p2),g2={},x2=h.createContext(g2),qa=()=>h.useContext(x2),jm=e=>{const[t,r]=e.hook(e);return[HA(e.base,t),u2((s,a)=>r(XA(s,e.base),a))]},Zt=()=>jm(Kc()),y2=(e,t,r,s)=>{const{pattern:a,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",s),o=a.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((p,f)=>[p,c[f]])):o.groups;let m={...c};return d&&Object.assign(m,d),m})(),...s?[l]:[]]:[!1,null]},KA=({children:e,...t})=>{var m,p;const r=Kc(),s=t.hook?f2:r;let a=s;const[i,o]=((m=t.ssrPath)==null?void 0:m.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((p=t.hook)==null?void 0:p.hrefs);let l=h.useRef({}),c=l.current,d=c;for(let f in s){const x=f==="base"?s[f]+(t[f]||""):t[f]||s[f];c===d&&x!==d[f]&&(l.current=d={...d}),d[f]=x,x!==s[f]&&(a=d)}return h.createElement(p2.Provider,{value:a,children:e})},yy=({children:e,component:t},r)=>t?h.createElement(t,{params:r}):typeof e=="function"?e(r):e,QA=e=>{let t=h.useRef(g2),r=t.current;for(const s in e)e[s]!==r[s]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},ft=({path:e,nest:t,match:r,...s})=>{const a=Kc(),[i]=jm(a),[o,l,c]=r??y2(a.parser,e,i,t),d=QA({...qa(),...l});if(!o)return null;const m=c?h.createElement(KA,{base:c},yy(s,d)):yy(s,d);return h.createElement(x2.Provider,{value:d,children:m})},Be=h.forwardRef((e,t)=>{const r=Kc(),[s,a]=jm(r),{to:i="",href:o=i,onClick:l,asChild:c,children:d,className:m,replace:p,state:f,...x}=e,v=u2(N=>{N.ctrlKey||N.metaKey||N.altKey||N.shiftKey||N.button!==0||(l==null||l(N),N.defaultPrevented||(N.preventDefault(),a(o,e)))}),y=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&h.isValidElement(d)?h.cloneElement(d,{onClick:v,href:y}):h.createElement("a",{...x,onClick:v,href:y,className:m!=null&&m.call?m(s===o):m,children:d,ref:t})}),v2=e=>Array.isArray(e)?e.flatMap(t=>v2(t&&t.type===h.Fragment?t.props.children:t)):[e],ZA=({children:e,location:t})=>{const r=Kc(),[s]=jm(r);for(const a of v2(e)){let i=0;if(h.isValidElement(a)&&(i=y2(r.parser,a.props.path,t||s,a.props.nest))[0])return h.cloneElement(a,{match:i})}return null};var cl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bi=typeof window>"u"||"Deno"in globalThis;function xn(){}function JA(e,t){return typeof e=="function"?e(t):e}function Xf(e){return typeof e=="number"&&e>=0&&e!==1/0}function w2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ho(e,t){return typeof e=="function"?e(t):e}function Ln(e,t){return typeof e=="function"?e(t):e}function vy(e,t){const{type:r="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==Yg(o,t.options))return!1}else if(!wc(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function wy(e,t){const{exact:r,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(ji(t.options.mutationKey)!==ji(i))return!1}else if(!wc(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function Yg(e,t){return((t==null?void 0:t.queryKeyHashFn)||ji)(e)}function ji(e){return JSON.stringify(e,(t,r)=>Hf(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):r)}function wc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!wc(e[r],t[r])):!1}function b2(e,t){if(e===t)return e;const r=by(e)&&by(t);if(r||Hf(e)&&Hf(t)){const s=r?e:Object.keys(e),a=s.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let c=0;for(let d=0;d<o;d++){const m=r?d:i[d];(!r&&s.includes(m)||r)&&e[m]===void 0&&t[m]===void 0?(l[m]=void 0,c++):(l[m]=b2(e[m],t[m]),l[m]===e[m]&&e[m]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function Eu(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function by(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Hf(e){if(!jy(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!jy(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function jy(e){return Object.prototype.toString.call(e)==="[object Object]"}function eR(e){return new Promise(t=>{setTimeout(t,e)})}function Kf(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?b2(e,t):t}function tR(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function rR(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var Gg=Symbol();function j2(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Gg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ii,la,Io,rw,nR=(rw=class extends cl{constructor(){super();Le(this,ii);Le(this,la);Le(this,Io);je(this,Io,t=>{if(!bi&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){V(this,la)||this.setEventListener(V(this,Io))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,la))==null||t.call(this),je(this,la,void 0))}setEventListener(t){var r;je(this,Io,t),(r=V(this,la))==null||r.call(this),je(this,la,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){V(this,ii)!==t&&(je(this,ii,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof V(this,ii)=="boolean"?V(this,ii):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ii=new WeakMap,la=new WeakMap,Io=new WeakMap,rw),Wg=new nR,Ao,ca,Ro,nw,sR=(nw=class extends cl{constructor(){super();Le(this,Ao,!0);Le(this,ca);Le(this,Ro);je(this,Ro,t=>{if(!bi&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){V(this,ca)||this.setEventListener(V(this,Ro))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,ca))==null||t.call(this),je(this,ca,void 0))}setEventListener(t){var r;je(this,Ro,t),(r=V(this,ca))==null||r.call(this),je(this,ca,t(this.setOnline.bind(this)))}setOnline(t){V(this,Ao)!==t&&(je(this,Ao,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return V(this,Ao)}},Ao=new WeakMap,ca=new WeakMap,Ro=new WeakMap,nw),_u=new sR;function Qf(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function s(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},r.reject=a=>{s({status:"rejected",reason:a}),t(a)},r}function aR(e){return Math.min(1e3*2**e,3e4)}function N2(e){return(e??"online")==="online"?_u.isOnline():!0}var S2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Eh(e){return e instanceof S2}function C2(e){let t=!1,r=0,s=!1,a;const i=Qf(),o=y=>{var N;s||(f(new S2(y)),(N=e.abort)==null||N.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>Wg.isFocused()&&(e.networkMode==="always"||_u.isOnline())&&e.canRun(),m=()=>N2(e.networkMode)&&e.canRun(),p=y=>{var N;s||(s=!0,(N=e.onSuccess)==null||N.call(e,y),a==null||a(),i.resolve(y))},f=y=>{var N;s||(s=!0,(N=e.onError)==null||N.call(e,y),a==null||a(),i.reject(y))},x=()=>new Promise(y=>{var N;a=b=>{(s||d())&&y(b)},(N=e.onPause)==null||N.call(e)}).then(()=>{var y;a=void 0,s||(y=e.onContinue)==null||y.call(e)}),v=()=>{if(s)return;let y;const N=r===0?e.initialPromise:void 0;try{y=N??e.fn()}catch(b){y=Promise.reject(b)}Promise.resolve(y).then(p).catch(b=>{var k;if(s)return;const g=e.retry??(bi?0:3),w=e.retryDelay??aR,S=typeof w=="function"?w(r,b):w,j=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,b);if(t||!j){f(b);return}r++,(k=e.onFail)==null||k.call(e,r,b),eR(S).then(()=>d()?void 0:x()).then(()=>{t?f(b):v()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:m,start:()=>(m()?v():x().then(v),i)}}function iR(){let e=[],t=0,r=l=>{l()},s=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var rr=iR(),oi,sw,k2=(sw=class{constructor(){Le(this,oi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Xf(this.gcTime)&&je(this,oi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(bi?1/0:5*60*1e3))}clearGcTimeout(){V(this,oi)&&(clearTimeout(V(this,oi)),je(this,oi,void 0))}},oi=new WeakMap,sw),Mo,Fo,gn,vr,zc,li,Mn,Ns,aw,oR=(aw=class extends k2{constructor(t){super();Le(this,Mn);Le(this,Mo);Le(this,Fo);Le(this,gn);Le(this,vr);Le(this,zc);Le(this,li);je(this,li,!1),je(this,zc,t.defaultOptions),this.setOptions(t.options),this.observers=[],je(this,gn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,je(this,Mo,lR(this.options)),this.state=t.state??V(this,Mo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=V(this,vr))==null?void 0:t.promise}setOptions(t){this.options={...V(this,zc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,gn).remove(this)}setData(t,r){const s=Kf(this.state.data,t,this.options);return Je(this,Mn,Ns).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){Je(this,Mn,Ns).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,a;const r=(s=V(this,vr))==null?void 0:s.promise;return(a=V(this,vr))==null||a.cancel(t),r?r.then(xn).catch(xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,Mo))}isActive(){return this.observers.some(t=>Ln(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Gg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!w2(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=V(this,vr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=V(this,vr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),V(this,gn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(V(this,vr)&&(V(this,li)?V(this,vr).cancel({revert:!0}):V(this,vr).cancelRetry()),this.scheduleGc()),V(this,gn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Je(this,Mn,Ns).call(this,{type:"invalidate"})}fetch(t,r){var c,d,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(V(this,vr))return V(this,vr).continueRetry(),V(this,vr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(f=>f.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,a=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(je(this,li,!0),s.signal)})},i=()=>{const p=j2(this.options,r),f={queryKey:this.queryKey,meta:this.meta};return a(f),je(this,li,!1),this.options.persister?this.options.persister(p,f,this):p(f)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),je(this,Fo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Je(this,Mn,Ns).call(this,{type:"fetch",meta:(m=o.fetchOptions)==null?void 0:m.meta});const l=p=>{var f,x,v,y;Eh(p)&&p.silent||Je(this,Mn,Ns).call(this,{type:"error",error:p}),Eh(p)||((x=(f=V(this,gn).config).onError)==null||x.call(f,p,this),(y=(v=V(this,gn).config).onSettled)==null||y.call(v,this.state.data,p,this)),this.scheduleGc()};return je(this,vr,C2({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var f,x,v,y;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(N){l(N);return}(x=(f=V(this,gn).config).onSuccess)==null||x.call(f,p,this),(y=(v=V(this,gn).config).onSettled)==null||y.call(v,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,f)=>{Je(this,Mn,Ns).call(this,{type:"failed",failureCount:p,error:f})},onPause:()=>{Je(this,Mn,Ns).call(this,{type:"pause"})},onContinue:()=>{Je(this,Mn,Ns).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),V(this,vr).start()}},Mo=new WeakMap,Fo=new WeakMap,gn=new WeakMap,vr=new WeakMap,zc=new WeakMap,li=new WeakMap,Mn=new WeakSet,Ns=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...P2(s.data,this.options),fetchMeta:t.meta??null};case"success":return{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Eh(a)&&a.revert&&V(this,Fo)?{...V(this,Fo),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),rr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),V(this,gn).notify({query:this,type:"updated",action:t})})},aw);function P2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:N2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function lR(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var rs,iw,cR=(iw=class extends cl{constructor(t={}){super();Le(this,rs);this.config=t,je(this,rs,new Map)}build(t,r,s){const a=r.queryKey,i=r.queryHash??Yg(a,r);let o=this.get(i);return o||(o=new oR({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){V(this,rs).has(t.queryHash)||(V(this,rs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=V(this,rs).get(t.queryHash);r&&(t.destroy(),r===t&&V(this,rs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){rr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return V(this,rs).get(t)}getAll(){return[...V(this,rs).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>vy(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>vy(t,s)):r}notify(t){rr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){rr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){rr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},rs=new WeakMap,iw),ns,Pr,ci,ss,ea,ow,dR=(ow=class extends k2{constructor(t){super();Le(this,ss);Le(this,ns);Le(this,Pr);Le(this,ci);this.mutationId=t.mutationId,je(this,Pr,t.mutationCache),je(this,ns,[]),this.state=t.state||T2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){V(this,ns).includes(t)||(V(this,ns).push(t),this.clearGcTimeout(),V(this,Pr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){je(this,ns,V(this,ns).filter(r=>r!==t)),this.scheduleGc(),V(this,Pr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){V(this,ns).length||(this.state.status==="pending"?this.scheduleGc():V(this,Pr).remove(this))}continue(){var t;return((t=V(this,ci))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,l,c,d,m,p,f,x,v,y,N,b,g,w,S,j,k,R;je(this,ci,C2({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(F,B)=>{Je(this,ss,ea).call(this,{type:"failed",failureCount:F,error:B})},onPause:()=>{Je(this,ss,ea).call(this,{type:"pause"})},onContinue:()=>{Je(this,ss,ea).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,Pr).canRun(this)}));const r=this.state.status==="pending",s=!V(this,ci).canStart();try{if(!r){Je(this,ss,ea).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(a=V(this,Pr).config).onMutate)==null?void 0:i.call(a,t,this));const B=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));B!==this.state.context&&Je(this,ss,ea).call(this,{type:"pending",context:B,variables:t,isPaused:s})}const F=await V(this,ci).start();return await((d=(c=V(this,Pr).config).onSuccess)==null?void 0:d.call(c,F,t,this.state.context,this)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,F,t,this.state.context)),await((x=(f=V(this,Pr).config).onSettled)==null?void 0:x.call(f,F,null,this.state.variables,this.state.context,this)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,F,null,t,this.state.context)),Je(this,ss,ea).call(this,{type:"success",data:F}),F}catch(F){try{throw await((b=(N=V(this,Pr).config).onError)==null?void 0:b.call(N,F,t,this.state.context,this)),await((w=(g=this.options).onError)==null?void 0:w.call(g,F,t,this.state.context)),await((j=(S=V(this,Pr).config).onSettled)==null?void 0:j.call(S,void 0,F,this.state.variables,this.state.context,this)),await((R=(k=this.options).onSettled)==null?void 0:R.call(k,void 0,F,t,this.state.context)),F}finally{Je(this,ss,ea).call(this,{type:"error",error:F})}}finally{V(this,Pr).runNext(this)}}},ns=new WeakMap,Pr=new WeakMap,ci=new WeakMap,ss=new WeakSet,ea=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),rr.batch(()=>{V(this,ns).forEach(s=>{s.onMutationUpdate(t)}),V(this,Pr).notify({mutation:this,type:"updated",action:t})})},ow);function T2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qr,Uc,lw,uR=(lw=class extends cl{constructor(t={}){super();Le(this,Qr);Le(this,Uc);this.config=t,je(this,Qr,new Map),je(this,Uc,Date.now())}build(t,r,s){const a=new dR({mutationCache:this,mutationId:++od(this,Uc)._,options:t.defaultMutationOptions(r),state:s});return this.add(a),a}add(t){const r=Cd(t),s=V(this,Qr).get(r)??[];s.push(t),V(this,Qr).set(r,s),this.notify({type:"added",mutation:t})}remove(t){var s;const r=Cd(t);if(V(this,Qr).has(r)){const a=(s=V(this,Qr).get(r))==null?void 0:s.filter(i=>i!==t);a&&(a.length===0?V(this,Qr).delete(r):V(this,Qr).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var s;const r=(s=V(this,Qr).get(Cd(t)))==null?void 0:s.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var s;const r=(s=V(this,Qr).get(Cd(t)))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){rr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...V(this,Qr).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(s=>wy(r,s))}findAll(t={}){return this.getAll().filter(r=>wy(t,r))}notify(t){rr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return rr.batch(()=>Promise.all(t.map(r=>r.continue().catch(xn))))}},Qr=new WeakMap,Uc=new WeakMap,lw);function Cd(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Ny(e){return{onFetch:(t,r)=>{var m,p,f,x,v;const s=t.options,a=(f=(p=(m=t.fetchOptions)==null?void 0:m.meta)==null?void 0:p.fetchMore)==null?void 0:f.direction,i=((x=t.state.data)==null?void 0:x.pages)||[],o=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let y=!1;const N=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},b=j2(t.options,t.fetchOptions),g=async(w,S,j)=>{if(y)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const k={queryKey:t.queryKey,pageParam:S,direction:j?"backward":"forward",meta:t.options.meta};N(k);const R=await b(k),{maxPages:F}=t.options,B=j?rR:tR;return{pages:B(w.pages,R,F),pageParams:B(w.pageParams,S,F)}};if(a&&i.length){const w=a==="backward",S=w?mR:Sy,j={pages:i,pageParams:o},k=S(s,j);l=await g(j,k,w)}else{const w=e??i.length;do{const S=c===0?o[0]??s.initialPageParam:Sy(s,l);if(c>0&&S==null)break;l=await g(l,S),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var y,N;return(N=(y=t.options).persister)==null?void 0:N.call(y,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function Sy(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function mR(e,{pages:t,pageParams:r}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,r[0],r):void 0}var Ut,da,ua,Oo,Lo,ma,$o,Vo,cw,hR=(cw=class{constructor(e={}){Le(this,Ut);Le(this,da);Le(this,ua);Le(this,Oo);Le(this,Lo);Le(this,ma);Le(this,$o);Le(this,Vo);je(this,Ut,e.queryCache||new cR),je(this,da,e.mutationCache||new uR),je(this,ua,e.defaultOptions||{}),je(this,Oo,new Map),je(this,Lo,new Map),je(this,ma,0)}mount(){od(this,ma)._++,V(this,ma)===1&&(je(this,$o,Wg.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,Ut).onFocus())})),je(this,Vo,_u.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,Ut).onOnline())})))}unmount(){var e,t;od(this,ma)._--,V(this,ma)===0&&((e=V(this,$o))==null||e.call(this),je(this,$o,void 0),(t=V(this,Vo))==null||t.call(this),je(this,Vo,void 0))}isFetching(e){return V(this,Ut).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return V(this,da).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=V(this,Ut).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),s=V(this,Ut).build(this,r);return e.revalidateIfStale&&s.isStaleByTime(ho(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return V(this,Ut).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),a=V(this,Ut).get(s.queryHash),i=a==null?void 0:a.state.data,o=JA(t,i);if(o!==void 0)return V(this,Ut).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return rr.batch(()=>V(this,Ut).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=V(this,Ut).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=V(this,Ut);rr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=V(this,Ut),s={type:"active",...e};return rr.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(s,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},s=rr.batch(()=>V(this,Ut).findAll(e).map(a=>a.cancel(r)));return Promise.all(s).then(xn).catch(xn)}invalidateQueries(e={},t={}){return rr.batch(()=>{if(V(this,Ut).findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},s=rr.batch(()=>V(this,Ut).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(xn)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(xn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=V(this,Ut).build(this,t);return r.isStaleByTime(ho(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(xn).catch(xn)}fetchInfiniteQuery(e){return e.behavior=Ny(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(xn).catch(xn)}ensureInfiniteQueryData(e){return e.behavior=Ny(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return _u.isOnline()?V(this,da).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,Ut)}getMutationCache(){return V(this,da)}getDefaultOptions(){return V(this,ua)}setDefaultOptions(e){je(this,ua,e)}setQueryDefaults(e,t){V(this,Oo).set(ji(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...V(this,Oo).values()];let r={};return t.forEach(s=>{wc(e,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(e,t){V(this,Lo).set(ji(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...V(this,Lo).values()];let r={};return t.forEach(s=>{wc(e,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...V(this,ua).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Yg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Gg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...V(this,ua).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){V(this,Ut).clear(),V(this,da).clear()}},Ut=new WeakMap,da=new WeakMap,ua=new WeakMap,Oo=new WeakMap,Lo=new WeakMap,ma=new WeakMap,$o=new WeakMap,Vo=new WeakMap,cw),Vr,nt,Bc,Tr,di,zo,ha,as,qc,Uo,Bo,ui,mi,fa,qo,mt,Ll,Zf,Jf,ep,tp,rp,np,sp,E2,dw,fR=(dw=class extends cl{constructor(t,r){super();Le(this,mt);Le(this,Vr);Le(this,nt);Le(this,Bc);Le(this,Tr);Le(this,di);Le(this,zo);Le(this,ha);Le(this,as);Le(this,qc);Le(this,Uo);Le(this,Bo);Le(this,ui);Le(this,mi);Le(this,fa);Le(this,qo,new Set);this.options=r,je(this,Vr,t),je(this,as,null),je(this,ha,Qf()),this.options.experimental_prefetchInRender||V(this,ha).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(V(this,nt).addObserver(this),Cy(V(this,nt),this.options)?Je(this,mt,Ll).call(this):this.updateResult(),Je(this,mt,tp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ap(V(this,nt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ap(V(this,nt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Je(this,mt,rp).call(this),Je(this,mt,np).call(this),V(this,nt).removeObserver(this)}setOptions(t,r){const s=this.options,a=V(this,nt);if(this.options=V(this,Vr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ln(this.options.enabled,V(this,nt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Je(this,mt,sp).call(this),V(this,nt).setOptions(this.options),s._defaulted&&!Eu(this.options,s)&&V(this,Vr).getQueryCache().notify({type:"observerOptionsUpdated",query:V(this,nt),observer:this});const i=this.hasListeners();i&&ky(V(this,nt),a,this.options,s)&&Je(this,mt,Ll).call(this),this.updateResult(r),i&&(V(this,nt)!==a||Ln(this.options.enabled,V(this,nt))!==Ln(s.enabled,V(this,nt))||ho(this.options.staleTime,V(this,nt))!==ho(s.staleTime,V(this,nt)))&&Je(this,mt,Zf).call(this);const o=Je(this,mt,Jf).call(this);i&&(V(this,nt)!==a||Ln(this.options.enabled,V(this,nt))!==Ln(s.enabled,V(this,nt))||o!==V(this,fa))&&Je(this,mt,ep).call(this,o)}getOptimisticResult(t){const r=V(this,Vr).getQueryCache().build(V(this,Vr),t),s=this.createResult(r,t);return gR(this,s)&&(je(this,Tr,s),je(this,zo,this.options),je(this,di,V(this,nt).state)),s}getCurrentResult(){return V(this,Tr)}trackResult(t,r){const s={};return Object.keys(t).forEach(a=>{Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),s}trackProp(t){V(this,qo).add(t)}getCurrentQuery(){return V(this,nt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=V(this,Vr).defaultQueryOptions(t),s=V(this,Vr).getQueryCache().build(V(this,Vr),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(t){return Je(this,mt,Ll).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),V(this,Tr)))}createResult(t,r){var F;const s=V(this,nt),a=this.options,i=V(this,Tr),o=V(this,di),l=V(this,zo),d=t!==s?t.state:V(this,Bc),{state:m}=t;let p={...m},f=!1,x;if(r._optimisticResults){const B=this.hasListeners(),_=!B&&Cy(t,r),X=B&&ky(t,s,r,a);(_||X)&&(p={...p,...P2(m.data,t.options)}),r._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:v,errorUpdatedAt:y,status:N}=p;if(r.select&&p.data!==void 0)if(i&&p.data===(o==null?void 0:o.data)&&r.select===V(this,qc))x=V(this,Uo);else try{je(this,qc,r.select),x=r.select(p.data),x=Kf(i==null?void 0:i.data,x,r),je(this,Uo,x),je(this,as,null)}catch(B){je(this,as,B)}else x=p.data;if(r.placeholderData!==void 0&&x===void 0&&N==="pending"){let B;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))B=i.data;else if(B=typeof r.placeholderData=="function"?r.placeholderData((F=V(this,Bo))==null?void 0:F.state.data,V(this,Bo)):r.placeholderData,r.select&&B!==void 0)try{B=r.select(B),je(this,as,null)}catch(_){je(this,as,_)}B!==void 0&&(N="success",x=Kf(i==null?void 0:i.data,B,r),f=!0)}V(this,as)&&(v=V(this,as),x=V(this,Uo),y=Date.now(),N="error");const b=p.fetchStatus==="fetching",g=N==="pending",w=N==="error",S=g&&b,j=x!==void 0,R={status:N,fetchStatus:p.fetchStatus,isPending:g,isSuccess:N==="success",isError:w,isInitialLoading:S,isLoading:S,data:x,dataUpdatedAt:p.dataUpdatedAt,error:v,errorUpdatedAt:y,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>d.dataUpdateCount||p.errorUpdateCount>d.errorUpdateCount,isFetching:b,isRefetching:b&&!g,isLoadingError:w&&!j,isPaused:p.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&j,isStale:Xg(t,r),refetch:this.refetch,promise:V(this,ha)};if(this.options.experimental_prefetchInRender){const B=C=>{R.status==="error"?C.reject(R.error):R.data!==void 0&&C.resolve(R.data)},_=()=>{const C=je(this,ha,R.promise=Qf());B(C)},X=V(this,ha);switch(X.status){case"pending":t.queryHash===s.queryHash&&B(X);break;case"fulfilled":(R.status==="error"||R.data!==X.value)&&_();break;case"rejected":(R.status!=="error"||R.error!==X.reason)&&_();break}}return R}updateResult(t){const r=V(this,Tr),s=this.createResult(V(this,nt),this.options);if(je(this,di,V(this,nt).state),je(this,zo,this.options),V(this,di).data!==void 0&&je(this,Bo,V(this,nt)),Eu(s,r))return;je(this,Tr,s);const a={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!V(this,qo).size)return!0;const c=new Set(l??V(this,qo));return this.options.throwOnError&&c.add("error"),Object.keys(V(this,Tr)).some(d=>{const m=d;return V(this,Tr)[m]!==r[m]&&c.has(m)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),Je(this,mt,E2).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Je(this,mt,tp).call(this)}},Vr=new WeakMap,nt=new WeakMap,Bc=new WeakMap,Tr=new WeakMap,di=new WeakMap,zo=new WeakMap,ha=new WeakMap,as=new WeakMap,qc=new WeakMap,Uo=new WeakMap,Bo=new WeakMap,ui=new WeakMap,mi=new WeakMap,fa=new WeakMap,qo=new WeakMap,mt=new WeakSet,Ll=function(t){Je(this,mt,sp).call(this);let r=V(this,nt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(xn)),r},Zf=function(){Je(this,mt,rp).call(this);const t=ho(this.options.staleTime,V(this,nt));if(bi||V(this,Tr).isStale||!Xf(t))return;const s=w2(V(this,Tr).dataUpdatedAt,t)+1;je(this,ui,setTimeout(()=>{V(this,Tr).isStale||this.updateResult()},s))},Jf=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(V(this,nt)):this.options.refetchInterval)??!1},ep=function(t){Je(this,mt,np).call(this),je(this,fa,t),!(bi||Ln(this.options.enabled,V(this,nt))===!1||!Xf(V(this,fa))||V(this,fa)===0)&&je(this,mi,setInterval(()=>{(this.options.refetchIntervalInBackground||Wg.isFocused())&&Je(this,mt,Ll).call(this)},V(this,fa)))},tp=function(){Je(this,mt,Zf).call(this),Je(this,mt,ep).call(this,Je(this,mt,Jf).call(this))},rp=function(){V(this,ui)&&(clearTimeout(V(this,ui)),je(this,ui,void 0))},np=function(){V(this,mi)&&(clearInterval(V(this,mi)),je(this,mi,void 0))},sp=function(){const t=V(this,Vr).getQueryCache().build(V(this,Vr),this.options);if(t===V(this,nt))return;const r=V(this,nt);je(this,nt,t),je(this,Bc,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},E2=function(t){rr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(V(this,Tr))}),V(this,Vr).getQueryCache().notify({query:V(this,nt),type:"observerResultsUpdated"})})},dw);function pR(e,t){return Ln(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Cy(e,t){return pR(e,t)||e.state.data!==void 0&&ap(e,t,t.refetchOnMount)}function ap(e,t,r){if(Ln(t.enabled,e)!==!1){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&Xg(e,t)}return!1}function ky(e,t,r,s){return(e!==t||Ln(s.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Xg(e,r)}function Xg(e,t){return Ln(t.enabled,e)!==!1&&e.isStaleByTime(ho(t.staleTime,e))}function gR(e,t){return!Eu(e.getCurrentResult(),t)}var pa,ga,zr,Ds,Os,Hd,ip,uw,xR=(uw=class extends cl{constructor(r,s){super();Le(this,Os);Le(this,pa);Le(this,ga);Le(this,zr);Le(this,Ds);je(this,pa,r),this.setOptions(s),this.bindMethods(),Je(this,Os,Hd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const s=this.options;this.options=V(this,pa).defaultMutationOptions(r),Eu(this.options,s)||V(this,pa).getMutationCache().notify({type:"observerOptionsUpdated",mutation:V(this,zr),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&ji(s.mutationKey)!==ji(this.options.mutationKey)?this.reset():((a=V(this,zr))==null?void 0:a.state.status)==="pending"&&V(this,zr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=V(this,zr))==null||r.removeObserver(this)}onMutationUpdate(r){Je(this,Os,Hd).call(this),Je(this,Os,ip).call(this,r)}getCurrentResult(){return V(this,ga)}reset(){var r;(r=V(this,zr))==null||r.removeObserver(this),je(this,zr,void 0),Je(this,Os,Hd).call(this),Je(this,Os,ip).call(this)}mutate(r,s){var a;return je(this,Ds,s),(a=V(this,zr))==null||a.removeObserver(this),je(this,zr,V(this,pa).getMutationCache().build(V(this,pa),this.options)),V(this,zr).addObserver(this),V(this,zr).execute(r)}},pa=new WeakMap,ga=new WeakMap,zr=new WeakMap,Ds=new WeakMap,Os=new WeakSet,Hd=function(){var s;const r=((s=V(this,zr))==null?void 0:s.state)??T2();je(this,ga,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},ip=function(r){rr.batch(()=>{var s,a,i,o,l,c,d,m;if(V(this,Ds)&&this.hasListeners()){const p=V(this,ga).variables,f=V(this,ga).context;(r==null?void 0:r.type)==="success"?((a=(s=V(this,Ds)).onSuccess)==null||a.call(s,r.data,p,f),(o=(i=V(this,Ds)).onSettled)==null||o.call(i,r.data,null,p,f)):(r==null?void 0:r.type)==="error"&&((c=(l=V(this,Ds)).onError)==null||c.call(l,r.error,p,f),(m=(d=V(this,Ds)).onSettled)==null||m.call(d,void 0,r.error,p,f))}this.listeners.forEach(p=>{p(V(this,ga))})})},uw),_2=h.createContext(void 0),Jt=e=>{const t=h.useContext(_2);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},yR=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(_2.Provider,{value:e,children:t})),D2=h.createContext(!1),vR=()=>h.useContext(D2);D2.Provider;function wR(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var bR=h.createContext(wR()),jR=()=>h.useContext(bR);function I2(e,t){return typeof e=="function"?e(...t):!!e}function op(){}var NR=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},SR=e=>{h.useEffect(()=>{e.clearReset()},[e])},CR=({result:e,errorResetBoundary:t,throwOnError:r,query:s})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&I2(r,[e.error,s]),kR=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},PR=(e,t)=>e.isLoading&&e.isFetching&&!t,TR=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Py=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function ER(e,t,r){var m,p,f,x,v;const s=Jt(),a=vR(),i=jR(),o=s.defaultQueryOptions(e);(p=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||p.call(m,o),o._optimisticResults=a?"isRestoring":"optimistic",kR(o),NR(o,i),SR(i);const l=!s.getQueryCache().get(o.queryHash),[c]=h.useState(()=>new t(s,o)),d=c.getOptimisticResult(o);if(h.useSyncExternalStore(h.useCallback(y=>{const N=a?op:c.subscribe(rr.batchCalls(y));return c.updateResult(),N},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),h.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),TR(o,d))throw Py(o,c,i);if(CR({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash)}))throw d.error;if((x=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||x.call(f,o,d),o.experimental_prefetchInRender&&!bi&&PR(d,a)){const y=l?Py(o,c,i):(v=s.getQueryCache().get(o.queryHash))==null?void 0:v.promise;y==null||y.catch(op).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function We(e,t){return ER(e,fR)}function rt(e,t){const r=Jt(),[s]=h.useState(()=>new xR(r,e));h.useEffect(()=>{s.setOptions(e)},[s,e]);const a=h.useSyncExternalStore(h.useCallback(o=>s.subscribe(rr.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=h.useCallback((o,l)=>{s.mutate(o,l).catch(op)},[s]);if(a.error&&I2(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}async function A2(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function Pe(e,t,r){let s={},a;r&&(r instanceof FormData?a=r:(s={"Content-Type":"application/json"},a=JSON.stringify(r)));const i=await fetch(t,{method:e,headers:s,body:a,credentials:"include"});return await A2(i),i}const _R=({on401:e})=>async({queryKey:t})=>{const r=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&r.status===401?null:(await A2(r),await r.json())},va=new hR({defaultOptions:{queries:{queryFn:_R({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),DR=1,IR=1e3;let _h=0;function AR(){return _h=(_h+1)%Number.MAX_SAFE_INTEGER,_h.toString()}const Dh=new Map,Ty=e=>{if(Dh.has(e))return;const t=setTimeout(()=>{Dh.delete(e),Jl({type:"REMOVE_TOAST",toastId:e})},IR);Dh.set(e,t)},RR=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,DR)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Ty(r):e.toasts.forEach(s=>{Ty(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Kd=[];let Qd={toasts:[]};function Jl(e){Qd=RR(Qd,e),Kd.forEach(t=>{t(Qd)})}function ni({...e}){const t=AR(),r=a=>Jl({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>Jl({type:"DISMISS_TOAST",toastId:t});return Jl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),setTimeout(()=>{s()},1e3),{id:t,dismiss:s,update:r}}function yt(){const[e,t]=h.useState(Qd);return h.useEffect(()=>(Kd.push(t),()=>{const r=Kd.indexOf(t);r>-1&&Kd.splice(r,1)}),[e]),{...e,toast:ni,dismiss:r=>Jl({type:"DISMISS_TOAST",toastId:r})}}function ye(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Ey(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Nm(...e){return t=>{let r=!1;const s=e.map(a=>{const i=Ey(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():Ey(e[a],null)}}}}function st(...e){return h.useCallback(Nm(...e),e)}function MR(e,t){const r=h.createContext(t),s=i=>{const{children:o,...l}=i,c=h.useMemo(()=>l,Object.values(l));return n.jsx(r.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=h.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function fn(e,t=[]){let r=[];function s(i,o){const l=h.createContext(o),c=r.length;r=[...r,o];const d=p=>{var b;const{scope:f,children:x,...v}=p,y=((b=f==null?void 0:f[e])==null?void 0:b[c])||l,N=h.useMemo(()=>v,Object.values(v));return n.jsx(y.Provider,{value:N,children:x})};d.displayName=i+"Provider";function m(p,f){var y;const x=((y=f==null?void 0:f[e])==null?void 0:y[c])||l,v=h.useContext(x);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[d,m]}const a=()=>{const i=r.map(o=>h.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,FR(a,...t)]}function FR(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const p=c(i)[`__scope${d}`];return{...l,...p}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Ni(e){const t=OR(e),r=h.forwardRef((s,a)=>{const{children:i,...o}=s,l=h.Children.toArray(i),c=l.find(LR);if(c){const d=c.props.children,m=l.map(p=>p===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:p);return n.jsx(t,{...o,ref:a,children:h.isValidElement(d)?h.cloneElement(d,void 0,m):null})}return n.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var R2=Ni("Slot");function OR(e){const t=h.forwardRef((r,s)=>{const{children:a,...i}=r;if(h.isValidElement(a)){const o=VR(a),l=$R(i,a.props);return a.type!==h.Fragment&&(l.ref=s?Nm(s,o):o),h.cloneElement(a,l)}return h.Children.count(a)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var M2=Symbol("radix.slottable");function F2(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=M2,t}function LR(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===M2}function $R(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function VR(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Sm(e){const t=e+"CollectionProvider",[r,s]=fn(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:N,children:b}=y,g=Oe.useRef(null),w=Oe.useRef(new Map).current;return n.jsx(a,{scope:N,itemMap:w,collectionRef:g,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=Ni(l),d=Oe.forwardRef((y,N)=>{const{scope:b,children:g}=y,w=i(l,b),S=st(N,w.collectionRef);return n.jsx(c,{ref:S,children:g})});d.displayName=l;const m=e+"CollectionItemSlot",p="data-radix-collection-item",f=Ni(m),x=Oe.forwardRef((y,N)=>{const{scope:b,children:g,...w}=y,S=Oe.useRef(null),j=st(N,S),k=i(m,b);return Oe.useEffect(()=>(k.itemMap.set(S,{ref:S,...w}),()=>void k.itemMap.delete(S))),n.jsx(f,{[p]:"",ref:j,children:g})});x.displayName=m;function v(y){const N=i(e+"CollectionConsumer",y);return Oe.useCallback(()=>{const g=N.collectionRef.current;if(!g)return[];const w=Array.from(g.querySelectorAll(`[${p}]`));return Array.from(N.itemMap.values()).sort((k,R)=>w.indexOf(k.ref.current)-w.indexOf(R.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:o,Slot:d,ItemSlot:x},v,s]}var zR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ve=zR.reduce((e,t)=>{const r=Ni(`Primitive.${t}`),s=h.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function Hg(e,t){e&&Ai.flushSync(()=>e.dispatchEvent(t))}function Sr(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function UR(e,t=globalThis==null?void 0:globalThis.document){const r=Sr(e);h.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var BR="DismissableLayer",lp="dismissableLayer.update",qR="dismissableLayer.pointerDownOutside",YR="dismissableLayer.focusOutside",_y,O2=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dl=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=h.useContext(O2),[m,p]=h.useState(null),f=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=h.useState({}),v=st(t,R=>p(R)),y=Array.from(d.layers),[N]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=y.indexOf(N),g=m?y.indexOf(m):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,S=g>=b,j=WR(R=>{const F=R.target,B=[...d.branches].some(_=>_.contains(F));!S||B||(a==null||a(R),o==null||o(R),R.defaultPrevented||l==null||l())},f),k=XR(R=>{const F=R.target;[...d.branches].some(_=>_.contains(F))||(i==null||i(R),o==null||o(R),R.defaultPrevented||l==null||l())},f);return UR(R=>{g===d.layers.size-1&&(s==null||s(R),!R.defaultPrevented&&l&&(R.preventDefault(),l()))},f),h.useEffect(()=>{if(m)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(_y=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),Dy(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=_y)}},[m,f,r,d]),h.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),Dy())},[m,d]),h.useEffect(()=>{const R=()=>x({});return document.addEventListener(lp,R),()=>document.removeEventListener(lp,R)},[]),n.jsx(Ve.div,{...c,ref:v,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:ye(e.onFocusCapture,k.onFocusCapture),onBlurCapture:ye(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:ye(e.onPointerDownCapture,j.onPointerDownCapture)})});dl.displayName=BR;var GR="DismissableLayerBranch",L2=h.forwardRef((e,t)=>{const r=h.useContext(O2),s=h.useRef(null),a=st(t,s);return h.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(Ve.div,{...e,ref:a})});L2.displayName=GR;function WR(e,t=globalThis==null?void 0:globalThis.document){const r=Sr(e),s=h.useRef(!1),a=h.useRef(()=>{});return h.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){$2(qR,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function XR(e,t=globalThis==null?void 0:globalThis.document){const r=Sr(e),s=h.useRef(!1);return h.useEffect(()=>{const a=i=>{i.target&&!s.current&&$2(YR,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Dy(){const e=new CustomEvent(lp);document.dispatchEvent(e)}function $2(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?Hg(a,i):a.dispatchEvent(i)}var HR=dl,KR=L2,gr=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},QR="Portal",Qc=h.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,i]=h.useState(!1);gr(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?NA.createPortal(n.jsx(Ve.div,{...s,ref:t}),o):null});Qc.displayName=QR;function ZR(e,t){return h.useReducer((r,s)=>t[r][s]??r,e)}var Tn=e=>{const{present:t,children:r}=e,s=JR(t),a=typeof r=="function"?r({present:s.isPresent}):h.Children.only(r),i=st(s.ref,eM(a));return typeof r=="function"||s.isPresent?h.cloneElement(a,{ref:i}):null};Tn.displayName="Presence";function JR(e){const[t,r]=h.useState(),s=h.useRef({}),a=h.useRef(e),i=h.useRef("none"),o=e?"mounted":"unmounted",[l,c]=ZR(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=kd(s.current);i.current=l==="mounted"?d:"none"},[l]),gr(()=>{const d=s.current,m=a.current;if(m!==e){const f=i.current,x=kd(d);e?c("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(m&&f!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),gr(()=>{if(t){let d;const m=t.ownerDocument.defaultView??window,p=x=>{const y=kd(s.current).includes(x.animationName);if(x.target===t&&y&&(c("ANIMATION_END"),!a.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",d=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},f=x=>{x.target===t&&(i.current=kd(s.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{m.clearTimeout(d),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{d&&(s.current=getComputedStyle(d)),r(d)},[])}}function kd(e){return(e==null?void 0:e.animationName)||"none"}function eM(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Us({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,a]=tM({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:s,l=Sr(r),c=h.useCallback(d=>{if(i){const p=typeof d=="function"?d(e):d;p!==e&&l(p)}else a(d)},[i,e,a,l]);return[o,c]}function tM({defaultProp:e,onChange:t}){const r=h.useState(e),[s]=r,a=h.useRef(s),i=Sr(t);return h.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),r}var rM="VisuallyHidden",Zc=h.forwardRef((e,t)=>n.jsx(Ve.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Zc.displayName=rM;var nM=Zc,Kg="ToastProvider",[Qg,sM,aM]=Sm("Toast"),[V2,r9]=fn("Toast",[aM]),[iM,Cm]=V2(Kg),z2=e=>{const{__scopeToast:t,label:r="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=h.useState(null),[d,m]=h.useState(0),p=h.useRef(!1),f=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Kg}\`. Expected non-empty \`string\`.`),n.jsx(Qg.Provider,{scope:t,children:n.jsx(iM,{scope:t,label:r,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>m(x=>x+1),[]),onToastRemove:h.useCallback(()=>m(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:f,children:o})})};z2.displayName=Kg;var U2="ToastViewport",oM=["F8"],cp="toast.viewportPause",dp="toast.viewportResume",B2=h.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:s=oM,label:a="Notifications ({hotkey})",...i}=e,o=Cm(U2,r),l=sM(r),c=h.useRef(null),d=h.useRef(null),m=h.useRef(null),p=h.useRef(null),f=st(t,p,o.onViewportChange),x=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;h.useEffect(()=>{const N=b=>{var w;s.length!==0&&s.every(S=>b[S]||b.code===S)&&((w=p.current)==null||w.focus())};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[s]),h.useEffect(()=>{const N=c.current,b=p.current;if(v&&N&&b){const g=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(cp);b.dispatchEvent(k),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(dp);b.dispatchEvent(k),o.isClosePausedRef.current=!1}},S=k=>{!N.contains(k.relatedTarget)&&w()},j=()=>{N.contains(document.activeElement)||w()};return N.addEventListener("focusin",g),N.addEventListener("focusout",S),N.addEventListener("pointermove",g),N.addEventListener("pointerleave",j),window.addEventListener("blur",g),window.addEventListener("focus",w),()=>{N.removeEventListener("focusin",g),N.removeEventListener("focusout",S),N.removeEventListener("pointermove",g),N.removeEventListener("pointerleave",j),window.removeEventListener("blur",g),window.removeEventListener("focus",w)}}},[v,o.isClosePausedRef]);const y=h.useCallback(({tabbingDirection:N})=>{const g=l().map(w=>{const S=w.ref.current,j=[S,...wM(S)];return N==="forwards"?j:j.reverse()});return(N==="forwards"?g.reverse():g).flat()},[l]);return h.useEffect(()=>{const N=p.current;if(N){const b=g=>{var j,k,R;const w=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!w){const F=document.activeElement,B=g.shiftKey;if(g.target===N&&B){(j=d.current)==null||j.focus();return}const C=y({tabbingDirection:B?"backwards":"forwards"}),P=C.findIndex(z=>z===F);Ih(C.slice(P+1))?g.preventDefault():B?(k=d.current)==null||k.focus():(R=m.current)==null||R.focus()}};return N.addEventListener("keydown",b),()=>N.removeEventListener("keydown",b)}},[l,y]),n.jsxs(KR,{ref:c,role:"region","aria-label":a.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&n.jsx(up,{ref:d,onFocusFromOutsideViewport:()=>{const N=y({tabbingDirection:"forwards"});Ih(N)}}),n.jsx(Qg.Slot,{scope:r,children:n.jsx(Ve.ol,{tabIndex:-1,...i,ref:f})}),v&&n.jsx(up,{ref:m,onFocusFromOutsideViewport:()=>{const N=y({tabbingDirection:"backwards"});Ih(N)}})]})});B2.displayName=U2;var q2="ToastFocusProxy",up=h.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...a}=e,i=Cm(q2,r);return n.jsx(Zc,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});up.displayName=q2;var km="Toast",lM="toast.swipeStart",cM="toast.swipeMove",dM="toast.swipeCancel",uM="toast.swipeEnd",Y2=h.forwardRef((e,t)=>{const{forceMount:r,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=Us({prop:s,defaultProp:a,onChange:i});return n.jsx(Tn,{present:r||l,children:n.jsx(fM,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Sr(e.onPause),onResume:Sr(e.onResume),onSwipeStart:ye(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ye(e.onSwipeMove,d=>{const{x:m,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:ye(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ye(e.onSwipeEnd,d=>{const{x:m,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),c(!1)})})})});Y2.displayName=km;var[mM,hM]=V2(km,{onClose(){}}),fM=h.forwardRef((e,t)=>{const{__scopeToast:r,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:m,onSwipeMove:p,onSwipeCancel:f,onSwipeEnd:x,...v}=e,y=Cm(km,r),[N,b]=h.useState(null),g=st(t,z=>b(z)),w=h.useRef(null),S=h.useRef(null),j=a||y.duration,k=h.useRef(0),R=h.useRef(j),F=h.useRef(0),{onToastAdd:B,onToastRemove:_}=y,X=Sr(()=>{var W;(N==null?void 0:N.contains(document.activeElement))&&((W=y.viewport)==null||W.focus()),o()}),C=h.useCallback(z=>{!z||z===1/0||(window.clearTimeout(F.current),k.current=new Date().getTime(),F.current=window.setTimeout(X,z))},[X]);h.useEffect(()=>{const z=y.viewport;if(z){const W=()=>{C(R.current),d==null||d()},M=()=>{const $=new Date().getTime()-k.current;R.current=R.current-$,window.clearTimeout(F.current),c==null||c()};return z.addEventListener(cp,M),z.addEventListener(dp,W),()=>{z.removeEventListener(cp,M),z.removeEventListener(dp,W)}}},[y.viewport,j,c,d,C]),h.useEffect(()=>{i&&!y.isClosePausedRef.current&&C(j)},[i,j,y.isClosePausedRef,C]),h.useEffect(()=>(B(),()=>_()),[B,_]);const P=h.useMemo(()=>N?Z2(N):null,[N]);return y.viewport?n.jsxs(n.Fragment,{children:[P&&n.jsx(pM,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),n.jsx(mM,{scope:r,onClose:X,children:Ai.createPortal(n.jsx(Qg.ItemSlot,{scope:r,children:n.jsx(HR,{asChild:!0,onEscapeKeyDown:ye(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||X(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...v,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ye(e.onKeyDown,z=>{z.key==="Escape"&&(l==null||l(z.nativeEvent),z.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,X()))}),onPointerDown:ye(e.onPointerDown,z=>{z.button===0&&(w.current={x:z.clientX,y:z.clientY})}),onPointerMove:ye(e.onPointerMove,z=>{if(!w.current)return;const W=z.clientX-w.current.x,M=z.clientY-w.current.y,$=!!S.current,L=["left","right"].includes(y.swipeDirection),D=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,u=L?D(0,W):0,T=L?0:D(0,M),A=z.pointerType==="touch"?10:2,U={x:u,y:T},te={originalEvent:z,delta:U};$?(S.current=U,Pd(cM,p,te,{discrete:!1})):Iy(U,y.swipeDirection,A)?(S.current=U,Pd(lM,m,te,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(W)>A||Math.abs(M)>A)&&(w.current=null)}),onPointerUp:ye(e.onPointerUp,z=>{const W=S.current,M=z.target;if(M.hasPointerCapture(z.pointerId)&&M.releasePointerCapture(z.pointerId),S.current=null,w.current=null,W){const $=z.currentTarget,L={originalEvent:z,delta:W};Iy(W,y.swipeDirection,y.swipeThreshold)?Pd(uM,x,L,{discrete:!0}):Pd(dM,f,L,{discrete:!0}),$.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),pM=e=>{const{__scopeToast:t,children:r,...s}=e,a=Cm(km,t),[i,o]=h.useState(!1),[l,c]=h.useState(!1);return yM(()=>o(!0)),h.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(Qc,{asChild:!0,children:n.jsx(Zc,{...s,children:i&&n.jsxs(n.Fragment,{children:[a.label," ",r]})})})},gM="ToastTitle",G2=h.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(Ve.div,{...s,ref:t})});G2.displayName=gM;var xM="ToastDescription",W2=h.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(Ve.div,{...s,ref:t})});W2.displayName=xM;var X2="ToastAction",H2=h.forwardRef((e,t)=>{const{altText:r,...s}=e;return r.trim()?n.jsx(Q2,{altText:r,asChild:!0,children:n.jsx(Zg,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${X2}\`. Expected non-empty \`string\`.`),null)});H2.displayName=X2;var K2="ToastClose",Zg=h.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e,a=hM(K2,r);return n.jsx(Q2,{asChild:!0,children:n.jsx(Ve.button,{type:"button",...s,ref:t,onClick:ye(e.onClick,a.onClose)})})});Zg.displayName=K2;var Q2=h.forwardRef((e,t)=>{const{__scopeToast:r,altText:s,...a}=e;return n.jsx(Ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function Z2(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),vM(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Z2(s))}}),t}function Pd(e,t,r,{discrete:s}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?Hg(a,i):a.dispatchEvent(i)}var Iy=(e,t,r=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return t==="left"||t==="right"?i&&s>r:!i&&a>r};function yM(e=()=>{}){const t=Sr(e);gr(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[t])}function vM(e){return e.nodeType===e.ELEMENT_NODE}function wM(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Ih(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var bM=z2,J2=B2,eC=Y2,tC=G2,rC=W2,nC=H2,sC=Zg;function aC(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=aC(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function iC(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=aC(e))&&(s&&(s+=" "),s+=t);return s}const Ay=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ry=iC,Pm=(e,t)=>r=>{var s;if((t==null?void 0:t.variants)==null)return Ry(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const m=r==null?void 0:r[d],p=i==null?void 0:i[d];if(m===null)return null;const f=Ay(m)||Ay(p);return a[d][f]}),l=r&&Object.entries(r).reduce((d,m)=>{let[p,f]=m;return f===void 0||(d[p]=f),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,m)=>{let{class:p,className:f,...x}=m;return Object.entries(x).every(v=>{let[y,N]=v;return Array.isArray(N)?N.includes({...i,...l}[y]):{...i,...l}[y]===N})?[...d,p,f]:d},[]);return Ry(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oC=(...e)=>e.filter((t,r,s)=>!!t&&s.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var NM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>h.createElement("svg",{ref:c,...NM,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:oC("lucide",a),...l},[...o.map(([d,m])=>h.createElement(d,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(e,t)=>{const r=h.forwardRef(({className:s,...a},i)=>h.createElement(SM,{ref:i,iconNode:t,className:oC(`lucide-${jM(e)}`,s),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=me("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=me("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=me("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=me("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=me("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=me("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=me("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=me("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=me("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=me("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=me("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=me("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=me("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=me("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=me("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=me("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=me("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=me("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=me("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=me("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=me("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=me("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=me("Files",[["path",{d:"M20 7h-3a2 2 0 0 1-2-2V2",key:"x099mo"}],["path",{d:"M9 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7l4 4v10a2 2 0 0 1-2 2Z",key:"18t6ie"}],["path",{d:"M3 7.6v12.8A1.6 1.6 0 0 0 4.6 22h9.8",key:"1nja0z"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=me("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=me("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=me("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=me("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=me("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=me("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=me("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=me("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=me("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=me("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=me("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=me("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=me("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=me("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=me("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=me("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=me("NotebookPen",[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=me("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=me("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=me("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=me("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=me("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=me("Puzzle",[["path",{d:"M19.439 7.85c-.049.322.059.648.289.878l1.568 1.568c.47.47.706 1.087.706 1.704s-.235 1.233-.706 1.704l-1.611 1.611a.98.98 0 0 1-.837.276c-.47-.07-.802-.48-.968-.925a2.501 2.501 0 1 0-3.214 3.214c.446.166.855.497.925.968a.979.979 0 0 1-.276.837l-1.61 1.61a2.404 2.404 0 0 1-1.705.707 2.402 2.402 0 0 1-1.704-.706l-1.568-1.568a1.026 1.026 0 0 0-.877-.29c-.493.074-.84.504-1.02.968a2.5 2.5 0 1 1-3.237-3.237c.464-.18.894-.527.967-1.02a1.026 1.026 0 0 0-.289-.877l-1.568-1.568A2.402 2.402 0 0 1 1.998 12c0-.617.236-1.234.706-1.704L4.23 8.77c.24-.24.581-.353.917-.303.515.077.877.528 1.073 1.01a2.5 2.5 0 1 0 3.259-3.259c-.482-.196-.933-.558-1.01-1.073-.05-.336.062-.676.303-.917l1.525-1.525A2.402 2.402 0 0 1 12 1.998c.617 0 1.234.236 1.704.706l1.568 1.568c.23.23.556.338.877.29.493-.074.84-.504 1.02-.968a2.5 2.5 0 1 1 3.237 3.237c-.464.18-.894.527-.967 1.02Z",key:"i0oyt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=me("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=me("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=me("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=me("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=me("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=me("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=me("ShieldOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=me("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=me("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=me("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=me("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=me("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=me("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=me("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=me("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=me("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=me("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=me("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=me("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ex="-",ZM=e=>{const t=e4(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(ex);return l[0]===""&&l.length!==1&&l.shift(),gC(l,t)||JM(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},gC=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),a=s?gC(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(ex);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},zy=/^\[(.+)\]$/,JM=e=>{if(zy.test(e)){const t=zy.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},e4=e=>{const{theme:t,prefix:r}=e,s={nextPart:new Map,validators:[]};return r4(Object.entries(e.classGroups),r).forEach(([i,o])=>{wp(o,s,i,t)}),s},wp=(e,t,r,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:Uy(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(t4(a)){wp(a(s),t,r,s);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{wp(o,Uy(t,i),r,s)})})},Uy=(e,t)=>{let r=e;return t.split(ex).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},t4=e=>e.isThemeGetter,r4=(e,t)=>t?e.map(([r,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,n4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,s=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},xC="!",s4=e=>{const{separator:t,experimentalParseClassName:r}=e,s=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,m=0,p;for(let N=0;N<l.length;N++){let b=l[N];if(d===0){if(b===a&&(s||l.slice(N,N+i)===t)){c.push(l.slice(m,N)),m=N+i;continue}if(b==="/"){p=N;continue}}b==="["?d++:b==="]"&&d--}const f=c.length===0?l:l.substring(m),x=f.startsWith(xC),v=x?f.substring(1):f,y=p&&p>m?p-m:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:v,maybePostfixModifierPosition:y}};return r?l=>r({className:l,parseClassName:o}):o},a4=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(s=>{s[0]==="["?(t.push(...r.sort(),s),r=[]):r.push(s)}),t.push(...r.sort()),t},i4=e=>({cache:n4(e.cacheSize),parseClassName:s4(e),...ZM(e)}),o4=/\s+/,l4=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(o4);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:m,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:x}=r(d);let v=!!x,y=s(v?f.substring(0,x):f);if(!y){if(!v){l=d+(l.length>0?" "+l:l);continue}if(y=s(f),!y){l=d+(l.length>0?" "+l:l);continue}v=!1}const N=a4(m).join(":"),b=p?N+xC:N,g=b+y;if(i.includes(g))continue;i.push(g);const w=a(y,v);for(let S=0;S<w.length;++S){const j=w[S];i.push(b+j)}l=d+(l.length>0?" "+l:l)}return l};function c4(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=yC(t))&&(s&&(s+=" "),s+=r);return s}const yC=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=yC(e[s]))&&(r&&(r+=" "),r+=t);return r};function d4(e,...t){let r,s,a,i=o;function o(c){const d=t.reduce((m,p)=>p(m),e());return r=i4(d),s=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const m=l4(c,r);return a(c,m),m}return function(){return i(c4.apply(null,arguments))}}const St=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},vC=/^\[(?:([a-z-]+):)?(.+)\]$/i,u4=/^\d+\/\d+$/,m4=new Set(["px","full","screen"]),h4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,f4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,p4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,g4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,x4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bs=e=>go(e)||m4.has(e)||u4.test(e),Qs=e=>ml(e,"length",C4),go=e=>!!e&&!Number.isNaN(Number(e)),Mh=e=>ml(e,"number",go),Pl=e=>!!e&&Number.isInteger(Number(e)),y4=e=>e.endsWith("%")&&go(e.slice(0,-1)),Ze=e=>vC.test(e),Zs=e=>h4.test(e),v4=new Set(["length","size","percentage"]),w4=e=>ml(e,v4,wC),b4=e=>ml(e,"position",wC),j4=new Set(["image","url"]),N4=e=>ml(e,j4,P4),S4=e=>ml(e,"",k4),Tl=()=>!0,ml=(e,t,r)=>{const s=vC.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):r(s[2]):!1},C4=e=>f4.test(e)&&!p4.test(e),wC=()=>!1,k4=e=>g4.test(e),P4=e=>x4.test(e),T4=()=>{const e=St("colors"),t=St("spacing"),r=St("blur"),s=St("brightness"),a=St("borderColor"),i=St("borderRadius"),o=St("borderSpacing"),l=St("borderWidth"),c=St("contrast"),d=St("grayscale"),m=St("hueRotate"),p=St("invert"),f=St("gap"),x=St("gradientColorStops"),v=St("gradientColorStopPositions"),y=St("inset"),N=St("margin"),b=St("opacity"),g=St("padding"),w=St("saturate"),S=St("scale"),j=St("sepia"),k=St("skew"),R=St("space"),F=St("translate"),B=()=>["auto","contain","none"],_=()=>["auto","hidden","clip","visible","scroll"],X=()=>["auto",Ze,t],C=()=>[Ze,t],P=()=>["",bs,Qs],z=()=>["auto",go,Ze],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",Ze],u=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>[go,Ze];return{cacheSize:500,separator:":",theme:{colors:[Tl],spacing:[bs,Qs],blur:["none","",Zs,Ze],brightness:T(),borderColor:[e],borderRadius:["none","","full",Zs,Ze],borderSpacing:C(),borderWidth:P(),contrast:T(),grayscale:D(),hueRotate:T(),invert:D(),gap:C(),gradientColorStops:[e],gradientColorStopPositions:[y4,Qs],inset:X(),margin:X(),opacity:T(),padding:C(),saturate:T(),scale:T(),sepia:D(),skew:T(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",Ze]}],container:["container"],columns:[{columns:[Zs]}],"break-after":[{"break-after":u()}],"break-before":[{"break-before":u()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),Ze]}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Pl,Ze]}],basis:[{basis:X()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ze]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Pl,Ze]}],"grid-cols":[{"grid-cols":[Tl]}],"col-start-end":[{col:["auto",{span:["full",Pl,Ze]},Ze]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Tl]}],"row-start-end":[{row:["auto",{span:[Pl,Ze]},Ze]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ze]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ze]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ze,t]}],"min-w":[{"min-w":[Ze,t,"min","max","fit"]}],"max-w":[{"max-w":[Ze,t,"none","full","min","max","fit","prose",{screen:[Zs]},Zs]}],h:[{h:[Ze,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ze,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ze,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ze,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Zs,Qs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mh]}],"font-family":[{font:[Tl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ze]}],"line-clamp":[{"line-clamp":["none",go,Mh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",bs,Ze]}],"list-image":[{"list-image":["none",Ze]}],"list-style-type":[{list:["none","disc","decimal",Ze]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",bs,Qs]}],"underline-offset":[{"underline-offset":["auto",bs,Ze]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),b4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",w4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},N4]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:M()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[bs,Ze]}],"outline-w":[{outline:[bs,Qs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[bs,Qs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Zs,S4]}],"shadow-color":[{shadow:[Tl]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Zs,Ze]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[p]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ze]}],duration:[{duration:T()}],ease:[{ease:["linear","in","out","in-out",Ze]}],delay:[{delay:T()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ze]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Pl,Ze]}],"translate-x":[{"translate-x":[F]}],"translate-y":[{"translate-y":[F]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ze]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ze]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ze]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[bs,Qs,Mh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},E4=d4(T4);function Se(...e){return E4(iC(e))}const _4=bM,bC=h.forwardRef(({className:e,...t},r)=>n.jsx(J2,{ref:r,className:Se("fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-[100] flex max-h-screen w-full max-w-[90vw] sm:max-w-[420px] flex-col-reverse p-4",e),...t}));bC.displayName=J2.displayName;const D4=Pm("group pointer-events-auto relative flex w-full items-center justify-between space-x-3 overflow-hidden rounded-lg border-2 p-4 pr-6 shadow-xl backdrop-blur-sm transition-all duration-300 ease-in-out data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:opacity-100 data-[state=open]:scale-100 data-[state=closed]:opacity-0 data-[state=closed]:scale-98",{variants:{variant:{default:"border-orange-400 bg-gradient-to-r from-orange-50 to-amber-50 text-orange-900 shadow-lg shadow-orange-300/60",destructive:"destructive group border-red-400 bg-gradient-to-r from-red-50 to-pink-50 text-red-900 shadow-lg shadow-red-300/60"}},defaultVariants:{variant:"default"}}),jC=h.forwardRef(({className:e,variant:t,...r},s)=>n.jsx(eC,{ref:s,className:Se(D4({variant:t}),e),...r}));jC.displayName=eC.displayName;const I4=h.forwardRef(({className:e,...t},r)=>n.jsx(nC,{ref:r,className:Se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));I4.displayName=nC.displayName;const NC=h.forwardRef(({className:e,...t},r)=>n.jsx(sC,{ref:r,className:Se("absolute right-1 top-1 rounded-full p-1 text-orange-600 opacity-90 transition-all duration-200 ease-in-out hover:text-orange-800 hover:bg-orange-200/50 focus:opacity-100 focus:outline-none focus:ring-2 focus:ring-orange-400 group-[.destructive]:text-red-600 group-[.destructive]:hover:text-red-800 group-[.destructive]:hover:bg-red-200/50",e),"toast-close":"",...t,children:n.jsx(Kr,{className:"h-3 w-3"})}));NC.displayName=sC.displayName;const SC=h.forwardRef(({className:e,...t},r)=>n.jsx(tC,{ref:r,className:Se("text-sm font-semibold leading-tight",e),...t}));SC.displayName=tC.displayName;const CC=h.forwardRef(({className:e,...t},r)=>n.jsx(rC,{ref:r,className:Se("text-xs opacity-90 leading-relaxed",e),...t}));CC.displayName=rC.displayName;function A4(){const{toasts:e}=yt();return n.jsxs(_4,{children:[e.map(function({id:t,title:r,description:s,action:a,...i}){return n.jsxs(jC,{...i,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(SC,{children:r}),s&&n.jsx(CC,{children:s})]}),a,n.jsx(NC,{})]},t)}),n.jsx(bC,{})]})}var R4=a1[" useId ".trim().toString()]||(()=>{}),M4=0;function qn(e){const[t,r]=h.useState(R4());return gr(()=>{r(s=>s??String(M4++))},[e]),t?`radix-${t}`:""}const F4=["top","right","bottom","left"],Aa=Math.min,tn=Math.max,Du=Math.round,Ed=Math.floor,ps=e=>({x:e,y:e}),O4={left:"right",right:"left",bottom:"top",top:"bottom"},L4={start:"end",end:"start"};function bp(e,t,r){return tn(e,Aa(t,r))}function qs(e,t){return typeof e=="function"?e(t):e}function Ys(e){return e.split("-")[0]}function hl(e){return e.split("-")[1]}function tx(e){return e==="x"?"y":"x"}function rx(e){return e==="y"?"height":"width"}function Ra(e){return["top","bottom"].includes(Ys(e))?"y":"x"}function nx(e){return tx(Ra(e))}function $4(e,t,r){r===void 0&&(r=!1);const s=hl(e),a=nx(e),i=rx(a);let o=a==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Iu(o)),[o,Iu(o)]}function V4(e){const t=Iu(e);return[jp(e),t,jp(t)]}function jp(e){return e.replace(/start|end/g,t=>L4[t])}function z4(e,t,r){const s=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:s:t?s:a;case"left":case"right":return t?i:o;default:return[]}}function U4(e,t,r,s){const a=hl(e);let i=z4(Ys(e),r==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(jp)))),i}function Iu(e){return e.replace(/left|right|bottom|top/g,t=>O4[t])}function B4(e){return{top:0,right:0,bottom:0,left:0,...e}}function kC(e){return typeof e!="number"?B4(e):{top:e,right:e,bottom:e,left:e}}function Au(e){const{x:t,y:r,width:s,height:a}=e;return{width:s,height:a,top:r,left:t,right:t+s,bottom:r+a,x:t,y:r}}function By(e,t,r){let{reference:s,floating:a}=e;const i=Ra(t),o=nx(t),l=rx(o),c=Ys(t),d=i==="y",m=s.x+s.width/2-a.width/2,p=s.y+s.height/2-a.height/2,f=s[l]/2-a[l]/2;let x;switch(c){case"top":x={x:m,y:s.y-a.height};break;case"bottom":x={x:m,y:s.y+s.height};break;case"right":x={x:s.x+s.width,y:p};break;case"left":x={x:s.x-a.width,y:p};break;default:x={x:s.x,y:s.y}}switch(hl(t)){case"start":x[o]-=f*(r&&d?-1:1);break;case"end":x[o]+=f*(r&&d?-1:1);break}return x}const q4=async(e,t,r)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:m,y:p}=By(d,s,c),f=s,x={},v=0;for(let y=0;y<l.length;y++){const{name:N,fn:b}=l[y],{x:g,y:w,data:S,reset:j}=await b({x:m,y:p,initialPlacement:s,placement:f,strategy:a,middlewareData:x,rects:d,platform:o,elements:{reference:e,floating:t}});m=g??m,p=w??p,x={...x,[N]:{...x[N],...S}},j&&v<=50&&(v++,typeof j=="object"&&(j.placement&&(f=j.placement),j.rects&&(d=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:m,y:p}=By(d,f,c)),y=-1)}return{x:m,y:p,placement:f,strategy:a,middlewareData:x}};async function jc(e,t){var r;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:p="floating",altBoundary:f=!1,padding:x=0}=qs(t,e),v=kC(x),N=l[f?p==="floating"?"reference":"floating":p],b=Au(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(N)))==null||r?N:N.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:m,strategy:c})),g=p==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},j=Au(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:w,strategy:c}):g);return{top:(b.top-j.top+v.top)/S.y,bottom:(j.bottom-b.bottom+v.bottom)/S.y,left:(b.left-j.left+v.left)/S.x,right:(j.right-b.right+v.right)/S.x}}const Y4=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:m=0}=qs(e,t)||{};if(d==null)return{};const p=kC(m),f={x:r,y:s},x=nx(a),v=rx(x),y=await o.getDimensions(d),N=x==="y",b=N?"top":"left",g=N?"bottom":"right",w=N?"clientHeight":"clientWidth",S=i.reference[v]+i.reference[x]-f[x]-i.floating[v],j=f[x]-i.reference[x],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let R=k?k[w]:0;(!R||!await(o.isElement==null?void 0:o.isElement(k)))&&(R=l.floating[w]||i.floating[v]);const F=S/2-j/2,B=R/2-y[v]/2-1,_=Aa(p[b],B),X=Aa(p[g],B),C=_,P=R-y[v]-X,z=R/2-y[v]/2+F,W=bp(C,z,P),M=!c.arrow&&hl(a)!=null&&z!==W&&i.reference[v]/2-(z<C?_:X)-y[v]/2<0,$=M?z<C?z-C:z-P:0;return{[x]:f[x]+$,data:{[x]:W,centerOffset:z-W-$,...M&&{alignmentOffset:$}},reset:M}}}),G4=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:m=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...N}=qs(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=Ys(a),g=Ra(l),w=Ys(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(d.floating)),j=f||(w||!y?[Iu(l)]:V4(l)),k=v!=="none";!f&&k&&j.push(...U4(l,y,v,S));const R=[l,...j],F=await jc(t,N),B=[];let _=((s=i.flip)==null?void 0:s.overflows)||[];if(m&&B.push(F[b]),p){const z=$4(a,o,S);B.push(F[z[0]],F[z[1]])}if(_=[..._,{placement:a,overflows:B}],!B.every(z=>z<=0)){var X,C;const z=(((X=i.flip)==null?void 0:X.index)||0)+1,W=R[z];if(W)return{data:{index:z,overflows:_},reset:{placement:W}};let M=(C=_.filter($=>$.overflows[0]<=0).sort(($,L)=>$.overflows[1]-L.overflows[1])[0])==null?void 0:C.placement;if(!M)switch(x){case"bestFit":{var P;const $=(P=_.filter(L=>{if(k){const D=Ra(L.placement);return D===g||D==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(D=>D>0).reduce((D,u)=>D+u,0)]).sort((L,D)=>L[1]-D[1])[0])==null?void 0:P[0];$&&(M=$);break}case"initialPlacement":M=l;break}if(a!==M)return{reset:{placement:M}}}return{}}}};function qy(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Yy(e){return F4.some(t=>e[t]>=0)}const W4=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:s="referenceHidden",...a}=qs(e,t);switch(s){case"referenceHidden":{const i=await jc(t,{...a,elementContext:"reference"}),o=qy(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Yy(o)}}}case"escaped":{const i=await jc(t,{...a,altBoundary:!0}),o=qy(i,r.floating);return{data:{escapedOffsets:o,escaped:Yy(o)}}}default:return{}}}}};async function X4(e,t){const{placement:r,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=Ys(r),l=hl(r),c=Ra(r)==="y",d=["left","top"].includes(o)?-1:1,m=i&&c?-1:1,p=qs(t,e);let{mainAxis:f,crossAxis:x,alignmentAxis:v}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof v=="number"&&(x=l==="end"?v*-1:v),c?{x:x*m,y:f*d}:{x:f*d,y:x*m}}const H4=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await X4(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},K4=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:N=>{let{x:b,y:g}=N;return{x:b,y:g}}},...c}=qs(e,t),d={x:r,y:s},m=await jc(t,c),p=Ra(Ys(a)),f=tx(p);let x=d[f],v=d[p];if(i){const N=f==="y"?"top":"left",b=f==="y"?"bottom":"right",g=x+m[N],w=x-m[b];x=bp(g,x,w)}if(o){const N=p==="y"?"top":"left",b=p==="y"?"bottom":"right",g=v+m[N],w=v-m[b];v=bp(g,v,w)}const y=l.fn({...t,[f]:x,[p]:v});return{...y,data:{x:y.x-r,y:y.y-s,enabled:{[f]:i,[p]:o}}}}}},Q4=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=qs(e,t),m={x:r,y:s},p=Ra(a),f=tx(p);let x=m[f],v=m[p];const y=qs(l,t),N=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const w=f==="y"?"height":"width",S=i.reference[f]-i.floating[w]+N.mainAxis,j=i.reference[f]+i.reference[w]-N.mainAxis;x<S?x=S:x>j&&(x=j)}if(d){var b,g;const w=f==="y"?"width":"height",S=["top","left"].includes(Ys(a)),j=i.reference[p]-i.floating[w]+(S&&((b=o.offset)==null?void 0:b[p])||0)+(S?0:N.crossAxis),k=i.reference[p]+i.reference[w]+(S?0:((g=o.offset)==null?void 0:g[p])||0)-(S?N.crossAxis:0);v<j?v=j:v>k&&(v=k)}return{[f]:x,[p]:v}}}},Z4=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=qs(e,t),m=await jc(t,d),p=Ys(a),f=hl(a),x=Ra(a)==="y",{width:v,height:y}=i.floating;let N,b;p==="top"||p==="bottom"?(N=p,b=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=p,N=f==="end"?"top":"bottom");const g=y-m.top-m.bottom,w=v-m.left-m.right,S=Aa(y-m[N],g),j=Aa(v-m[b],w),k=!t.middlewareData.shift;let R=S,F=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(F=w),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(R=g),k&&!f){const _=tn(m.left,0),X=tn(m.right,0),C=tn(m.top,0),P=tn(m.bottom,0);x?F=v-2*(_!==0||X!==0?_+X:tn(m.left,m.right)):R=y-2*(C!==0||P!==0?C+P:tn(m.top,m.bottom))}await c({...t,availableWidth:F,availableHeight:R});const B=await o.getDimensions(l.floating);return v!==B.width||y!==B.height?{reset:{rects:!0}}:{}}}};function _m(){return typeof window<"u"}function fl(e){return PC(e)?(e.nodeName||"").toLowerCase():"#document"}function on(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ws(e){var t;return(t=(PC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function PC(e){return _m()?e instanceof Node||e instanceof on(e).Node:!1}function Wn(e){return _m()?e instanceof Element||e instanceof on(e).Element:!1}function xs(e){return _m()?e instanceof HTMLElement||e instanceof on(e).HTMLElement:!1}function Gy(e){return!_m()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof on(e).ShadowRoot}function Jc(e){const{overflow:t,overflowX:r,overflowY:s,display:a}=Xn(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!["inline","contents"].includes(a)}function J4(e){return["table","td","th"].includes(fl(e))}function Dm(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function sx(e){const t=ax(),r=Wn(e)?Xn(e):e;return["transform","translate","scale","rotate","perspective"].some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(r.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(r.contain||"").includes(s))}function e3(e){let t=Ma(e);for(;xs(t)&&!Jo(t);){if(sx(t))return t;if(Dm(t))return null;t=Ma(t)}return null}function ax(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Jo(e){return["html","body","#document"].includes(fl(e))}function Xn(e){return on(e).getComputedStyle(e)}function Im(e){return Wn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ma(e){if(fl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Gy(e)&&e.host||ws(e);return Gy(t)?t.host:t}function TC(e){const t=Ma(e);return Jo(t)?e.ownerDocument?e.ownerDocument.body:e.body:xs(t)&&Jc(t)?t:TC(t)}function Nc(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=TC(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=on(a);if(i){const l=Np(o);return t.concat(o,o.visualViewport||[],Jc(a)?a:[],l&&r?Nc(l):[])}return t.concat(a,Nc(a,[],r))}function Np(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function EC(e){const t=Xn(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=xs(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:s,l=Du(r)!==i||Du(s)!==o;return l&&(r=i,s=o),{width:r,height:s,$:l}}function ix(e){return Wn(e)?e:e.contextElement}function xo(e){const t=ix(e);if(!xs(t))return ps(1);const r=t.getBoundingClientRect(),{width:s,height:a,$:i}=EC(t);let o=(i?Du(r.width):r.width)/s,l=(i?Du(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const t3=ps(0);function _C(e){const t=on(e);return!ax()||!t.visualViewport?t3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function r3(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==on(e)?!1:t}function Ci(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=ix(e);let o=ps(1);t&&(s?Wn(s)&&(o=xo(s)):o=xo(e));const l=r3(i,r,s)?_C(i):ps(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,m=a.width/o.x,p=a.height/o.y;if(i){const f=on(i),x=s&&Wn(s)?on(s):s;let v=f,y=Np(v);for(;y&&s&&x!==v;){const N=xo(y),b=y.getBoundingClientRect(),g=Xn(y),w=b.left+(y.clientLeft+parseFloat(g.paddingLeft))*N.x,S=b.top+(y.clientTop+parseFloat(g.paddingTop))*N.y;c*=N.x,d*=N.y,m*=N.x,p*=N.y,c+=w,d+=S,v=on(y),y=Np(v)}}return Au({width:m,height:p,x:c,y:d})}function ox(e,t){const r=Im(e).scrollLeft;return t?t.left+r:Ci(ws(e)).left+r}function DC(e,t,r){r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(r?0:ox(e,s)),i=s.top+t.scrollTop;return{x:a,y:i}}function n3(e){let{elements:t,rect:r,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=ws(s),l=t?Dm(t.floating):!1;if(s===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=ps(1);const m=ps(0),p=xs(s);if((p||!p&&!i)&&((fl(s)!=="body"||Jc(o))&&(c=Im(s)),xs(s))){const x=Ci(s);d=xo(s),m.x=x.x+s.clientLeft,m.y=x.y+s.clientTop}const f=o&&!p&&!i?DC(o,c,!0):ps(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+m.x+f.x,y:r.y*d.y-c.scrollTop*d.y+m.y+f.y}}function s3(e){return Array.from(e.getClientRects())}function a3(e){const t=ws(e),r=Im(e),s=e.ownerDocument.body,a=tn(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=tn(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-r.scrollLeft+ox(e);const l=-r.scrollTop;return Xn(s).direction==="rtl"&&(o+=tn(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function i3(e,t){const r=on(e),s=ws(e),a=r.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=ax();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function o3(e,t){const r=Ci(e,!0,t==="fixed"),s=r.top+e.clientTop,a=r.left+e.clientLeft,i=xs(e)?xo(e):ps(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function Wy(e,t,r){let s;if(t==="viewport")s=i3(e,r);else if(t==="document")s=a3(ws(e));else if(Wn(t))s=o3(t,r);else{const a=_C(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Au(s)}function IC(e,t){const r=Ma(e);return r===t||!Wn(r)||Jo(r)?!1:Xn(r).position==="fixed"||IC(r,t)}function l3(e,t){const r=t.get(e);if(r)return r;let s=Nc(e,[],!1).filter(l=>Wn(l)&&fl(l)!=="body"),a=null;const i=Xn(e).position==="fixed";let o=i?Ma(e):e;for(;Wn(o)&&!Jo(o);){const l=Xn(o),c=sx(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Jc(o)&&!c&&IC(e,o))?s=s.filter(m=>m!==o):a=l,o=Ma(o)}return t.set(e,s),s}function c3(e){let{element:t,boundary:r,rootBoundary:s,strategy:a}=e;const o=[...r==="clippingAncestors"?Dm(t)?[]:l3(t,this._c):[].concat(r),s],l=o[0],c=o.reduce((d,m)=>{const p=Wy(t,m,a);return d.top=tn(p.top,d.top),d.right=Aa(p.right,d.right),d.bottom=Aa(p.bottom,d.bottom),d.left=tn(p.left,d.left),d},Wy(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function d3(e){const{width:t,height:r}=EC(e);return{width:t,height:r}}function u3(e,t,r){const s=xs(t),a=ws(t),i=r==="fixed",o=Ci(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=ps(0);if(s||!s&&!i)if((fl(t)!=="body"||Jc(a))&&(l=Im(t)),s){const f=Ci(t,!0,i,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else a&&(c.x=ox(a));const d=a&&!s&&!i?DC(a,l):ps(0),m=o.left+l.scrollLeft-c.x-d.x,p=o.top+l.scrollTop-c.y-d.y;return{x:m,y:p,width:o.width,height:o.height}}function Fh(e){return Xn(e).position==="static"}function Xy(e,t){if(!xs(e)||Xn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ws(e)===r&&(r=r.ownerDocument.body),r}function AC(e,t){const r=on(e);if(Dm(e))return r;if(!xs(e)){let a=Ma(e);for(;a&&!Jo(a);){if(Wn(a)&&!Fh(a))return a;a=Ma(a)}return r}let s=Xy(e,t);for(;s&&J4(s)&&Fh(s);)s=Xy(s,t);return s&&Jo(s)&&Fh(s)&&!sx(s)?r:s||e3(e)||r}const m3=async function(e){const t=this.getOffsetParent||AC,r=this.getDimensions,s=await r(e.floating);return{reference:u3(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function h3(e){return Xn(e).direction==="rtl"}const f3={convertOffsetParentRelativeRectToViewportRelativeRect:n3,getDocumentElement:ws,getClippingRect:c3,getOffsetParent:AC,getElementRects:m3,getClientRects:s3,getDimensions:d3,getScale:xo,isElement:Wn,isRTL:h3};function RC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function p3(e,t){let r=null,s;const a=ws(e);function i(){var l;clearTimeout(s),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:m,top:p,width:f,height:x}=d;if(l||t(),!f||!x)return;const v=Ed(p),y=Ed(a.clientWidth-(m+f)),N=Ed(a.clientHeight-(p+x)),b=Ed(m),w={rootMargin:-v+"px "+-y+"px "+-N+"px "+-b+"px",threshold:tn(0,Aa(1,c))||1};let S=!0;function j(k){const R=k[0].intersectionRatio;if(R!==c){if(!S)return o();R?o(!1,R):s=setTimeout(()=>{o(!1,1e-7)},1e3)}R===1&&!RC(d,e.getBoundingClientRect())&&o(),S=!1}try{r=new IntersectionObserver(j,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,w)}r.observe(e)}return o(!0),i}function g3(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=ix(e),m=a||i?[...d?Nc(d):[],...Nc(t)]:[];m.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const p=d&&l?p3(d,r):null;let f=-1,x=null;o&&(x=new ResizeObserver(b=>{let[g]=b;g&&g.target===d&&x&&(x.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=x)==null||w.observe(t)})),r()}),d&&!c&&x.observe(d),x.observe(t));let v,y=c?Ci(e):null;c&&N();function N(){const b=Ci(e);y&&!RC(y,b)&&r(),y=b,v=requestAnimationFrame(N)}return r(),()=>{var b;m.forEach(g=>{a&&g.removeEventListener("scroll",r),i&&g.removeEventListener("resize",r)}),p==null||p(),(b=x)==null||b.disconnect(),x=null,c&&cancelAnimationFrame(v)}}const x3=H4,y3=K4,v3=G4,w3=Z4,b3=W4,Hy=Y4,j3=Q4,N3=(e,t,r)=>{const s=new Map,a={platform:f3,...r},i={...a.platform,_c:s};return q4(e,t,{...a,platform:i})};var Jd=typeof document<"u"?h.useLayoutEffect:h.useEffect;function Ru(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!Ru(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=r;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!Ru(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function MC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ky(e,t){const r=MC(e);return Math.round(t*r)/r}function Oh(e){const t=h.useRef(e);return Jd(()=>{t.current=e}),t}function S3(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[m,p]=h.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,x]=h.useState(s);Ru(f,s)||x(s);const[v,y]=h.useState(null),[N,b]=h.useState(null),g=h.useCallback(L=>{L!==k.current&&(k.current=L,y(L))},[]),w=h.useCallback(L=>{L!==R.current&&(R.current=L,b(L))},[]),S=i||v,j=o||N,k=h.useRef(null),R=h.useRef(null),F=h.useRef(m),B=c!=null,_=Oh(c),X=Oh(a),C=Oh(d),P=h.useCallback(()=>{if(!k.current||!R.current)return;const L={placement:t,strategy:r,middleware:f};X.current&&(L.platform=X.current),N3(k.current,R.current,L).then(D=>{const u={...D,isPositioned:C.current!==!1};z.current&&!Ru(F.current,u)&&(F.current=u,Ai.flushSync(()=>{p(u)}))})},[f,t,r,X,C]);Jd(()=>{d===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,p(L=>({...L,isPositioned:!1})))},[d]);const z=h.useRef(!1);Jd(()=>(z.current=!0,()=>{z.current=!1}),[]),Jd(()=>{if(S&&(k.current=S),j&&(R.current=j),S&&j){if(_.current)return _.current(S,j,P);P()}},[S,j,P,_,B]);const W=h.useMemo(()=>({reference:k,floating:R,setReference:g,setFloating:w}),[g,w]),M=h.useMemo(()=>({reference:S,floating:j}),[S,j]),$=h.useMemo(()=>{const L={position:r,left:0,top:0};if(!M.floating)return L;const D=Ky(M.floating,m.x),u=Ky(M.floating,m.y);return l?{...L,transform:"translate("+D+"px, "+u+"px)",...MC(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:u}},[r,l,M.floating,m.x,m.y]);return h.useMemo(()=>({...m,update:P,refs:W,elements:M,floatingStyles:$}),[m,P,W,M,$])}const C3=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:a}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?Hy({element:s.current,padding:a}).fn(r):{}:s?Hy({element:s,padding:a}).fn(r):{}}}},k3=(e,t)=>({...x3(e),options:[e,t]}),P3=(e,t)=>({...y3(e),options:[e,t]}),T3=(e,t)=>({...j3(e),options:[e,t]}),E3=(e,t)=>({...v3(e),options:[e,t]}),_3=(e,t)=>({...w3(e),options:[e,t]}),D3=(e,t)=>({...b3(e),options:[e,t]}),I3=(e,t)=>({...C3(e),options:[e,t]});var A3="Arrow",FC=h.forwardRef((e,t)=>{const{children:r,width:s=10,height:a=5,...i}=e;return n.jsx(Ve.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});FC.displayName=A3;var R3=FC;function OC(e){const[t,r]=h.useState(void 0);return gr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}var lx="Popper",[LC,pl]=fn(lx),[M3,$C]=LC(lx),VC=e=>{const{__scopePopper:t,children:r}=e,[s,a]=h.useState(null);return n.jsx(M3,{scope:t,anchor:s,onAnchorChange:a,children:r})};VC.displayName=lx;var zC="PopperAnchor",UC=h.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...a}=e,i=$C(zC,r),o=h.useRef(null),l=st(t,o);return h.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:n.jsx(Ve.div,{...a,ref:l})});UC.displayName=zC;var cx="PopperContent",[F3,O3]=LC(cx),BC=h.forwardRef((e,t)=>{var G,ne,oe,ge,Z,be;const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:m=0,sticky:p="partial",hideWhenDetached:f=!1,updatePositionStrategy:x="optimized",onPlaced:v,...y}=e,N=$C(cx,r),[b,g]=h.useState(null),w=st(t,qe=>g(qe)),[S,j]=h.useState(null),k=OC(S),R=(k==null?void 0:k.width)??0,F=(k==null?void 0:k.height)??0,B=s+(i!=="center"?"-"+i:""),_=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},X=Array.isArray(d)?d:[d],C=X.length>0,P={padding:_,boundary:X.filter($3),altBoundary:C},{refs:z,floatingStyles:W,placement:M,isPositioned:$,middlewareData:L}=S3({strategy:"fixed",placement:B,whileElementsMounted:(...qe)=>g3(...qe,{animationFrame:x==="always"}),elements:{reference:N.anchor},middleware:[k3({mainAxis:a+F,alignmentAxis:o}),c&&P3({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?T3():void 0,...P}),c&&E3({...P}),_3({...P,apply:({elements:qe,rects:he,availableWidth:le,availableHeight:Ge})=>{const{width:at,height:ht}=he.reference,Ye=qe.floating.style;Ye.setProperty("--radix-popper-available-width",`${le}px`),Ye.setProperty("--radix-popper-available-height",`${Ge}px`),Ye.setProperty("--radix-popper-anchor-width",`${at}px`),Ye.setProperty("--radix-popper-anchor-height",`${ht}px`)}}),S&&I3({element:S,padding:l}),V3({arrowWidth:R,arrowHeight:F}),f&&D3({strategy:"referenceHidden",...P})]}),[D,u]=GC(M),T=Sr(v);gr(()=>{$&&(T==null||T())},[$,T]);const A=(G=L.arrow)==null?void 0:G.x,U=(ne=L.arrow)==null?void 0:ne.y,te=((oe=L.arrow)==null?void 0:oe.centerOffset)!==0,[fe,pe]=h.useState();return gr(()=>{b&&pe(window.getComputedStyle(b).zIndex)},[b]),n.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:$?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(ge=L.transformOrigin)==null?void 0:ge.x,(Z=L.transformOrigin)==null?void 0:Z.y].join(" "),...((be=L.hide)==null?void 0:be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(F3,{scope:r,placedSide:D,onArrowChange:j,arrowX:A,arrowY:U,shouldHideArrow:te,children:n.jsx(Ve.div,{"data-side":D,"data-align":u,...y,ref:w,style:{...y.style,animation:$?void 0:"none"}})})})});BC.displayName=cx;var qC="PopperArrow",L3={top:"bottom",right:"left",bottom:"top",left:"right"},YC=h.forwardRef(function(t,r){const{__scopePopper:s,...a}=t,i=O3(qC,s),o=L3[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(R3,{...a,ref:r,style:{...a.style,display:"block"}})})});YC.displayName=qC;function $3(e){return e!==null}var V3=e=>({name:"transformOrigin",options:e,fn(t){var N,b,g;const{placement:r,rects:s,middlewareData:a}=t,o=((N=a.arrow)==null?void 0:N.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,m]=GC(r),p={start:"0%",center:"50%",end:"100%"}[m],f=(((b=a.arrow)==null?void 0:b.x)??0)+l/2,x=(((g=a.arrow)==null?void 0:g.y)??0)+c/2;let v="",y="";return d==="bottom"?(v=o?p:`${f}px`,y=`${-c}px`):d==="top"?(v=o?p:`${f}px`,y=`${s.floating.height+c}px`):d==="right"?(v=`${-c}px`,y=o?p:`${x}px`):d==="left"&&(v=`${s.floating.width+c}px`,y=o?p:`${x}px`),{data:{x:v,y}}}});function GC(e){const[t,r="center"]=e.split("-");return[t,r]}var WC=VC,dx=UC,ux=BC,mx=YC,[Am,n9]=fn("Tooltip",[pl]),hx=pl(),XC="TooltipProvider",z3=700,Qy="tooltip.open",[U3,HC]=Am(XC),KC=e=>{const{__scopeTooltip:t,delayDuration:r=z3,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,o=h.useRef(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),n.jsx(U3,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};KC.displayName=XC;var QC="Tooltip",[s9,Rm]=Am(QC),Sp="TooltipTrigger",B3=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=Rm(Sp,r),i=HC(Sp,r),o=hx(r),l=h.useRef(null),c=st(t,l,a.onTriggerChange),d=h.useRef(!1),m=h.useRef(!1),p=h.useCallback(()=>d.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),n.jsx(dx,{asChild:!0,...o,children:n.jsx(Ve.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:c,onPointerMove:ye(e.onPointerMove,f=>{f.pointerType!=="touch"&&!m.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),m.current=!0)}),onPointerLeave:ye(e.onPointerLeave,()=>{a.onTriggerLeave(),m.current=!1}),onPointerDown:ye(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:ye(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:ye(e.onBlur,a.onClose),onClick:ye(e.onClick,a.onClose)})})});B3.displayName=Sp;var q3="TooltipPortal",[a9,Y3]=Am(q3,{forceMount:void 0}),el="TooltipContent",ZC=h.forwardRef((e,t)=>{const r=Y3(el,e.__scopeTooltip),{forceMount:s=r.forceMount,side:a="top",...i}=e,o=Rm(el,e.__scopeTooltip);return n.jsx(Tn,{present:s||o.open,children:o.disableHoverableContent?n.jsx(JC,{side:a,...i,ref:t}):n.jsx(G3,{side:a,...i,ref:t})})}),G3=h.forwardRef((e,t)=>{const r=Rm(el,e.__scopeTooltip),s=HC(el,e.__scopeTooltip),a=h.useRef(null),i=st(t,a),[o,l]=h.useState(null),{trigger:c,onClose:d}=r,m=a.current,{onPointerInTransitChange:p}=s,f=h.useCallback(()=>{l(null),p(!1)},[p]),x=h.useCallback((v,y)=>{const N=v.currentTarget,b={x:v.clientX,y:v.clientY},g=Q3(b,N.getBoundingClientRect()),w=Z3(b,g),S=J3(y.getBoundingClientRect()),j=t6([...w,...S]);l(j),p(!0)},[p]);return h.useEffect(()=>()=>f(),[f]),h.useEffect(()=>{if(c&&m){const v=N=>x(N,m),y=N=>x(N,c);return c.addEventListener("pointerleave",v),m.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",v),m.removeEventListener("pointerleave",y)}}},[c,m,x,f]),h.useEffect(()=>{if(o){const v=y=>{const N=y.target,b={x:y.clientX,y:y.clientY},g=(c==null?void 0:c.contains(N))||(m==null?void 0:m.contains(N)),w=!e6(b,o);g?f():w&&(f(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,m,o,d,f]),n.jsx(JC,{...e,ref:i})}),[W3,X3]=Am(QC,{isInside:!1}),H3=F2("TooltipContent"),JC=h.forwardRef((e,t)=>{const{__scopeTooltip:r,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Rm(el,r),d=hx(r),{onClose:m}=c;return h.useEffect(()=>(document.addEventListener(Qy,m),()=>document.removeEventListener(Qy,m)),[m]),h.useEffect(()=>{if(c.trigger){const p=f=>{const x=f.target;x!=null&&x.contains(c.trigger)&&m()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[c.trigger,m]),n.jsx(dl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:m,children:n.jsxs(ux,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(H3,{children:s}),n.jsx(W3,{scope:r,isInside:!0,children:n.jsx(nM,{id:c.contentId,role:"tooltip",children:a||s})})]})})});ZC.displayName=el;var ek="TooltipArrow",K3=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=hx(r);return X3(ek,r).isInside?null:n.jsx(mx,{...a,...s,ref:t})});K3.displayName=ek;function Q3(e,t){const r=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,s,a,i)){case i:return"left";case a:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function Z3(e,t,r=5){const s=[];switch(t){case"top":s.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":s.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":s.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":s.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return s}function J3(e){const{top:t,right:r,bottom:s,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:s},{x:a,y:s}]}function e6(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,m=t[o].y;c>s!=m>s&&r<(d-l)*(s-c)/(m-c)+l&&(a=!a)}return a}function t6(e){const t=e.slice();return t.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),r6(t)}function r6(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var n6=KC,tk=ZC;const s6=n6,a6=h.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(tk,{ref:s,sideOffset:t,className:Se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));a6.displayName=tk.displayName;/*! Capacitor: https://capacitorjs.com/ - MIT License */var tl;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(tl||(tl={}));class Lh extends Error{constructor(t,r,s){super(t),this.message=t,this.code=r,this.data=s}}const i6=e=>{var t,r;return e!=null&&e.androidBridge?"android":!((r=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},o6=e=>{const t=e.CapacitorCustomPlatform||null,r=e.Capacitor||{},s=r.Plugins=r.Plugins||{},a=()=>t!==null?t.name:i6(e),i=()=>a()!=="web",o=p=>{const f=d.get(p);return!!(f!=null&&f.platforms.has(a())||l(p))},l=p=>{var f;return(f=r.PluginHeaders)===null||f===void 0?void 0:f.find(x=>x.name===p)},c=p=>e.console.error(p),d=new Map,m=(p,f={})=>{const x=d.get(p);if(x)return console.warn(`Capacitor plugin "${p}" already registered. Cannot register plugins twice.`),x.proxy;const v=a(),y=l(p);let N;const b=async()=>(!N&&v in f?N=typeof f[v]=="function"?N=await f[v]():N=f[v]:t!==null&&!N&&"web"in f&&(N=typeof f.web=="function"?N=await f.web():N=f.web),N),g=(F,B)=>{var _,X;if(y){const C=y==null?void 0:y.methods.find(P=>B===P.name);if(C)return C.rtype==="promise"?P=>r.nativePromise(p,B.toString(),P):(P,z)=>r.nativeCallback(p,B.toString(),P,z);if(F)return(_=F[B])===null||_===void 0?void 0:_.bind(F)}else{if(F)return(X=F[B])===null||X===void 0?void 0:X.bind(F);throw new Lh(`"${p}" plugin is not implemented on ${v}`,tl.Unimplemented)}},w=F=>{let B;const _=(...X)=>{const C=b().then(P=>{const z=g(P,F);if(z){const W=z(...X);return B=W==null?void 0:W.remove,W}else throw new Lh(`"${p}.${F}()" is not implemented on ${v}`,tl.Unimplemented)});return F==="addListener"&&(C.remove=async()=>B()),C};return _.toString=()=>`${F.toString()}() { [capacitor code] }`,Object.defineProperty(_,"name",{value:F,writable:!1,configurable:!1}),_},S=w("addListener"),j=w("removeListener"),k=(F,B)=>{const _=S({eventName:F},B),X=async()=>{const P=await _;j({eventName:F,callbackId:P},B)},C=new Promise(P=>_.then(()=>P({remove:X})));return C.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await X()},C},R=new Proxy({},{get(F,B){switch(B){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return y?k:S;case"removeListener":return j;default:return w(B)}}});return s[p]=R,d.set(p,{name:p,proxy:R,platforms:new Set([...Object.keys(f),...y?[v]:[]])}),R};return r.convertFileSrc||(r.convertFileSrc=p=>p),r.getPlatform=a,r.handleError=c,r.isNativePlatform=i,r.isPluginAvailable=o,r.registerPlugin=m,r.Exception=Lh,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},l6=e=>e.Capacitor=o6(e),kr=l6(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),ed=kr.registerPlugin;class rk{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,r){let s=!1;this.listeners[t]||(this.listeners[t]=[],s=!0),this.listeners[t].push(r);const i=this.windowListeners[t];i&&!i.registered&&this.addWindowListener(i),s&&this.sendRetainedArgumentsForEvent(t);const o=async()=>this.removeListener(t,r);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,r,s){const a=this.listeners[t];if(!a){if(s){let i=this.retainedEventArguments[t];i||(i=[]),i.push(r),this.retainedEventArguments[t]=i}return}a.forEach(i=>i(r))}hasListeners(t){var r;return!!(!((r=this.listeners[t])===null||r===void 0)&&r.length)}registerWindowListener(t,r){this.windowListeners[r]={registered:!1,windowEventName:t,pluginEventName:r,handler:s=>{this.notifyListeners(r,s)}}}unimplemented(t="not implemented"){return new kr.Exception(t,tl.Unimplemented)}unavailable(t="not available"){return new kr.Exception(t,tl.Unavailable)}async removeListener(t,r){const s=this.listeners[t];if(!s)return;const a=s.indexOf(r);this.listeners[t].splice(a,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const r=this.retainedEventArguments[t];r&&(delete this.retainedEventArguments[t],r.forEach(s=>{this.notifyListeners(t,s)}))}}const Zy=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Jy=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class c6 extends rk{async getCookies(){const t=document.cookie,r={};return t.split(";").forEach(s=>{if(s.length<=0)return;let[a,i]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=Jy(a).trim(),i=Jy(i).trim(),r[a]=i}),r}async setCookie(t){try{const r=Zy(t.key),s=Zy(t.value),a=`; expires=${(t.expires||"").replace("expires=","")}`,i=(t.path||"/").replace("path=",""),o=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${r}=${s||""}${a}; path=${i}; ${o};`}catch(r){return Promise.reject(r)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const r of t)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}ed("CapacitorCookies",{web:()=>new c6});const d6=async e=>new Promise((t,r)=>{const s=new FileReader;s.onload=()=>{const a=s.result;t(a.indexOf(",")>=0?a.split(",")[1]:a)},s.onerror=a=>r(a),s.readAsDataURL(e)}),u6=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(a=>a.toLocaleLowerCase()).reduce((a,i,o)=>(a[i]=e[t[o]],a),{})},m6=(e,t=!0)=>e?Object.entries(e).reduce((s,a)=>{const[i,o]=a;let l,c;return Array.isArray(o)?(c="",o.forEach(d=>{l=t?encodeURIComponent(d):d,c+=`${i}=${l}&`}),c.slice(0,-1)):(l=t?encodeURIComponent(o):o,c=`${i}=${l}`),`${s}&${c}`},"").substr(1):null,h6=(e,t={})=>{const r=Object.assign({method:e.method||"GET",headers:e.headers},t),a=u6(e.headers)["content-type"]||"";if(typeof e.data=="string")r.body=e.data;else if(a.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,l]of Object.entries(e.data||{}))i.set(o,l);r.body=i.toString()}else if(a.includes("multipart/form-data")||e.data instanceof FormData){const i=new FormData;if(e.data instanceof FormData)e.data.forEach((l,c)=>{i.append(c,l)});else for(const l of Object.keys(e.data))i.append(l,e.data[l]);r.body=i;const o=new Headers(r.headers);o.delete("content-type"),r.headers=o}else(a.includes("application/json")||typeof e.data=="object")&&(r.body=JSON.stringify(e.data));return r};class f6 extends rk{async request(t){const r=h6(t,t.webFetchExtra),s=m6(t.params,t.shouldEncodeUrlParams),a=s?`${t.url}?${s}`:t.url,i=await fetch(a,r),o=i.headers.get("content-type")||"";let{responseType:l="text"}=i.ok?t:{};o.includes("application/json")&&(l="json");let c,d;switch(l){case"arraybuffer":case"blob":d=await i.blob(),c=await d6(d);break;case"json":c=await i.json();break;case"document":case"text":default:c=await i.text()}const m={};return i.headers.forEach((p,f)=>{m[f]=p}),{data:c,headers:m,status:i.status,url:i.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}ed("CapacitorHttp",{web:()=>new f6});const Oi=ed("PushNotifications",{}),p6="modulepreload",g6=function(e){return"/"+e},ev={},nk=function(t,r,s){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=g6(c),c in ev)return;ev[c]=!0;const d=c.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":p6,d||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),d)return new Promise((f,x)=>{p.addEventListener("load",f),p.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},x6=ed("Device",{web:()=>nk(()=>import("./web-BDutOBNj.js"),[]).then(e=>new e.DeviceWeb)});class so{constructor(){this.isInitialized=!1,this.pushToken=null}static getInstance(){return so.instance||(so.instance=new so),so.instance}async initialize(){if(!this.isInitialized)try{if((await x6.getInfo()).platform==="web"){console.log("Push notifications not supported on web platform");return}(await Oi.requestPermissions()).receive==="granted"?(await Oi.register(),Oi.addListener("registration",async s=>{console.log("Push registration success, token: "+s.value),this.pushToken=s.value,await this.registerTokenWithServer(s.value)}),Oi.addListener("registrationError",s=>{console.error("Error on registration: "+JSON.stringify(s))}),Oi.addListener("pushNotificationReceived",s=>{console.log("Push notification received: ",s),this.handleNotificationReceived(s)}),Oi.addListener("pushNotificationActionPerformed",s=>{console.log("Push notification action performed: ",s),this.handleNotificationTapped(s)}),this.isInitialized=!0):console.log("Push notification permission denied")}catch(t){console.error("Error initializing push notifications:",t)}}async registerTokenWithServer(t){try{await Pe("POST","/api/push/register-token",{token:t,userId:1,platform:"mobile"})}catch(r){console.error("Failed to register push token with server:",r)}}handleNotificationReceived(t){const{title:r,body:s,data:a}=t;this.showLocalNotification(r,s,a)}handleNotificationTapped(t){const{data:r}=t.notification;((r==null?void 0:r.type)==="subscription_expiry"||(r==null?void 0:r.type)==="subscription_expired")&&(window.location.href="/account-management")}showLocalNotification(t,r,s){if("Notification"in window&&Notification.permission==="granted"){const a=new Notification(t,{body:r,icon:"/favicon.ico",badge:"/favicon.ico",data:s});a.onclick=()=>{((s==null?void 0:s.type)==="subscription_expiry"||(s==null?void 0:s.type)==="subscription_expired")&&(window.location.href="/account-management"),a.close()}}}async scheduleLocalNotification(t,r){setTimeout(()=>{this.showLocalNotification(t.title,t.body,t.data)},r)}async sendTestNotification(){const t={title:"MyyMotto Subscription Reminder",body:"Your premium subscription expires in 30 days. Renew now to continue enjoying all features!",data:{type:"subscription_expiry",daysUntilExpiry:30}};this.showLocalNotification(t.title,t.body,t.data),this.scheduleLocalNotification(t,5e3)}getPushToken(){return this.pushToken}isReady(){return this.isInitialized}}const y6=so.getInstance(),v6="/assets/Mymotto_Logo_Green_Revised_1753803272333-DtyI9qNT.png",tv="/assets/Splash2_1753803523478-UQj-HnN2.JPG";function dt({className:e="text-xl font-bold"}){return n.jsxs("h1",{className:e,children:[n.jsx("span",{className:"text-blue-900",children:"M"}),n.jsx("span",{className:"text-yellow-500",children:"y"}),n.jsx("span",{className:"text-yellow-500",children:"y"}),n.jsx("span",{className:"text-blue-900",children:"M"}),n.jsx("span",{className:"text-green-500",children:"o"}),n.jsx("span",{className:"text-red-600",children:"t"}),n.jsx("span",{className:"text-red-600",children:"t"}),n.jsx("span",{className:"text-green-500",children:"o"})]})}function w6({onComplete:e}){const[t,r]=h.useState("main"),[s,a]=h.useState(.3);return h.useEffect(()=>{const i=setTimeout(()=>{a(1)},100),o=setTimeout(()=>{r("splash2")},2e3),l=setTimeout(()=>{r("fadeout"),setTimeout(e,300)},5e3);return()=>{clearTimeout(i),clearTimeout(o),clearTimeout(l)}},[e]),t==="main"?n.jsx("div",{className:"fixed inset-0 bg-white z-50 flex flex-col items-center justify-center transition-opacity duration-300",children:n.jsxs("div",{className:"flex flex-col items-center space-y-8",children:[n.jsx("img",{src:v6,alt:"MyyMotto Logo",className:"w-64 h-64 object-contain transition-transform duration-1000 ease-out",style:{transform:`scale(${s})`}}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-5xl font-bold mb-2",children:n.jsx(dt,{})}),n.jsx("p",{className:"text-xl text-red-600",children:"Timely Care for your carrier"})]})]})}):t==="splash2"?n.jsx("div",{className:"fixed inset-0 bg-white z-50 flex items-center justify-center",children:n.jsx("img",{src:tv,alt:"MyyMotto Features",className:"w-full h-full object-contain max-w-md mx-auto"})}):n.jsx("div",{className:"fixed inset-0 bg-white z-50 flex flex-col items-center justify-center transition-opacity duration-300 opacity-0 pointer-events-none",children:n.jsx("div",{className:"flex flex-col items-center space-y-8",children:n.jsx("img",{src:tv,alt:"MyyMotto Features",className:"w-full h-full object-contain max-w-md mx-auto"})})})}const fx=Pm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),O=h.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...a},i)=>{const o=s?R2:"button";return n.jsx(o,{className:Se(fx({variant:t,size:r,className:e})),ref:i,...a})});O.displayName="Button";function b6({onComplete:e}){const[,t]=Zt(),[r,s]=h.useState([{id:"camera",name:"Camera Access",description:"Take photos of documents and vehicle",icon:n.jsx(Da,{className:"w-6 h-6"}),required:!0,status:"pending"},{id:"location",name:"Location Access",description:"Find nearby service centers",icon:n.jsx(Ta,{className:"w-6 h-6"}),required:!0,status:"pending"},{id:"gallery",name:"Photo Gallery",description:"Upload images from your gallery",icon:n.jsx(dC,{className:"w-6 h-6"}),required:!0,status:"pending"},{id:"contacts",name:"Contacts Access",description:"Save emergency contacts easily",icon:n.jsx(hs,{className:"w-6 h-6"}),required:!1,status:"pending"},{id:"microphone",name:"Microphone Access",description:"Voice notes for service records",icon:n.jsx(mC,{className:"w-6 h-6"}),required:!1,status:"pending"},{id:"documents",name:"Documents Folder",description:"Access documents saved on your device",icon:n.jsx(Tt,{className:"w-6 h-6"}),required:!0,status:"pending"},{id:"downloads",name:"Downloads Folder",description:"Access files in your downloads folder",icon:n.jsx(Si,{className:"w-6 h-6"}),required:!0,status:"pending"},{id:"files",name:"File Manager Access",description:"Browse and upload files from your device",icon:n.jsx(MM,{className:"w-6 h-6"}),required:!0,status:"pending"},{id:"storage",name:"Internal Storage",description:"Access internal storage and saved files",icon:n.jsx(Em,{className:"w-6 h-6"}),required:!0,status:"pending"}]),[a,i]=h.useState(!1),o=async x=>{i(!0);try{let v=!1;switch(x){case"camera":if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)try{(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(N=>N.stop()),v=!0}catch{v=!1}break;case"location":if(navigator.geolocation)try{await new Promise((y,N)=>{navigator.geolocation.getCurrentPosition(y,N,{timeout:5e3})}),v=!0}catch{v=!1}break;case"gallery":v=!0;break;case"contacts":v=!0;break;case"microphone":if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)try{(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(N=>N.stop()),v=!0}catch{v=!1}break;case"documents":case"downloads":case"files":case"storage":v=!0;break}s(y=>{const N=y.map(b=>b.id===x?{...b,status:v?"granted":"denied"}:b);return l(N),N})}catch{s(y=>{const N=y.map(b=>b.id===x?{...b,status:"denied"}:b);return l(N),N})}i(!1)},l=x=>{const v=x.reduce((y,N)=>(y[N.id]=N.status,y),{});localStorage.setItem("appPermissions",JSON.stringify(v))},c=async()=>{i(!0);for(const x of r)x.status==="pending"&&(await o(x.id),await new Promise(v=>setTimeout(v,500)));i(!1)},d=()=>{const x=r.reduce((y,N)=>(y[N.id]=N.status,y),{}),v=localStorage.getItem("currentUserId");localStorage.setItem("appPermissions",JSON.stringify(x)),localStorage.setItem(`permissionsCompleted_${v}`,"true"),t("/"),e()},m=r.filter(x=>x.required),p=r.filter(x=>!x.required),f=m.every(x=>x.status==="granted");return n.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-blue-50 to-orange-50 z-50 overflow-y-auto",children:n.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center px-6 py-8",children:n.jsxs("div",{className:"max-w-md mx-auto w-full",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"flex items-center justify-center mb-4",children:n.jsx(Xt,{className:"w-12 h-12 text-blue-600"})}),n.jsx("div",{className:"text-2xl font-bold mb-2",children:n.jsx(dt,{})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"App Permissions"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"To provide the best experience, MyyMotto needs access to some device features"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[n.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),"Required Permissions"]}),n.jsx("div",{className:"space-y-3",children:m.map(x=>n.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${x.status==="granted"?"bg-green-100 text-green-600":x.status==="denied"?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"}`,children:x.icon}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-800",children:x.name}),n.jsx("p",{className:"text-sm text-gray-600",children:x.description})]})]}),n.jsxs("div",{className:"flex items-center",children:[x.status==="granted"&&n.jsx(nn,{className:"w-5 h-5 text-green-600"}),x.status==="denied"&&n.jsx(Kr,{className:"w-5 h-5 text-red-600"}),x.status==="pending"&&n.jsx(O,{size:"sm",onClick:()=>o(x.id),disabled:a,className:"text-xs",children:"Allow"})]})]})},x.id))})]}),n.jsxs("div",{className:"mb-8",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[n.jsx("span",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-2"}),"Optional Permissions"]}),n.jsx("div",{className:"space-y-3",children:p.map(x=>n.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${x.status==="granted"?"bg-green-100 text-green-600":x.status==="denied"?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"}`,children:x.icon}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-800",children:x.name}),n.jsx("p",{className:"text-sm text-gray-600",children:x.description})]})]}),n.jsxs("div",{className:"flex items-center",children:[x.status==="granted"&&n.jsx(nn,{className:"w-5 h-5 text-green-600"}),x.status==="denied"&&n.jsx(Kr,{className:"w-5 h-5 text-red-600"}),x.status==="pending"&&n.jsx(O,{size:"sm",variant:"outline",onClick:()=>o(x.id),disabled:a,className:"text-xs",children:"Allow"})]})]})},x.id))})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(O,{onClick:c,disabled:a,className:"w-full bg-blue-600 hover:bg-blue-700 text-white h-12",children:a?"Requesting Permissions...":"Allow All Permissions"}),n.jsx(O,{onClick:d,className:"w-full h-12 text-lg font-semibold bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white shadow-lg transition-all duration-200",children:"Next "}),!f&&n.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:n.jsx("p",{className:"text-center text-sm text-orange-700",children:"Note: Some features may be limited without required permissions"})})]}),n.jsx("div",{className:"mt-6 bg-blue-50 rounded-lg p-4 border border-blue-200",children:n.jsx("p",{className:"text-xs text-blue-800 text-center",children:" Your privacy is important to us. These permissions are only used for app functionality and data stays on your device."})})]})})})}function j6(e){const t=new Date,r=e.getTime()-t.getTime(),s=Math.ceil(r/(1e3*60*60*24));if(s<0){const a=Math.abs(s);return`${a} day${a===1?"":"s"} ago`}else{if(s===0)return"Today";if(s===1)return"Tomorrow";if(s<30)return`${s} day${s===1?"":"s"}`;if(s<365){const a=Math.floor(s/30);return`${a} month${a===1?"":"s"}`}else{const a=Math.floor(s/365);return`${a} year${a===1?"":"s"}`}}}function N6(e){if(!e)return{status:"unknown",text:"No service date recorded",shortText:"Not set",color:"secondary"};const t=new Date(e),s=new Date().getTime()-t.getTime(),a=Math.floor(s/(1e3*60*60*24));if(a<0)return{status:"valid",text:"Future service date",shortText:"Future",color:"secondary"};if(a<=30)return{status:"valid",text:`Last serviced ${a} day${a===1?"":"s"} ago`,shortText:`${a}d ago`,color:"success"};if(a<=365){const i=Math.floor(a/30);return{status:"valid",text:`Last serviced ${i} month${i===1?"":"s"} ago`,shortText:`${i}m ago`,color:"success"}}else{const i=Math.floor(a/365),o=Math.floor(a%365/30);return o>0?{status:"valid",text:`Last serviced ${i} year${i===1?"":"s"} ${o} month${o===1?"":"s"} ago`,shortText:`${i}y ${o}m ago`,color:"success"}:{status:"valid",text:`Last serviced ${i} year${i===1?"":"s"} ago`,shortText:`${i}y ago`,color:"success"}}}function S6(e,t){if(!e||!t)return{date:null,status:"unknown",text:"Service info not available",shortText:"Not set"};const r=new Date(e),s=new Date(r);s.setMonth(s.getMonth()+t);const a=new Date,i=s.getTime()-a.getTime(),o=Math.floor(i/(1e3*60*60*24));if(o<0){const l=Math.abs(o);return{date:s,status:"overdue",text:`Service overdue by ${l} day${l===1?"":"s"}`,shortText:`${l}d overdue`}}else{if(o<=7)return{date:s,status:"due_soon",text:`Service due in ${o} day${o===1?"":"s"}`,shortText:`${o}d left`};if(o<=30)return{date:s,status:"due_month",text:`Service due in ${o} day${o===1?"":"s"}`,shortText:`${o}d left`};{const l=Math.floor(o/30);return{date:s,status:"future",text:`Service due in ${l} month${l===1?"":"s"}`,shortText:`${l}m left`}}}}function C6(e){if(!e||e.trim()==="")return null;try{const t=e.split("/");if(t.length!==3)return null;const r=parseInt(t[0]),s=parseInt(t[1]),a=parseInt(t[2]);return isNaN(r)||isNaN(s)||isNaN(a)||r<1||r>31||s<1||s>12?null:new Date(a,s-1,r)}catch(t){return console.error("Date parsing error:",t),null}}function Cp(e){if(!e||e.trim()==="")return null;try{const t=C6(e);if(!t)return null;const r=t.getFullYear(),s=(t.getMonth()+1).toString().padStart(2,"0"),a=t.getDate().toString().padStart(2,"0");return`${r}-${s}-${a}`}catch(t){return console.error("Database date formatting error:",t),null}}function _d(e){if(!e)return"";try{let t;if(typeof e=="string")if(e.includes("/")){const o=e.split("/");if(o.length===3){const[l,c,d]=o;parseInt(l)<=12&&parseInt(c)>12?t=new Date(parseInt(d),parseInt(l)-1,parseInt(c)):t=new Date(parseInt(d),parseInt(c)-1,parseInt(l))}else return""}else if(e.includes("-"))t=new Date(e);else return"";else t=e;if(isNaN(t.getTime()))return"";const r=t.getDate().toString().padStart(2,"0"),a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],i=t.getFullYear();return`${r}-${a}-${i}`}catch(t){return console.error("Date formatting error:",t),""}}function px(e){const t=[{key:"make",name:"Vehicle Make",category:"Basic Info",weight:3},{key:"model",name:"Vehicle Model",category:"Basic Info",weight:3},{key:"licensePlate",name:"License Plate",category:"Basic Info",weight:3},{key:"vehicleType",name:"Vehicle Type",category:"Basic Info",weight:2},{key:"fuelType",name:"Fuel Type",category:"Basic Info",weight:2},{key:"chassisNumber",name:"Chassis Number",category:"Documentation",weight:2},{key:"engineNumber",name:"Engine Number",category:"Documentation",weight:2},{key:"rcExpiry",name:"RC Expiry Date",category:"Legal Documents",weight:3},{key:"insuranceExpiry",name:"Insurance Expiry",category:"Legal Documents",weight:3},{key:"insuranceProvider",name:"Insurance Provider",category:"Legal Documents",weight:2},{key:"emissionExpiry",name:"Emission Certificate",category:"Environmental",weight:2},{key:"lastServiceDate",name:"Last Service Date",category:"Maintenance",weight:2},{key:"currentOdometerReading",name:"Odometer Reading",category:"Maintenance",weight:1},{key:"averageUsagePerMonth",name:"Average Usage",category:"Maintenance",weight:1},{key:"color",name:"Vehicle Color",category:"Basic Info",weight:1},{key:"thumbnailPath",name:"Vehicle Photo",category:"Visual",weight:1}];let r=0,s=0;const a=[];t.forEach(l=>{r+=l.weight;const c=e==null?void 0:e[l.key];c!=null&&c!==""&&(typeof c!="string"||c.trim()!=="")?s+=l.weight:a.push({name:l.name,category:l.category,weight:l.weight})}),a.sort((l,c)=>c.weight-l.weight);const i=Math.round(s/r*100),o=t.length-a.length;return{percentage:i,completedFields:o,totalFields:t.length,missingFields:a}}const re=h.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Se("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));re.displayName="Card";const Me=h.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Se("flex flex-col space-y-1.5 p-6",e),...t}));Me.displayName="CardHeader";const Fe=h.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Se("text-2xl font-semibold leading-none tracking-tight",e),...t}));Fe.displayName="CardTitle";const kp=h.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Se("text-sm text-muted-foreground",e),...t}));kp.displayName="CardDescription";const se=h.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Se("p-6 pt-0",e),...t}));se.displayName="CardContent";const k6=h.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Se("flex items-center p-6 pt-0",e),...t}));k6.displayName="CardFooter";class P6{constructor(){this.dbName="MyyMottoDocuments",this.dbVersion=1,this.storeName="documents",this.uniqueDocumentTypes=["emission","rc","road_tax","fitness_certificate"]}async openDB(){return new Promise((t,r)=>{const s=indexedDB.open(this.dbName,this.dbVersion);s.onerror=()=>r(s.error),s.onsuccess=()=>t(s.result),s.onupgradeneeded=a=>{const i=a.target.result;if(!i.objectStoreNames.contains(this.storeName)){const o=i.createObjectStore(this.storeName,{keyPath:"id"});o.createIndex("vehicleId","vehicleId",{unique:!1}),o.createIndex("type","type",{unique:!1})}}})}async storeDocument(t,r,s,a,i){const o=await this.openDB();let l=null,c="",d=0,m=i||"No File";s&&(l=await s.arrayBuffer(),c=s.type,d=s.size,m=i||s.name);const p={id:`${t}-${r}-${Date.now()}`,vehicleId:t,type:r,fileName:m,fileData:l,mimeType:c,fileSize:d,uploadedAt:new Date().toISOString(),metadata:a};return new Promise((f,x)=>{const N=o.transaction([this.storeName],"readwrite").objectStore(this.storeName).put(p);N.onerror=()=>x(N.error),N.onsuccess=()=>f(p)})}async getDocumentsByVehicle(t){const r=await this.openDB();return new Promise((s,a)=>{const c=r.transaction([this.storeName],"readonly").objectStore(this.storeName).index("vehicleId").getAll(t);c.onerror=()=>a(c.error),c.onsuccess=()=>s(c.result)})}async getDocument(t){const r=await this.openDB();return new Promise((s,a)=>{const l=r.transaction([this.storeName],"readonly").objectStore(this.storeName).get(t);l.onerror=()=>a(l.error),l.onsuccess=()=>s(l.result)})}async deleteDocument(t){const r=await this.openDB();return new Promise((s,a)=>{const l=r.transaction([this.storeName],"readwrite").objectStore(this.storeName).delete(t);l.onerror=()=>a(l.error),l.onsuccess=()=>s(!0)})}async getAllDocuments(){const t=await this.openDB();return new Promise((r,s)=>{const o=t.transaction([this.storeName],"readonly").objectStore(this.storeName).getAll();o.onerror=()=>s(o.error),o.onsuccess=()=>r(o.result)})}createObjectURL(t){if(!t.fileData)throw new Error("Cannot create object URL for document without file data");const r=new Blob([t.fileData],{type:t.mimeType});return URL.createObjectURL(r)}downloadDocument(t){if(!t.fileData)throw new Error("Cannot download document without file data");const r=new Blob([t.fileData],{type:t.mimeType}),s=URL.createObjectURL(r),a=window.document.createElement("a");a.href=s,a.download=t.fileName,a.click(),URL.revokeObjectURL(s)}async getStorageInfo(){if("storage"in navigator&&"estimate"in navigator.storage){const t=await navigator.storage.estimate();return{used:t.usage||0,available:t.quota||0}}return{used:0,available:0}}async getExistingDocumentByType(t,r){return(await this.getDocumentsByVehicle(t)).find(a=>a.type===r)}async storeOrReplaceDocument(t,r,s,a,i){if(this.uniqueDocumentTypes.includes(r)){const o=await this.getExistingDocumentByType(t,r);o&&await this.deleteDocument(o.id)}return await this.storeDocument(t,r,s,a,i)}async updateDocument(t,r,s,a){const i=await this.getDocument(t);if(!i)return;const o=await this.openDB();let l=i.fileData,c=i.mimeType,d=i.fileSize,m=i.fileName;r?(l=await r.arrayBuffer(),c=r.type,d=r.size,m=a||r.name):a&&(m=a);const p={...i,fileName:m,fileData:l,mimeType:c,fileSize:d,metadata:{...i.metadata,...s},uploadedAt:new Date().toISOString()};return new Promise((f,x)=>{const N=o.transaction([this.storeName],"readwrite").objectStore(this.storeName).put(p);N.onerror=()=>x(N.error),N.onsuccess=()=>f(p)})}isUniqueDocumentType(t){return this.uniqueDocumentTypes.includes(t)}}const qt=new P6,T6=e=>{switch(e){case"2-wheeler":return n.jsx(CM,{className:"w-4 h-4 text-blue-600"});case"3-wheeler":return n.jsx(QM,{className:"w-4 h-4 text-orange-600"});case"4-wheeler":return n.jsx(_t,{className:"w-4 h-4 text-green-600"});default:return null}},E6=e=>{switch(e){case"petrol":return n.jsx(mp,{className:"w-4 h-4 text-red-600"});case"diesel":return n.jsx(IM,{className:"w-4 h-4 text-amber-600"});case"electric":return n.jsx(Ia,{className:"w-4 h-4 text-green-600"});case"hybrid":return n.jsxs("div",{className:"flex items-center",children:[n.jsx(mp,{className:"w-3 h-3 text-red-500"}),n.jsx(Ia,{className:"w-3 h-3 text-green-500 -ml-1"})]});default:return null}};function _6({vehicle:e}){var X,C,P,z,W,M,$,L;const[t,r]=h.useState(!1),[s,a]=h.useState(null),[i,o]=h.useState(null),{toast:l}=yt(),c=Jt();h.useEffect(()=>{(async()=>{try{const u=await qt.getDocumentsByVehicle(e.id),T=u.find(U=>U.type==="insurance"),A=u.find(U=>U.type==="emission");a(T),o(A)}catch(u){console.error("Error loading documents:",u)}})()},[e.id]);const{data:d=[]}=We({queryKey:[`/api/service-logs/${e.id}`],queryFn:async()=>(await Pe("GET",`/api/service-logs/${e.id}`)).json()}),{data:m=[]}=We({queryKey:["/api/service-alerts",e.id],queryFn:async()=>(await Pe("GET",`/api/service-alerts/${e.id}`)).json()});m.length;const p=(X=s==null?void 0:s.metadata)==null?void 0:X.insuranceExpiryDate;(C=s==null?void 0:s.metadata)==null||C.insuranceIssuedDate;const f=(P=s==null?void 0:s.metadata)==null?void 0:P.insuranceProvider,x=((z=i==null?void 0:i.metadata)==null?void 0:z.expiryDate)||e.emissionExpiry,v=D=>{if(!D)return{status:"unknown",color:"gray"};const u=new Date(D),T=new Date,A=Math.ceil((u.getTime()-T.getTime())/(1e3*60*60*24));return A<0?{status:"expired",color:"red"}:A<=30?{status:"expiring",color:"orange"}:A<=60?{status:"due_soon",color:"yellow"}:{status:"active",color:"green"}},y=v(p),N=v(x),b=()=>{if(!d||d.length===0)return null;const D=d.filter(u=>u.serviceDate&&u.serviceType&&u.serviceType.toUpperCase()==="GENERAL SERVICE (PAID)").sort((u,T)=>new Date(T.serviceDate).getTime()-new Date(u.serviceDate).getTime());return D.length>0?D[0].serviceDate:null},g=()=>{if(!d||d.length===0)return null;const D=d.filter(A=>A.serviceDate&&A.serviceIntervalMonths).sort((A,U)=>new Date(U.serviceDate).getTime()-new Date(A.serviceDate).getTime());if(D.length===0)return null;const u=D[0],T=new Date(u.serviceDate);return T.setMonth(T.getMonth()+u.serviceIntervalMonths),T.toISOString().split("T")[0]},w=b(),S=g();N6(w),S6(w,null);const j=[];(W=e.chassisNumber)!=null&&W.trim()||j.push("Chassis Number"),(M=e.engineNumber)!=null&&M.trim()||j.push("Engine Number");const k={...e,thumbnailPath:e.thumbnailPath?"photo-selected":null,insuranceProvider:f,insuranceExpiry:p,insuranceExpiryDate:p,emissionExpiry:x},F=px(k).percentage===100?"text-green-600":"text-red-600",B=rt({mutationFn:async()=>{const D=await Pe("DELETE",`/api/vehicles/${e.id}?userId=${e.userId}`);if(!D.ok){const u=await D.json();throw new Error(u.message||"Failed to delete vehicle")}},onSuccess:()=>{var D;c.invalidateQueries({queryKey:["/api/vehicles"]}),c.invalidateQueries({queryKey:["/api/stats"]}),l({title:"Vehicle Deleted",description:`${(D=e.make)==null?void 0:D.toUpperCase()} ${e.model} has been deleted successfully.`})},onError:D=>{l({title:"Delete Failed",description:D.message||"Failed to delete vehicle",variant:"destructive"})}}),_=()=>{t?(B.mutate(),r(!1)):r(!0)};return n.jsx(re,{className:"smooth-card tile-3d border-l-4 border-l-blue-500",children:n.jsxs(se,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[e.thumbnailPath?n.jsx("img",{src:e.thumbnailPath,alt:`${($=e.make)==null?void 0:$.toUpperCase()} ${e.model}`,className:"w-10 h-10 object-cover rounded-lg icon-3d"}):n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center icon-3d",children:n.jsx(_t,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("h3",{className:"font-semibold text-gray-800 text-base",children:[(L=e.make)==null?void 0:L.toUpperCase(),e.model?` ${e.model}`:""," ",e.year&&`(${e.year})`]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("p",{className:"text-sm text-gray-600",children:e.licensePlate}),T6(e.vehicleType),E6(e.fuelType)]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"flex items-center space-x-1",children:n.jsx(hp,{className:`w-3 h-3 ${F}`})}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Be,{href:`/vehicle/${e.id}/edit`,children:n.jsx(O,{variant:"ghost",size:"sm",className:"smooth-button text-blue-600 hover:bg-blue-50 p-1 h-auto w-auto",title:"Edit vehicle",children:n.jsx(pC,{className:"w-3 h-3"})})}),n.jsx(O,{variant:"ghost",size:"sm",className:`smooth-button p-1 h-auto w-auto ${t?"text-red-700 bg-red-100 hover:bg-red-200":"text-red-600 hover:bg-red-50"}`,onClick:_,disabled:B.isPending,title:t?"Click to confirm deletion":"Delete vehicle",children:n.jsx(qr,{className:"w-3 h-3"})}),t&&n.jsx(O,{variant:"ghost",size:"sm",className:"text-gray-600 p-1 h-auto w-auto hover:bg-gray-50",onClick:()=>r(!1),title:"Cancel deletion",children:n.jsx("span",{className:"text-xs",children:""})})]})]})]}),j.length>0&&n.jsx("div",{className:"mb-2 p-1.5 bg-orange-50 border border-orange-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(fr,{className:"w-3 h-3 text-orange-600"}),n.jsxs("span",{className:"text-xs font-medium text-orange-800",children:["Missing: ",j.join(", ")]})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs mb-2",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-amber-800 font-bold text-xs",children:"Insurance Expiry:"}),n.jsx("span",{className:`text-xs ${y.status==="expired"?"text-red-600":y.status==="expiring"?"text-orange-600":y.status==="due_soon"?"text-yellow-600":"text-gray-800"}`,children:p?_d(new Date(p)):"Not set"})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-amber-800 font-bold text-xs",children:"Emission Expiry:"}),n.jsx("span",{className:`text-xs ${N.status==="expired"?"text-red-600":N.status==="expiring"?"text-orange-600":N.status==="due_soon"?"text-yellow-600":"text-gray-800"}`,children:x?_d(new Date(x)):"Not set"})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-amber-800 font-bold text-xs",children:"Latest General Service:"}),n.jsx("span",{className:"text-gray-800 text-xs",children:w?_d(new Date(w)):"Not recorded"})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-amber-800 font-bold text-xs",children:"Next Service Date:"}),n.jsx("span",{className:`text-xs ${S&&new Date(S)<new Date?"text-red-600":S&&new Date(S)<=new Date(Date.now()+30*24*60*60*1e3)?"text-orange-600":S&&new Date(S)<=new Date(Date.now()+60*24*60*60*1e3)?"text-yellow-600":"text-gray-800"}`,children:S?_d(new Date(S)):"Not set"})]})]})]})]})})}function Mm({currentPath:e}){const{data:t=[]}=We({queryKey:["/api/broadcasts"]}),r=Array.isArray(t)?t.length:0,s=[{path:"/",icon:OM,label:"Home"},{path:"/broadcast?view=only",icon:uC,label:"Broadcast",count:r},{path:"/emergency-contacts",icon:hs,label:"Emergency"},{path:"/profile",icon:vp,label:"Profile"}];return n.jsx("nav",{className:"fixed bottom-0 left-1/2 transform -translate-x-1/2 max-w-md w-full bg-white/95 backdrop-blur-sm border-t border-red-100 z-20 shadow-lg",children:n.jsx("div",{className:"grid grid-cols-4 gap-0 py-2 px-1",children:s.map((a,i)=>{const o=a.icon,l=e===a.path,c=[{active:"text-red-600 bg-red-50",inactive:"text-gray-500 hover:text-red-600 hover:bg-red-50"},{active:"text-orange-600 bg-orange-50",inactive:"text-gray-500 hover:text-orange-600 hover:bg-orange-50"},{active:"text-yellow-600 bg-yellow-50",inactive:"text-gray-500 hover:text-yellow-600 hover:bg-yellow-50"},{active:"text-red-600 bg-red-50",inactive:"text-gray-500 hover:text-red-600 hover:bg-red-50"}];return n.jsx(Be,{href:a.path,className:"flex-1",children:n.jsxs(O,{variant:"ghost",size:"sm",className:`smooth-button flex flex-col items-center justify-center py-2 px-0.5 h-16 space-y-0.5 w-full rounded-lg relative nav-link ${l?c[i].active:c[i].inactive}`,children:[n.jsxs("div",{className:"relative flex-shrink-0",children:[n.jsx(o,{className:"w-5 h-5"}),a.count!==void 0&&a.count>0&&n.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-[8px] rounded-full w-3.5 h-3.5 flex items-center justify-center font-bold leading-none",children:a.count>99?"99+":a.count})]}),n.jsx("span",{className:`text-[10px] font-medium leading-tight text-center ${l?"text-current":"text-gray-500"}`,children:a.label})]})},a.path)})})})}function D6(){const[e,t]=h.useState(!1);return n.jsxs("div",{className:"fixed bottom-20 right-4 z-30",children:[e&&n.jsxs("div",{className:"absolute bottom-16 right-0 space-y-2 mb-2",children:[n.jsxs("div",{className:"relative group",children:[n.jsx(Be,{href:"/calendar-reminder",children:n.jsx(O,{size:"sm",className:"w-12 h-12 rounded-full bg-blue-500 hover:bg-blue-600 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",onClick:()=>t(!1),children:n.jsx(Ft,{className:"w-5 h-5"})})}),n.jsx("div",{className:"absolute right-14 top-1/2 transform -translate-y-1/2 bg-black text-white text-xs rounded px-2 py-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none",children:"Calendar Reminder"})]}),n.jsxs("div",{className:"relative group",children:[n.jsx(Be,{href:"/add-vehicle",children:n.jsx(O,{size:"sm",className:"w-12 h-12 rounded-full bg-green-500 hover:bg-green-600 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",onClick:()=>t(!1),children:n.jsx(_t,{className:"w-5 h-5"})})}),n.jsx("div",{className:"absolute right-14 top-1/2 transform -translate-y-1/2 bg-black text-white text-xs rounded px-2 py-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none",children:"Add Vehicle"})]}),n.jsxs("div",{className:"relative group",children:[n.jsx(Be,{href:"/broadcast",children:n.jsx(O,{size:"sm",className:"w-12 h-12 rounded-full bg-orange-500 hover:bg-orange-600 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",onClick:()=>t(!1),children:n.jsx(uC,{className:"w-5 h-5"})})}),n.jsx("div",{className:"absolute right-14 top-1/2 transform -translate-y-1/2 bg-black text-white text-xs rounded px-2 py-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none",children:"Create Broadcast"})]})]}),n.jsxs("div",{className:"relative group",children:[n.jsx(O,{size:"lg",className:"w-14 h-14 rounded-full gradient-warm text-white border-0 hover:opacity-90 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",onClick:()=>t(!e),children:n.jsx(Ar,{className:`w-6 h-6 transition-transform duration-300 ${e?"rotate-45":""}`})}),n.jsx("div",{className:"absolute right-16 top-1/2 transform -translate-y-1/2 bg-black text-white text-xs rounded px-2 py-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none",children:"Quick Actions"})]})]})}const I6=Pm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ct({className:e,variant:t,...r}){return n.jsx("div",{className:Se(I6({variant:t}),e),...r})}function A6({onClose:e}){const t=Jt(),{data:r=[],isLoading:s}=We({queryKey:["/api/notifications"]}),{data:a=[]}=We({queryKey:["/api/vehicles"]}),i=rt({mutationFn:m=>Pe("PUT",`/api/notifications/${m}/read`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/notifications"]})}}),o=r.filter(m=>!m.isRead).length,l=m=>{if(!m||!a)return null;const p=a.find(f=>f.id===m);return p?p.licensePlate:null},c=m=>{switch(m){case"insurance":return n.jsx(_t,{className:"w-4 h-4 text-blue-600"});case"emission":return n.jsx(fr,{className:"w-4 h-4 text-orange-600"});case"service":return n.jsx(Ft,{className:"w-4 h-4 text-green-600"});default:return n.jsx(jr,{className:"w-4 h-4 text-gray-600"})}},d=m=>{switch(m){case"insurance":return n.jsx(ct,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:"Insurance"});case"emission":return n.jsx(ct,{variant:"secondary",className:"bg-orange-100 text-orange-800",children:"Emission"});case"service":return n.jsx(ct,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Service"});default:return n.jsx(ct,{variant:"secondary",children:"General"})}};return s?n.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:m=>{m.target===m.currentTarget&&e()},children:n.jsx(re,{className:"w-full max-w-md shadow-orange",children:n.jsx(Me,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Fe,{children:"Loading Notifications..."}),n.jsx(O,{variant:"ghost",size:"sm",onClick:e,className:"text-gray-600 hover:text-gray-700 hover:bg-gray-100",children:n.jsx(Kr,{className:"w-5 h-5"})})]})})})}):n.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:m=>{m.target===m.currentTarget&&e()},children:n.jsxs(re,{className:"w-full max-w-md max-h-[90vh] overflow-hidden shadow-orange",children:[n.jsx(Me,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs(Fe,{className:"flex items-center space-x-2",children:[n.jsx(jr,{className:"w-5 h-5"}),n.jsx("span",{children:"Notifications"}),o>0&&n.jsx(ct,{variant:"destructive",className:"bg-red-500",children:o})]}),n.jsx(O,{variant:"ghost",size:"sm",onClick:e,className:"text-gray-600 hover:text-gray-700 hover:bg-gray-100 shrink-0",children:n.jsx(Kr,{className:"w-5 h-5"})})]})}),n.jsx(se,{className:"max-h-[60vh] overflow-y-auto space-y-3 px-4",children:r.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(jr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No notifications yet"}),n.jsx("p",{className:"text-sm",children:"We'll notify you when documents need renewal"})]}):r.map(m=>n.jsx("div",{className:`p-4 rounded-lg border transition-colors ${m.isRead?"bg-gray-50 border-gray-200":"bg-white border-blue-200 shadow-sm"}`,children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[c(m.type),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("h4",{className:`font-medium ${m.isRead?"text-gray-600":"text-gray-900"}`,children:m.title}),d(m.type),m.vehicleId&&l(m.vehicleId)&&n.jsx(ct,{variant:"outline",className:"bg-orange-50 text-orange-700 border-orange-300 text-xs",children:l(m.vehicleId)})]}),n.jsx("p",{className:`text-sm ${m.isRead?"text-gray-500":"text-gray-700"}`,children:m.message}),n.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[n.jsxs("span",{children:["Due: ",new Date(m.dueDate).toLocaleDateString()]}),n.jsx("span",{children:""}),n.jsx("span",{children:j6(new Date(m.createdAt))})]})]})]}),!m.isRead&&n.jsx(O,{variant:"ghost",size:"sm",onClick:()=>i.mutate(m.id),disabled:i.isPending,className:"text-green-600 hover:text-green-700",children:n.jsx(nn,{className:"w-4 h-4"})})]})},m.id))})]})})}function Sc(){const[e,t]=h.useState(!1),r=Jt();h.useEffect(()=>{const o=()=>{a()&&r.invalidateQueries({queryKey:["/api/notifications"]})};o();const l=()=>o();return window.addEventListener("focus",l),()=>window.removeEventListener("focus",l)},[r]);const{data:s=[]}=We({queryKey:["/api/notifications"],queryFn:async()=>{let o=localStorage.getItem("currentUserId")||localStorage.getItem("userId")||sessionStorage.getItem("currentUserId")||sessionStorage.getItem("userId")||"1";console.log("Fetching notifications for userId:",o);const c=await(await Pe("GET",`/api/notifications?userId=${o}`)).json();console.log("Received notifications:",c.length);const d=new Date().toDateString();return localStorage.setItem("notifications_last_fetched",d),c},enabled:!0,staleTime:5*60*1e3,gcTime:24*60*60*1e3});function a(){const o=localStorage.getItem("notifications_last_fetched"),l=new Date().toDateString();return!o||o!==l}const i=s.filter(o=>!o.isRead).length;return n.jsxs(n.Fragment,{children:[n.jsxs(O,{variant:"ghost",size:"icon",className:"text-blue-400 hover:bg-white/20 hover:text-blue-300 relative",onClick:()=>t(!0),children:[n.jsx(jr,{className:"w-8 h-8 font-bold stroke-2"}),i>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold",children:i>9?"9+":i})]}),e&&n.jsx(A6,{onClose:()=>t(!1)})]})}var R6=h.createContext(void 0);function Fm(e){const t=h.useContext(R6);return e||t||"ltr"}var $h=0;function gx(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??rv()),document.body.insertAdjacentElement("beforeend",e[1]??rv()),$h++,()=>{$h===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),$h--}},[])}function rv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Vh="focusScope.autoFocusOnMount",zh="focusScope.autoFocusOnUnmount",nv={bubbles:!1,cancelable:!0},M6="FocusScope",Om=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=h.useState(null),d=Sr(a),m=Sr(i),p=h.useRef(null),f=st(t,y=>c(y)),x=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(s){let y=function(w){if(x.paused||!l)return;const S=w.target;l.contains(S)?p.current=S:ta(p.current,{select:!0})},N=function(w){if(x.paused||!l)return;const S=w.relatedTarget;S!==null&&(l.contains(S)||ta(p.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&ta(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",N);const g=new MutationObserver(b);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",N),g.disconnect()}}},[s,l,x.paused]),h.useEffect(()=>{if(l){av.add(x);const y=document.activeElement;if(!l.contains(y)){const b=new CustomEvent(Vh,nv);l.addEventListener(Vh,d),l.dispatchEvent(b),b.defaultPrevented||(F6(z6(sk(l)),{select:!0}),document.activeElement===y&&ta(l))}return()=>{l.removeEventListener(Vh,d),setTimeout(()=>{const b=new CustomEvent(zh,nv);l.addEventListener(zh,m),l.dispatchEvent(b),b.defaultPrevented||ta(y??document.body,{select:!0}),l.removeEventListener(zh,m),av.remove(x)},0)}}},[l,d,m,x]);const v=h.useCallback(y=>{if(!r&&!s||x.paused)return;const N=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,b=document.activeElement;if(N&&b){const g=y.currentTarget,[w,S]=O6(g);w&&S?!y.shiftKey&&b===S?(y.preventDefault(),r&&ta(w,{select:!0})):y.shiftKey&&b===w&&(y.preventDefault(),r&&ta(S,{select:!0})):b===g&&y.preventDefault()}},[r,s,x.paused]);return n.jsx(Ve.div,{tabIndex:-1,...o,ref:f,onKeyDown:v})});Om.displayName=M6;function F6(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(ta(s,{select:t}),document.activeElement!==r)return}function O6(e){const t=sk(e),r=sv(t,e),s=sv(t.reverse(),e);return[r,s]}function sk(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function sv(e,t){for(const r of e)if(!L6(r,{upTo:t}))return r}function L6(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function $6(e){return e instanceof HTMLInputElement&&"select"in e}function ta(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&$6(e)&&t&&e.select()}}var av=V6();function V6(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=iv(e,t),e.unshift(t)},remove(t){var r;e=iv(e,t),(r=e[0])==null||r.resume()}}}function iv(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function z6(e){return e.filter(t=>t.tagName!=="A")}var Uh="rovingFocusGroup.onEntryFocus",U6={bubbles:!1,cancelable:!0},Lm="RovingFocusGroup",[Pp,ak,B6]=Sm(Lm),[q6,$m]=fn(Lm,[B6]),[Y6,G6]=q6(Lm),ik=h.forwardRef((e,t)=>n.jsx(Pp.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Pp.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(W6,{...e,ref:t})})}));ik.displayName=Lm;var W6=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:m=!1,...p}=e,f=h.useRef(null),x=st(t,f),v=Fm(i),[y=null,N]=Us({prop:o,defaultProp:l,onChange:c}),[b,g]=h.useState(!1),w=Sr(d),S=ak(r),j=h.useRef(!1),[k,R]=h.useState(0);return h.useEffect(()=>{const F=f.current;if(F)return F.addEventListener(Uh,w),()=>F.removeEventListener(Uh,w)},[w]),n.jsx(Y6,{scope:r,orientation:s,dir:v,loop:a,currentTabStopId:y,onItemFocus:h.useCallback(F=>N(F),[N]),onItemShiftTab:h.useCallback(()=>g(!0),[]),onFocusableItemAdd:h.useCallback(()=>R(F=>F+1),[]),onFocusableItemRemove:h.useCallback(()=>R(F=>F-1),[]),children:n.jsx(Ve.div,{tabIndex:b||k===0?-1:0,"data-orientation":s,...p,ref:x,style:{outline:"none",...e.style},onMouseDown:ye(e.onMouseDown,()=>{j.current=!0}),onFocus:ye(e.onFocus,F=>{const B=!j.current;if(F.target===F.currentTarget&&B&&!b){const _=new CustomEvent(Uh,U6);if(F.currentTarget.dispatchEvent(_),!_.defaultPrevented){const X=S().filter(M=>M.focusable),C=X.find(M=>M.active),P=X.find(M=>M.id===y),W=[C,P,...X].filter(Boolean).map(M=>M.ref.current);ck(W,m)}}j.current=!1}),onBlur:ye(e.onBlur,()=>g(!1))})})}),ok="RovingFocusGroupItem",lk=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:i,...o}=e,l=qn(),c=i||l,d=G6(ok,r),m=d.currentTabStopId===c,p=ak(r),{onFocusableItemAdd:f,onFocusableItemRemove:x}=d;return h.useEffect(()=>{if(s)return f(),()=>x()},[s,f,x]),n.jsx(Pp.ItemSlot,{scope:r,id:c,focusable:s,active:a,children:n.jsx(Ve.span,{tabIndex:m?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:ye(e.onMouseDown,v=>{s?d.onItemFocus(c):v.preventDefault()}),onFocus:ye(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:ye(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=K6(v,d.orientation,d.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=p().filter(g=>g.focusable).map(g=>g.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const g=b.indexOf(v.currentTarget);b=d.loop?Q6(b,g+1):b.slice(g+1)}setTimeout(()=>ck(b))}})})})});lk.displayName=ok;var X6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function H6(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function K6(e,t,r){const s=H6(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return X6[s]}function ck(e,t=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}function Q6(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var dk=ik,uk=lk,Z6=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Li=new WeakMap,Dd=new WeakMap,Id={},Bh=0,mk=function(e){return e&&(e.host||mk(e.parentNode))},J6=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=mk(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},eF=function(e,t,r,s){var a=J6(t,Array.isArray(e)?e:[e]);Id[r]||(Id[r]=new WeakMap);var i=Id[r],o=[],l=new Set,c=new Set(a),d=function(p){!p||l.has(p)||(l.add(p),d(p.parentNode))};a.forEach(d);var m=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(f){if(l.has(f))m(f);else try{var x=f.getAttribute(s),v=x!==null&&x!=="false",y=(Li.get(f)||0)+1,N=(i.get(f)||0)+1;Li.set(f,y),i.set(f,N),o.push(f),y===1&&v&&Dd.set(f,!0),N===1&&f.setAttribute(r,"true"),v||f.setAttribute(s,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return m(t),l.clear(),Bh++,function(){o.forEach(function(p){var f=Li.get(p)-1,x=i.get(p)-1;Li.set(p,f),i.set(p,x),f||(Dd.has(p)||p.removeAttribute(s),Dd.delete(p)),x||p.removeAttribute(r)}),Bh--,Bh||(Li=new WeakMap,Li=new WeakMap,Dd=new WeakMap,Id={})}},xx=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=Z6(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),eF(s,a,r,"aria-hidden")):function(){return null}},os=function(){return os=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},os.apply(this,arguments)};function hk(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function tF(e,t,r){if(r||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var eu="right-scroll-bar-position",tu="width-before-scroll-bar",rF="with-scroll-bars-hidden",nF="--removed-body-scroll-bar-size";function qh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function sF(e,t){var r=h.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var a=r.value;a!==s&&(r.value=s,r.callback(s,a))}}}})[0];return r.callback=t,r.facade}var aF=typeof window<"u"?h.useLayoutEffect:h.useEffect,ov=new WeakMap;function iF(e,t){var r=sF(null,function(s){return e.forEach(function(a){return qh(a,s)})});return aF(function(){var s=ov.get(r);if(s){var a=new Set(s),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||qh(l,null)}),i.forEach(function(l){a.has(l)||qh(l,o)})}ov.set(r,e)},[e]),r}function oF(e){return e}function lF(e,t){t===void 0&&(t=oF);var r=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,s);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){s=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var m=o;o=[],m.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(m){o.push(m),d()},filter:function(m){return o=o.filter(m),r}}}};return a}function cF(e){e===void 0&&(e={});var t=lF(null);return t.options=os({async:!0,ssr:!1},e),t}var fk=function(e){var t=e.sideCar,r=hk(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return h.createElement(s,os({},r))};fk.isSideCarExport=!0;function dF(e,t){return e.useMedium(t),fk}var pk=cF(),Yh=function(){},Vm=h.forwardRef(function(e,t){var r=h.useRef(null),s=h.useState({onScrollCapture:Yh,onWheelCapture:Yh,onTouchMoveCapture:Yh}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,m=e.enabled,p=e.shards,f=e.sideCar,x=e.noIsolation,v=e.inert,y=e.allowPinchZoom,N=e.as,b=N===void 0?"div":N,g=e.gapMode,w=hk(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,j=iF([r,t]),k=os(os({},w),a);return h.createElement(h.Fragment,null,m&&h.createElement(S,{sideCar:pk,removeScrollBar:d,shards:p,noIsolation:x,inert:v,setCallbacks:i,allowPinchZoom:!!y,lockRef:r,gapMode:g}),o?h.cloneElement(h.Children.only(l),os(os({},k),{ref:j})):h.createElement(b,os({},k,{className:c,ref:j}),l))});Vm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vm.classNames={fullWidth:tu,zeroRight:eu};var uF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function mF(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=uF();return t&&e.setAttribute("nonce",t),e}function hF(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function fF(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var pF=function(){var e=0,t=null;return{add:function(r){e==0&&(t=mF())&&(hF(t,r),fF(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},gF=function(){var e=pF();return function(t,r){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},gk=function(){var e=gF(),t=function(r){var s=r.styles,a=r.dynamic;return e(s,a),null};return t},xF={left:0,top:0,right:0,gap:0},Gh=function(e){return parseInt(e||"",10)||0},yF=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Gh(r),Gh(s),Gh(a)]},vF=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return xF;var t=yF(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},wF=gk(),yo="data-scroll-locked",bF=function(e,t,r,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(rF,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(yo,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(eu,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(tu,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(eu," .").concat(eu,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(tu," .").concat(tu,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(yo,`] {
    `).concat(nF,": ").concat(l,`px;
  }
`)},lv=function(){var e=parseInt(document.body.getAttribute(yo)||"0",10);return isFinite(e)?e:0},jF=function(){h.useEffect(function(){return document.body.setAttribute(yo,(lv()+1).toString()),function(){var e=lv()-1;e<=0?document.body.removeAttribute(yo):document.body.setAttribute(yo,e.toString())}},[])},NF=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;jF();var i=h.useMemo(function(){return vF(a)},[a]);return h.createElement(wF,{styles:bF(i,!t,a,r?"":"!important")})},Tp=!1;if(typeof window<"u")try{var Ad=Object.defineProperty({},"passive",{get:function(){return Tp=!0,!0}});window.addEventListener("test",Ad,Ad),window.removeEventListener("test",Ad,Ad)}catch{Tp=!1}var $i=Tp?{passive:!1}:!1,SF=function(e){return e.tagName==="TEXTAREA"},xk=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!SF(e)&&r[t]==="visible")},CF=function(e){return xk(e,"overflowY")},kF=function(e){return xk(e,"overflowX")},cv=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=yk(e,s);if(a){var i=vk(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},PF=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},TF=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},yk=function(e,t){return e==="v"?CF(t):kF(t)},vk=function(e,t){return e==="v"?PF(t):TF(t)},EF=function(e,t){return e==="h"&&t==="rtl"?-1:1},_F=function(e,t,r,s,a){var i=EF(e,window.getComputedStyle(t).direction),o=i*s,l=r.target,c=t.contains(l),d=!1,m=o>0,p=0,f=0;do{var x=vk(e,l),v=x[0],y=x[1],N=x[2],b=y-N-i*v;(v||b)&&yk(e,l)&&(p+=b,f+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(m&&(Math.abs(p)<1||!a)||!m&&(Math.abs(f)<1||!a))&&(d=!0),d},Rd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},dv=function(e){return[e.deltaX,e.deltaY]},uv=function(e){return e&&"current"in e?e.current:e},DF=function(e,t){return e[0]===t[0]&&e[1]===t[1]},IF=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},AF=0,Vi=[];function RF(e){var t=h.useRef([]),r=h.useRef([0,0]),s=h.useRef(),a=h.useState(AF++)[0],i=h.useState(gk)[0],o=h.useRef(e);h.useEffect(function(){o.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var y=tF([e.lockRef.current],(e.shards||[]).map(uv),!0).filter(Boolean);return y.forEach(function(N){return N.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),y.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(y,N){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var b=Rd(y),g=r.current,w="deltaX"in y?y.deltaX:g[0]-b[0],S="deltaY"in y?y.deltaY:g[1]-b[1],j,k=y.target,R=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in y&&R==="h"&&k.type==="range")return!1;var F=cv(R,k);if(!F)return!0;if(F?j=R:(j=R==="v"?"h":"v",F=cv(R,k)),!F)return!1;if(!s.current&&"changedTouches"in y&&(w||S)&&(s.current=j),!j)return!0;var B=s.current||j;return _F(B,N,y,B==="h"?w:S,!0)},[]),c=h.useCallback(function(y){var N=y;if(!(!Vi.length||Vi[Vi.length-1]!==i)){var b="deltaY"in N?dv(N):Rd(N),g=t.current.filter(function(j){return j.name===N.type&&(j.target===N.target||N.target===j.shadowParent)&&DF(j.delta,b)})[0];if(g&&g.should){N.cancelable&&N.preventDefault();return}if(!g){var w=(o.current.shards||[]).map(uv).filter(Boolean).filter(function(j){return j.contains(N.target)}),S=w.length>0?l(N,w[0]):!o.current.noIsolation;S&&N.cancelable&&N.preventDefault()}}},[]),d=h.useCallback(function(y,N,b,g){var w={name:y,delta:N,target:b,should:g,shadowParent:MF(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),m=h.useCallback(function(y){r.current=Rd(y),s.current=void 0},[]),p=h.useCallback(function(y){d(y.type,dv(y),y.target,l(y,e.lockRef.current))},[]),f=h.useCallback(function(y){d(y.type,Rd(y),y.target,l(y,e.lockRef.current))},[]);h.useEffect(function(){return Vi.push(i),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:f}),document.addEventListener("wheel",c,$i),document.addEventListener("touchmove",c,$i),document.addEventListener("touchstart",m,$i),function(){Vi=Vi.filter(function(y){return y!==i}),document.removeEventListener("wheel",c,$i),document.removeEventListener("touchmove",c,$i),document.removeEventListener("touchstart",m,$i)}},[]);var x=e.removeScrollBar,v=e.inert;return h.createElement(h.Fragment,null,v?h.createElement(i,{styles:IF(a)}):null,x?h.createElement(NF,{gapMode:e.gapMode}):null)}function MF(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const FF=dF(pk,RF);var zm=h.forwardRef(function(e,t){return h.createElement(Vm,os({},e,{ref:t,sideCar:FF}))});zm.classNames=Vm.classNames;var Ep=["Enter"," "],OF=["ArrowDown","PageUp","Home"],wk=["ArrowUp","PageDown","End"],LF=[...OF,...wk],$F={ltr:[...Ep,"ArrowRight"],rtl:[...Ep,"ArrowLeft"]},VF={ltr:["ArrowLeft"],rtl:["ArrowRight"]},td="Menu",[Cc,zF,UF]=Sm(td),[Ri,bk]=fn(td,[UF,pl,$m]),Um=pl(),jk=$m(),[BF,Mi]=Ri(td),[qF,rd]=Ri(td),Nk=e=>{const{__scopeMenu:t,open:r=!1,children:s,dir:a,onOpenChange:i,modal:o=!0}=e,l=Um(t),[c,d]=h.useState(null),m=h.useRef(!1),p=Sr(i),f=Fm(a);return h.useEffect(()=>{const x=()=>{m.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>m.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),n.jsx(WC,{...l,children:n.jsx(BF,{scope:t,open:r,onOpenChange:p,content:c,onContentChange:d,children:n.jsx(qF,{scope:t,onClose:h.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:m,dir:f,modal:o,children:s})})})};Nk.displayName=td;var YF="MenuAnchor",yx=h.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=Um(r);return n.jsx(dx,{...a,...s,ref:t})});yx.displayName=YF;var vx="MenuPortal",[GF,Sk]=Ri(vx,{forceMount:void 0}),Ck=e=>{const{__scopeMenu:t,forceMount:r,children:s,container:a}=e,i=Mi(vx,t);return n.jsx(GF,{scope:t,forceMount:r,children:n.jsx(Tn,{present:r||i.open,children:n.jsx(Qc,{asChild:!0,container:a,children:s})})})};Ck.displayName=vx;var Nn="MenuContent",[WF,wx]=Ri(Nn),kk=h.forwardRef((e,t)=>{const r=Sk(Nn,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=Mi(Nn,e.__scopeMenu),o=rd(Nn,e.__scopeMenu);return n.jsx(Cc.Provider,{scope:e.__scopeMenu,children:n.jsx(Tn,{present:s||i.open,children:n.jsx(Cc.Slot,{scope:e.__scopeMenu,children:o.modal?n.jsx(XF,{...a,ref:t}):n.jsx(HF,{...a,ref:t})})})})}),XF=h.forwardRef((e,t)=>{const r=Mi(Nn,e.__scopeMenu),s=h.useRef(null),a=st(t,s);return h.useEffect(()=>{const i=s.current;if(i)return xx(i)},[]),n.jsx(bx,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ye(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),HF=h.forwardRef((e,t)=>{const r=Mi(Nn,e.__scopeMenu);return n.jsx(bx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),KF=Ni("MenuContent.ScrollLock"),bx=h.forwardRef((e,t)=>{const{__scopeMenu:r,loop:s=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:f,onDismiss:x,disableOutsideScroll:v,...y}=e,N=Mi(Nn,r),b=rd(Nn,r),g=Um(r),w=jk(r),S=zF(r),[j,k]=h.useState(null),R=h.useRef(null),F=st(t,R,N.onContentChange),B=h.useRef(0),_=h.useRef(""),X=h.useRef(0),C=h.useRef(null),P=h.useRef("right"),z=h.useRef(0),W=v?zm:h.Fragment,M=v?{as:KF,allowPinchZoom:!0}:void 0,$=D=>{var G,ne;const u=_.current+D,T=S().filter(oe=>!oe.disabled),A=document.activeElement,U=(G=T.find(oe=>oe.ref.current===A))==null?void 0:G.textValue,te=T.map(oe=>oe.textValue),fe=lO(te,u,U),pe=(ne=T.find(oe=>oe.textValue===fe))==null?void 0:ne.ref.current;(function oe(ge){_.current=ge,window.clearTimeout(B.current),ge!==""&&(B.current=window.setTimeout(()=>oe(""),1e3))})(u),pe&&setTimeout(()=>pe.focus())};h.useEffect(()=>()=>window.clearTimeout(B.current),[]),gx();const L=h.useCallback(D=>{var T,A;return P.current===((T=C.current)==null?void 0:T.side)&&dO(D,(A=C.current)==null?void 0:A.area)},[]);return n.jsx(WF,{scope:r,searchRef:_,onItemEnter:h.useCallback(D=>{L(D)&&D.preventDefault()},[L]),onItemLeave:h.useCallback(D=>{var u;L(D)||((u=R.current)==null||u.focus(),k(null))},[L]),onTriggerLeave:h.useCallback(D=>{L(D)&&D.preventDefault()},[L]),pointerGraceTimerRef:X,onPointerGraceIntentChange:h.useCallback(D=>{C.current=D},[]),children:n.jsx(W,{...M,children:n.jsx(Om,{asChild:!0,trapped:a,onMountAutoFocus:ye(i,D=>{var u;D.preventDefault(),(u=R.current)==null||u.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(dl,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:f,onDismiss:x,children:n.jsx(dk,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:s,currentTabStopId:j,onCurrentTabStopIdChange:k,onEntryFocus:ye(c,D=>{b.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(ux,{role:"menu","aria-orientation":"vertical","data-state":Uk(N.open),"data-radix-menu-content":"",dir:b.dir,...g,...y,ref:F,style:{outline:"none",...y.style},onKeyDown:ye(y.onKeyDown,D=>{const T=D.target.closest("[data-radix-menu-content]")===D.currentTarget,A=D.ctrlKey||D.altKey||D.metaKey,U=D.key.length===1;T&&(D.key==="Tab"&&D.preventDefault(),!A&&U&&$(D.key));const te=R.current;if(D.target!==te||!LF.includes(D.key))return;D.preventDefault();const pe=S().filter(G=>!G.disabled).map(G=>G.ref.current);wk.includes(D.key)&&pe.reverse(),iO(pe)}),onBlur:ye(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(B.current),_.current="")}),onPointerMove:ye(e.onPointerMove,kc(D=>{const u=D.target,T=z.current!==D.clientX;if(D.currentTarget.contains(u)&&T){const A=D.clientX>z.current?"right":"left";P.current=A,z.current=D.clientX}}))})})})})})})});kk.displayName=Nn;var QF="MenuGroup",jx=h.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(Ve.div,{role:"group",...s,ref:t})});jx.displayName=QF;var ZF="MenuLabel",Pk=h.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(Ve.div,{...s,ref:t})});Pk.displayName=ZF;var Mu="MenuItem",mv="menu.itemSelect",Bm=h.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:s,...a}=e,i=h.useRef(null),o=rd(Mu,e.__scopeMenu),l=wx(Mu,e.__scopeMenu),c=st(t,i),d=h.useRef(!1),m=()=>{const p=i.current;if(!r&&p){const f=new CustomEvent(mv,{bubbles:!0,cancelable:!0});p.addEventListener(mv,x=>s==null?void 0:s(x),{once:!0}),Hg(p,f),f.defaultPrevented?d.current=!1:o.onClose()}};return n.jsx(Tk,{...a,ref:c,disabled:r,onClick:ye(e.onClick,m),onPointerDown:p=>{var f;(f=e.onPointerDown)==null||f.call(e,p),d.current=!0},onPointerUp:ye(e.onPointerUp,p=>{var f;d.current||(f=p.currentTarget)==null||f.click()}),onKeyDown:ye(e.onKeyDown,p=>{const f=l.searchRef.current!=="";r||f&&p.key===" "||Ep.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Bm.displayName=Mu;var Tk=h.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:s=!1,textValue:a,...i}=e,o=wx(Mu,r),l=jk(r),c=h.useRef(null),d=st(t,c),[m,p]=h.useState(!1),[f,x]=h.useState("");return h.useEffect(()=>{const v=c.current;v&&x((v.textContent??"").trim())},[i.children]),n.jsx(Cc.ItemSlot,{scope:r,disabled:s,textValue:a??f,children:n.jsx(uk,{asChild:!0,...l,focusable:!s,children:n.jsx(Ve.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:d,onPointerMove:ye(e.onPointerMove,kc(v=>{s?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ye(e.onPointerLeave,kc(v=>o.onItemLeave(v))),onFocus:ye(e.onFocus,()=>p(!0)),onBlur:ye(e.onBlur,()=>p(!1))})})})}),JF="MenuCheckboxItem",Ek=h.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:s,...a}=e;return n.jsx(Rk,{scope:e.__scopeMenu,checked:r,children:n.jsx(Bm,{role:"menuitemcheckbox","aria-checked":Fu(r)?"mixed":r,...a,ref:t,"data-state":Sx(r),onSelect:ye(a.onSelect,()=>s==null?void 0:s(Fu(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Ek.displayName=JF;var _k="MenuRadioGroup",[eO,tO]=Ri(_k,{value:void 0,onValueChange:()=>{}}),Dk=h.forwardRef((e,t)=>{const{value:r,onValueChange:s,...a}=e,i=Sr(s);return n.jsx(eO,{scope:e.__scopeMenu,value:r,onValueChange:i,children:n.jsx(jx,{...a,ref:t})})});Dk.displayName=_k;var Ik="MenuRadioItem",Ak=h.forwardRef((e,t)=>{const{value:r,...s}=e,a=tO(Ik,e.__scopeMenu),i=r===a.value;return n.jsx(Rk,{scope:e.__scopeMenu,checked:i,children:n.jsx(Bm,{role:"menuitemradio","aria-checked":i,...s,ref:t,"data-state":Sx(i),onSelect:ye(s.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});Ak.displayName=Ik;var Nx="MenuItemIndicator",[Rk,rO]=Ri(Nx,{checked:!1}),Mk=h.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:s,...a}=e,i=rO(Nx,r);return n.jsx(Tn,{present:s||Fu(i.checked)||i.checked===!0,children:n.jsx(Ve.span,{...a,ref:t,"data-state":Sx(i.checked)})})});Mk.displayName=Nx;var nO="MenuSeparator",Fk=h.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(Ve.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});Fk.displayName=nO;var sO="MenuArrow",Ok=h.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=Um(r);return n.jsx(mx,{...a,...s,ref:t})});Ok.displayName=sO;var aO="MenuSub",[i9,Lk]=Ri(aO),Vl="MenuSubTrigger",$k=h.forwardRef((e,t)=>{const r=Mi(Vl,e.__scopeMenu),s=rd(Vl,e.__scopeMenu),a=Lk(Vl,e.__scopeMenu),i=wx(Vl,e.__scopeMenu),o=h.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},m=h.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return h.useEffect(()=>m,[m]),h.useEffect(()=>{const p=l.current;return()=>{window.clearTimeout(p),c(null)}},[l,c]),n.jsx(yx,{asChild:!0,...d,children:n.jsx(Tk,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":Uk(r.open),...e,ref:Nm(t,a.onTriggerChange),onClick:p=>{var f;(f=e.onClick)==null||f.call(e,p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ye(e.onPointerMove,kc(p=>{i.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),m()},100))})),onPointerLeave:ye(e.onPointerLeave,kc(p=>{var x,v;m();const f=(x=r.content)==null?void 0:x.getBoundingClientRect();if(f){const y=(v=r.content)==null?void 0:v.dataset.side,N=y==="right",b=N?-5:5,g=f[N?"left":"right"],w=f[N?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+b,y:p.clientY},{x:g,y:f.top},{x:w,y:f.top},{x:w,y:f.bottom},{x:g,y:f.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ye(e.onKeyDown,p=>{var x;const f=i.searchRef.current!=="";e.disabled||f&&p.key===" "||$F[s.dir].includes(p.key)&&(r.onOpenChange(!0),(x=r.content)==null||x.focus(),p.preventDefault())})})})});$k.displayName=Vl;var Vk="MenuSubContent",zk=h.forwardRef((e,t)=>{const r=Sk(Nn,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=Mi(Nn,e.__scopeMenu),o=rd(Nn,e.__scopeMenu),l=Lk(Vk,e.__scopeMenu),c=h.useRef(null),d=st(t,c);return n.jsx(Cc.Provider,{scope:e.__scopeMenu,children:n.jsx(Tn,{present:s||i.open,children:n.jsx(Cc.Slot,{scope:e.__scopeMenu,children:n.jsx(bx,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var p;o.isUsingKeyboardRef.current&&((p=c.current)==null||p.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:ye(e.onFocusOutside,m=>{m.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ye(e.onEscapeKeyDown,m=>{o.onClose(),m.preventDefault()}),onKeyDown:ye(e.onKeyDown,m=>{var x;const p=m.currentTarget.contains(m.target),f=VF[o.dir].includes(m.key);p&&f&&(i.onOpenChange(!1),(x=l.trigger)==null||x.focus(),m.preventDefault())})})})})})});zk.displayName=Vk;function Uk(e){return e?"open":"closed"}function Fu(e){return e==="indeterminate"}function Sx(e){return Fu(e)?"indeterminate":e?"checked":"unchecked"}function iO(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function oO(e,t){return e.map((r,s)=>e[(t+s)%e.length])}function lO(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=oO(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function cO(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,m=t[o].y;c>s!=m>s&&r<(d-l)*(s-c)/(m-c)+l&&(a=!a)}return a}function dO(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return cO(r,t)}function kc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var uO=Nk,mO=yx,hO=Ck,fO=kk,pO=jx,gO=Pk,xO=Bm,yO=Ek,vO=Dk,wO=Ak,bO=Mk,jO=Fk,NO=Ok,SO=$k,CO=zk,Cx="DropdownMenu",[kO,o9]=fn(Cx,[bk]),$r=bk(),[PO,Bk]=kO(Cx),qk=e=>{const{__scopeDropdownMenu:t,children:r,dir:s,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=$r(t),d=h.useRef(null),[m=!1,p]=Us({prop:a,defaultProp:i,onChange:o});return n.jsx(PO,{scope:t,triggerId:qn(),triggerRef:d,contentId:qn(),open:m,onOpenChange:p,onOpenToggle:h.useCallback(()=>p(f=>!f),[p]),modal:l,children:n.jsx(uO,{...c,open:m,onOpenChange:p,dir:s,modal:l,children:r})})};qk.displayName=Cx;var Yk="DropdownMenuTrigger",Gk=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:s=!1,...a}=e,i=Bk(Yk,r),o=$r(r);return n.jsx(mO,{asChild:!0,...o,children:n.jsx(Ve.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:Nm(t,i.triggerRef),onPointerDown:ye(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ye(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Gk.displayName=Yk;var TO="DropdownMenuPortal",Wk=e=>{const{__scopeDropdownMenu:t,...r}=e,s=$r(t);return n.jsx(hO,{...s,...r})};Wk.displayName=TO;var Xk="DropdownMenuContent",Hk=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Bk(Xk,r),i=$r(r),o=h.useRef(!1);return n.jsx(fO,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...s,ref:t,onCloseAutoFocus:ye(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ye(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,m=c.button===2||d;(!a.modal||m)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Hk.displayName=Xk;var EO="DropdownMenuGroup",_O=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=$r(r);return n.jsx(pO,{...a,...s,ref:t})});_O.displayName=EO;var DO="DropdownMenuLabel",Kk=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=$r(r);return n.jsx(gO,{...a,...s,ref:t})});Kk.displayName=DO;var IO="DropdownMenuItem",Qk=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=$r(r);return n.jsx(xO,{...a,...s,ref:t})});Qk.displayName=IO;var AO="DropdownMenuCheckboxItem",Zk=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=$r(r);return n.jsx(yO,{...a,...s,ref:t})});Zk.displayName=AO;var RO="DropdownMenuRadioGroup",MO=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=$r(r);return n.jsx(vO,{...a,...s,ref:t})});MO.displayName=RO;var FO="DropdownMenuRadioItem",Jk=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=$r(r);return n.jsx(wO,{...a,...s,ref:t})});Jk.displayName=FO;var OO="DropdownMenuItemIndicator",eP=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=$r(r);return n.jsx(bO,{...a,...s,ref:t})});eP.displayName=OO;var LO="DropdownMenuSeparator",tP=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=$r(r);return n.jsx(jO,{...a,...s,ref:t})});tP.displayName=LO;var $O="DropdownMenuArrow",VO=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=$r(r);return n.jsx(NO,{...a,...s,ref:t})});VO.displayName=$O;var zO="DropdownMenuSubTrigger",rP=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=$r(r);return n.jsx(SO,{...a,...s,ref:t})});rP.displayName=zO;var UO="DropdownMenuSubContent",nP=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=$r(r);return n.jsx(CO,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nP.displayName=UO;var BO=qk,qO=Gk,YO=Wk,sP=Hk,aP=Kk,iP=Qk,oP=Zk,lP=Jk,cP=eP,dP=tP,uP=rP,mP=nP;const GO=BO,WO=qO,XO=h.forwardRef(({className:e,inset:t,children:r,...s},a)=>n.jsxs(uP,{ref:a,className:Se("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...s,children:[r,n.jsx(PM,{className:"ml-auto"})]}));XO.displayName=uP.displayName;const HO=h.forwardRef(({className:e,...t},r)=>n.jsx(mP,{ref:r,className:Se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));HO.displayName=mP.displayName;const hP=h.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(YO,{children:n.jsx(sP,{ref:s,sideOffset:t,className:Se("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));hP.displayName=sP.displayName;const Ss=h.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(iP,{ref:s,className:Se("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));Ss.displayName=iP.displayName;const KO=h.forwardRef(({className:e,children:t,checked:r,...s},a)=>n.jsxs(oP,{ref:a,className:Se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(cP,{children:n.jsx(nn,{className:"h-4 w-4"})})}),t]}));KO.displayName=oP.displayName;const QO=h.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(lP,{ref:s,className:Se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(cP,{children:n.jsx(TM,{className:"h-2 w-2 fill-current"})})}),t]}));QO.displayName=lP.displayName;const ZO=h.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(aP,{ref:s,className:Se("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));ZO.displayName=aP.displayName;const JO=h.forwardRef(({className:e,...t},r)=>n.jsx(dP,{ref:r,className:Se("-mx-1 my-1 h-px bg-muted",e),...t}));JO.displayName=dP.displayName;var kx="Dialog",[fP,pP]=fn(kx),[eL,Qn]=fP(kx),gP=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=h.useRef(null),c=h.useRef(null),[d=!1,m]=Us({prop:s,defaultProp:a,onChange:i});return n.jsx(eL,{scope:t,triggerRef:l,contentRef:c,contentId:qn(),titleId:qn(),descriptionId:qn(),open:d,onOpenChange:m,onOpenToggle:h.useCallback(()=>m(p=>!p),[m]),modal:o,children:r})};gP.displayName=kx;var xP="DialogTrigger",yP=h.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Qn(xP,r),i=st(t,a.triggerRef);return n.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Ex(a.open),...s,ref:i,onClick:ye(e.onClick,a.onOpenToggle)})});yP.displayName=xP;var Px="DialogPortal",[tL,vP]=fP(Px,{forceMount:void 0}),wP=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,i=Qn(Px,t);return n.jsx(tL,{scope:t,forceMount:r,children:h.Children.map(s,o=>n.jsx(Tn,{present:r||i.open,children:n.jsx(Qc,{asChild:!0,container:a,children:o})}))})};wP.displayName=Px;var Ou="DialogOverlay",bP=h.forwardRef((e,t)=>{const r=vP(Ou,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=Qn(Ou,e.__scopeDialog);return i.modal?n.jsx(Tn,{present:s||i.open,children:n.jsx(nL,{...a,ref:t})}):null});bP.displayName=Ou;var rL=Ni("DialogOverlay.RemoveScroll"),nL=h.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Qn(Ou,r);return n.jsx(zm,{as:rL,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(Ve.div,{"data-state":Ex(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),ki="DialogContent",jP=h.forwardRef((e,t)=>{const r=vP(ki,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=Qn(ki,e.__scopeDialog);return n.jsx(Tn,{present:s||i.open,children:i.modal?n.jsx(sL,{...a,ref:t}):n.jsx(aL,{...a,ref:t})})});jP.displayName=ki;var sL=h.forwardRef((e,t)=>{const r=Qn(ki,e.__scopeDialog),s=h.useRef(null),a=st(t,r.contentRef,s);return h.useEffect(()=>{const i=s.current;if(i)return xx(i)},[]),n.jsx(NP,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ye(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ye(e.onFocusOutside,i=>i.preventDefault())})}),aL=h.forwardRef((e,t)=>{const r=Qn(ki,e.__scopeDialog),s=h.useRef(!1),a=h.useRef(!1);return n.jsx(NP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),NP=h.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Qn(ki,r),c=h.useRef(null),d=st(t,c);return gx(),n.jsxs(n.Fragment,{children:[n.jsx(Om,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(dl,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Ex(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(oL,{titleId:l.titleId}),n.jsx(cL,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Tx="DialogTitle",SP=h.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Qn(Tx,r);return n.jsx(Ve.h2,{id:a.titleId,...s,ref:t})});SP.displayName=Tx;var CP="DialogDescription",kP=h.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Qn(CP,r);return n.jsx(Ve.p,{id:a.descriptionId,...s,ref:t})});kP.displayName=CP;var PP="DialogClose",TP=h.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Qn(PP,r);return n.jsx(Ve.button,{type:"button",...s,ref:t,onClick:ye(e.onClick,()=>a.onOpenChange(!1))})});TP.displayName=PP;function Ex(e){return e?"open":"closed"}var EP="DialogTitleWarning",[iL,_P]=MR(EP,{contentName:ki,titleName:Tx,docsSlug:"dialog"}),oL=({titleId:e})=>{const t=_P(EP),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},lL="DialogDescriptionWarning",cL=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_P(lL).contentName}}.`;return h.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},DP=gP,dL=yP,IP=wP,_x=bP,Dx=jP,Ix=SP,Ax=kP,Rx=TP;const ln=DP,uL=IP,AP=h.forwardRef(({className:e,...t},r)=>n.jsx(_x,{ref:r,className:Se("fixed inset-0 z-50 bg-background/80 backdrop-smooth data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));AP.displayName=_x.displayName;const Hr=h.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(uL,{children:[n.jsx(AP,{}),n.jsxs(Dx,{ref:s,className:Se("modal-transition fixed left-[50%] top-[50%] z-50 grid w-[90%] max-w-md sm:max-w-lg translate-x-[-50%] translate-y-[-50%] gap-3 border bg-white/95 backdrop-smooth p-4 sm:p-6 shadow-xl rounded-lg duration-300 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95",e),...r,children:[t,n.jsxs(Rx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(Kr,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Hr.displayName=Dx.displayName;const Sn=({className:e,...t})=>n.jsx("div",{className:Se("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Sn.displayName="DialogHeader";const cn=h.forwardRef(({className:e,...t},r)=>n.jsx(Ix,{ref:r,className:Se("text-base sm:text-lg font-semibold leading-tight tracking-tight text-gray-900",e),...t}));cn.displayName=Ix.displayName;const vo=h.forwardRef(({className:e,...t},r)=>n.jsx(Ax,{ref:r,className:Se("text-sm text-gray-600 leading-relaxed",e),...t}));vo.displayName=Ax.displayName;const Hn=h.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:Se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));Hn.displayName="Textarea";var nd=e=>e.type==="checkbox",ai=e=>e instanceof Date,Dr=e=>e==null;const RP=e=>typeof e=="object";var Ht=e=>!Dr(e)&&!Array.isArray(e)&&RP(e)&&!ai(e),MP=e=>Ht(e)&&e.target?nd(e.target)?e.target.checked:e.target.value:e,mL=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,FP=(e,t)=>e.has(mL(t)),hL=e=>{const t=e.constructor&&e.constructor.prototype;return Ht(t)&&t.hasOwnProperty("isPrototypeOf")},Mx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function dr(e){let t;const r=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Mx&&(e instanceof Blob||s))&&(r||Ht(e)))if(t=r?[]:{},!r&&!hL(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=dr(e[a]));else return e;return t}var qm=e=>Array.isArray(e)?e.filter(Boolean):[],Gt=e=>e===void 0,ve=(e,t,r)=>{if(!t||!Ht(e))return r;const s=qm(t.split(/[,[\].]+?/)).reduce((a,i)=>Dr(a)?a:a[i],e);return Gt(s)||s===e?Gt(e[t])?r:e[t]:s},en=e=>typeof e=="boolean",Fx=e=>/^\w*$/.test(e),OP=e=>qm(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ut=(e,t,r)=>{let s=-1;const a=Fx(t)?[t]:OP(t),i=a.length,o=i-1;for(;++s<i;){const l=a[s];let c=r;if(s!==o){const d=e[l];c=Ht(d)||Array.isArray(d)?d:isNaN(+a[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Lu={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},$n={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},js={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},LP=Oe.createContext(null),Ym=()=>Oe.useContext(LP),fL=e=>{const{children:t,...r}=e;return Oe.createElement(LP.Provider,{value:r},t)};var $P=(e,t,r,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==$n.all&&(t._proxyFormState[o]=!s||$n.all),r&&(r[o]=!0),e[o]}});return a};function pL(e){const t=Ym(),{control:r=t.control,disabled:s,name:a,exact:i}=e||{},[o,l]=Oe.useState(r._formState),c=Oe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=Oe.useRef(a);return d.current=a,Oe.useEffect(()=>r._subscribe({name:d.current,formState:c.current,exact:i,callback:m=>{!s&&l({...r._formState,...m})}}),[r,s,i]),Oe.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),Oe.useMemo(()=>$P(o,r,c.current,!1),[o,r])}var ls=e=>typeof e=="string",VP=(e,t,r,s,a)=>ls(e)?(s&&t.watch.add(e),ve(r,e,a)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),ve(r,i))):(s&&(t.watchAll=!0),r);function gL(e){const t=Ym(),{control:r=t.control,name:s,defaultValue:a,disabled:i,exact:o}=e||{},l=Oe.useRef(s),c=Oe.useRef(a);l.current=s,Oe.useEffect(()=>r._subscribe({name:l.current,formState:{values:!0},exact:o,callback:p=>!i&&m(VP(l.current,r._names,p.values||r._formValues,!1,c.current))}),[r,i,o]);const[d,m]=Oe.useState(r._getWatch(s,a));return Oe.useEffect(()=>r._removeUnmounted()),d}function xL(e){const t=Ym(),{name:r,disabled:s,control:a=t.control,shouldUnregister:i}=e,o=FP(a._names.array,r),l=gL({control:a,name:r,defaultValue:ve(a._formValues,r,ve(a._defaultValues,r,e.defaultValue)),exact:!0}),c=pL({control:a,name:r,exact:!0}),d=Oe.useRef(e),m=Oe.useRef(a.register(r,{...e.rules,value:l,...en(e.disabled)?{disabled:e.disabled}:{}})),p=Oe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ve(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!ve(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ve(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ve(c.validatingFields,r)},error:{enumerable:!0,get:()=>ve(c.errors,r)}}),[c,r]),f=Oe.useCallback(N=>m.current.onChange({target:{value:MP(N),name:r},type:Lu.CHANGE}),[r]),x=Oe.useCallback(()=>m.current.onBlur({target:{value:ve(a._formValues,r),name:r},type:Lu.BLUR}),[r,a._formValues]),v=Oe.useCallback(N=>{const b=ve(a._fields,r);b&&N&&(b._f.ref={focus:()=>N.focus(),select:()=>N.select(),setCustomValidity:g=>N.setCustomValidity(g),reportValidity:()=>N.reportValidity()})},[a._fields,r]),y=Oe.useMemo(()=>({name:r,value:l,...en(s)||c.disabled?{disabled:c.disabled||s}:{},onChange:f,onBlur:x,ref:v}),[r,s,c.disabled,f,x,v,l]);return Oe.useEffect(()=>{const N=a._options.shouldUnregister||i;a.register(r,{...d.current.rules,...en(d.current.disabled)?{disabled:d.current.disabled}:{}});const b=(g,w)=>{const S=ve(a._fields,g);S&&S._f&&(S._f.mount=w)};if(b(r,!0),N){const g=dr(ve(a._options.defaultValues,r));ut(a._defaultValues,r,g),Gt(ve(a._formValues,r))&&ut(a._formValues,r,g)}return!o&&a.register(r),()=>{(o?N&&!a._state.action:N)?a.unregister(r):b(r,!1)}},[r,a,o,i]),Oe.useEffect(()=>{a._setDisabledField({disabled:s,name:r})},[s,r,a]),Oe.useMemo(()=>({field:y,formState:c,fieldState:p}),[y,c,p])}const yL=e=>e.render(xL(e));var zP=(e,t,r,s,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:a||!0}}:{},ec=e=>Array.isArray(e)?e:[e],hv=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},_p=e=>Dr(e)||!RP(e);function oa(e,t){if(_p(e)||_p(t))return e===t;if(ai(e)&&ai(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(const a of r){const i=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const o=t[a];if(ai(i)&&ai(o)||Ht(i)&&Ht(o)||Array.isArray(i)&&Array.isArray(o)?!oa(i,o):i!==o)return!1}}return!0}var Er=e=>Ht(e)&&!Object.keys(e).length,Ox=e=>e.type==="file",Vn=e=>typeof e=="function",$u=e=>{if(!Mx)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},UP=e=>e.type==="select-multiple",Lx=e=>e.type==="radio",vL=e=>Lx(e)||nd(e),Wh=e=>$u(e)&&e.isConnected;function wL(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=Gt(e)?s++:e[t[s++]];return e}function bL(e){for(const t in e)if(e.hasOwnProperty(t)&&!Gt(e[t]))return!1;return!0}function er(e,t){const r=Array.isArray(t)?t:Fx(t)?[t]:OP(t),s=r.length===1?e:wL(e,r),a=r.length-1,i=r[a];return s&&delete s[i],a!==0&&(Ht(s)&&Er(s)||Array.isArray(s)&&bL(s))&&er(e,r.slice(0,-1)),e}var BP=e=>{for(const t in e)if(Vn(e[t]))return!0;return!1};function Vu(e,t={}){const r=Array.isArray(e);if(Ht(e)||r)for(const s in e)Array.isArray(e[s])||Ht(e[s])&&!BP(e[s])?(t[s]=Array.isArray(e[s])?[]:{},Vu(e[s],t[s])):Dr(e[s])||(t[s]=!0);return t}function qP(e,t,r){const s=Array.isArray(e);if(Ht(e)||s)for(const a in e)Array.isArray(e[a])||Ht(e[a])&&!BP(e[a])?Gt(t)||_p(r[a])?r[a]=Array.isArray(e[a])?Vu(e[a],[]):{...Vu(e[a])}:qP(e[a],Dr(t)?{}:t[a],r[a]):r[a]=!oa(e[a],t[a]);return r}var El=(e,t)=>qP(e,t,Vu(t));const fv={value:!1,isValid:!1},pv={value:!0,isValid:!0};var YP=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Gt(e[0].attributes.value)?Gt(e[0].value)||e[0].value===""?pv:{value:e[0].value,isValid:!0}:pv:fv}return fv},GP=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>Gt(e)?e:t?e===""?NaN:e&&+e:r&&ls(e)?new Date(e):s?s(e):e;const gv={isValid:!1,value:null};var WP=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,gv):gv;function xv(e){const t=e.ref;return Ox(t)?t.files:Lx(t)?WP(e.refs).value:UP(t)?[...t.selectedOptions].map(({value:r})=>r):nd(t)?YP(e.refs).value:GP(Gt(t.value)?e.ref.value:t.value,e)}var jL=(e,t,r,s)=>{const a={};for(const i of e){const o=ve(t,i);o&&ut(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:s}},zu=e=>e instanceof RegExp,_l=e=>Gt(e)?e:zu(e)?e.source:Ht(e)?zu(e.value)?e.value.source:e.value:e,yv=e=>({isOnSubmit:!e||e===$n.onSubmit,isOnBlur:e===$n.onBlur,isOnChange:e===$n.onChange,isOnAll:e===$n.all,isOnTouch:e===$n.onTouched});const vv="AsyncFunction";var NL=e=>!!e&&!!e.validate&&!!(Vn(e.validate)&&e.validate.constructor.name===vv||Ht(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===vv)),SL=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),wv=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const tc=(e,t,r,s)=>{for(const a of r||Object.keys(e)){const i=ve(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(tc(l,t))break}else if(Ht(l)&&tc(l,t))break}}};function bv(e,t,r){const s=ve(e,r);if(s||Fx(r))return{error:s,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=ve(t,i),l=ve(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:r}}var CL=(e,t,r,s)=>{r(e);const{name:a,...i}=e;return Er(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!s||$n.all))},kL=(e,t,r)=>!e||!t||e===t||ec(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s))),PL=(e,t,r,s,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?s.isOnBlur:a.isOnBlur)?!e:(r?s.isOnChange:a.isOnChange)?e:!0,TL=(e,t)=>!qm(ve(e,t)).length&&er(e,t),EL=(e,t,r)=>{const s=ec(ve(e,r));return ut(s,"root",t[r]),ut(e,r,s),e},ru=e=>ls(e);function jv(e,t,r="validate"){if(ru(e)||Array.isArray(e)&&e.every(ru)||en(e)&&!e)return{type:r,message:ru(e)?e:"",ref:t}}var zi=e=>Ht(e)&&!zu(e)?e:{value:e,message:""},Nv=async(e,t,r,s,a,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:m,min:p,max:f,pattern:x,validate:v,name:y,valueAsNumber:N,mount:b}=e._f,g=ve(r,y);if(!b||t.has(y))return{};const w=l?l[0]:o,S=C=>{a&&w.reportValidity&&(w.setCustomValidity(en(C)?"":C||""),w.reportValidity())},j={},k=Lx(o),R=nd(o),F=k||R,B=(N||Ox(o))&&Gt(o.value)&&Gt(g)||$u(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,_=zP.bind(null,y,s,j),X=(C,P,z,W=js.maxLength,M=js.minLength)=>{const $=C?P:z;j[y]={type:C?W:M,message:$,ref:o,..._(C?W:M,$)}};if(i?!Array.isArray(g)||!g.length:c&&(!F&&(B||Dr(g))||en(g)&&!g||R&&!YP(l).isValid||k&&!WP(l).isValid)){const{value:C,message:P}=ru(c)?{value:!!c,message:c}:zi(c);if(C&&(j[y]={type:js.required,message:P,ref:w,..._(js.required,P)},!s))return S(P),j}if(!B&&(!Dr(p)||!Dr(f))){let C,P;const z=zi(f),W=zi(p);if(!Dr(g)&&!isNaN(g)){const M=o.valueAsNumber||g&&+g;Dr(z.value)||(C=M>z.value),Dr(W.value)||(P=M<W.value)}else{const M=o.valueAsDate||new Date(g),$=u=>new Date(new Date().toDateString()+" "+u),L=o.type=="time",D=o.type=="week";ls(z.value)&&g&&(C=L?$(g)>$(z.value):D?g>z.value:M>new Date(z.value)),ls(W.value)&&g&&(P=L?$(g)<$(W.value):D?g<W.value:M<new Date(W.value))}if((C||P)&&(X(!!C,z.message,W.message,js.max,js.min),!s))return S(j[y].message),j}if((d||m)&&!B&&(ls(g)||i&&Array.isArray(g))){const C=zi(d),P=zi(m),z=!Dr(C.value)&&g.length>+C.value,W=!Dr(P.value)&&g.length<+P.value;if((z||W)&&(X(z,C.message,P.message),!s))return S(j[y].message),j}if(x&&!B&&ls(g)){const{value:C,message:P}=zi(x);if(zu(C)&&!g.match(C)&&(j[y]={type:js.pattern,message:P,ref:o,..._(js.pattern,P)},!s))return S(P),j}if(v){if(Vn(v)){const C=await v(g,r),P=jv(C,w);if(P&&(j[y]={...P,..._(js.validate,P.message)},!s))return S(P.message),j}else if(Ht(v)){let C={};for(const P in v){if(!Er(C)&&!s)break;const z=jv(await v[P](g,r),w,P);z&&(C={...z,..._(P,z.message)},S(z.message),s&&(j[y]=C))}if(!Er(C)&&(j[y]={ref:w,...C},!s))return j}}return S(!0),j};const _L={mode:$n.onSubmit,reValidateMode:$n.onChange,shouldFocusError:!0};function DL(e={}){let t={..._L,...e},r={submitCount:0,isDirty:!1,isLoading:Vn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const s={};let a=Ht(t.defaultValues)||Ht(t.values)?dr(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:dr(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...m};const f={array:hv(),state:hv()},x=yv(t.mode),v=yv(t.reValidateMode),y=t.criteriaMode===$n.all,N=E=>q=>{clearTimeout(d),d=setTimeout(E,q)},b=async E=>{if(!t.disabled&&(m.isValid||p.isValid||E)){const q=t.resolver?Er((await B()).errors):await X(s,!0);q!==r.isValid&&f.state.next({isValid:q})}},g=(E,q)=>{!t.disabled&&(m.isValidating||m.validatingFields||p.isValidating||p.validatingFields)&&((E||Array.from(l.mount)).forEach(I=>{I&&(q?ut(r.validatingFields,I,q):er(r.validatingFields,I))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Er(r.validatingFields)}))},w=(E,q=[],I,H,J=!0,ee=!0)=>{if(H&&I&&!t.disabled){if(o.action=!0,ee&&Array.isArray(ve(s,E))){const xe=I(ve(s,E),H.argA,H.argB);J&&ut(s,E,xe)}if(ee&&Array.isArray(ve(r.errors,E))){const xe=I(ve(r.errors,E),H.argA,H.argB);J&&ut(r.errors,E,xe),TL(r.errors,E)}if((m.touchedFields||p.touchedFields)&&ee&&Array.isArray(ve(r.touchedFields,E))){const xe=I(ve(r.touchedFields,E),H.argA,H.argB);J&&ut(r.touchedFields,E,xe)}(m.dirtyFields||p.dirtyFields)&&(r.dirtyFields=El(a,i)),f.state.next({name:E,isDirty:P(E,q),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ut(i,E,q)},S=(E,q)=>{ut(r.errors,E,q),f.state.next({errors:r.errors})},j=E=>{r.errors=E,f.state.next({errors:r.errors,isValid:!1})},k=(E,q,I,H)=>{const J=ve(s,E);if(J){const ee=ve(i,E,Gt(I)?ve(a,E):I);Gt(ee)||H&&H.defaultChecked||q?ut(i,E,q?ee:xv(J._f)):M(E,ee),o.mount&&b()}},R=(E,q,I,H,J)=>{let ee=!1,xe=!1;const Xe={name:E};if(!t.disabled){if(!I||H){(m.isDirty||p.isDirty)&&(xe=r.isDirty,r.isDirty=Xe.isDirty=P(),ee=xe!==Xe.isDirty);const He=oa(ve(a,E),q);xe=!!ve(r.dirtyFields,E),He?er(r.dirtyFields,E):ut(r.dirtyFields,E,!0),Xe.dirtyFields=r.dirtyFields,ee=ee||(m.dirtyFields||p.dirtyFields)&&xe!==!He}if(I){const He=ve(r.touchedFields,E);He||(ut(r.touchedFields,E,I),Xe.touchedFields=r.touchedFields,ee=ee||(m.touchedFields||p.touchedFields)&&He!==I)}ee&&J&&f.state.next(Xe)}return ee?Xe:{}},F=(E,q,I,H)=>{const J=ve(r.errors,E),ee=(m.isValid||p.isValid)&&en(q)&&r.isValid!==q;if(t.delayError&&I?(c=N(()=>S(E,I)),c(t.delayError)):(clearTimeout(d),c=null,I?ut(r.errors,E,I):er(r.errors,E)),(I?!oa(J,I):J)||!Er(H)||ee){const xe={...H,...ee&&en(q)?{isValid:q}:{},errors:r.errors,name:E};r={...r,...xe},f.state.next(xe)}},B=async E=>{g(E,!0);const q=await t.resolver(i,t.context,jL(E||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return g(E),q},_=async E=>{const{errors:q}=await B(E);if(E)for(const I of E){const H=ve(q,I);H?ut(r.errors,I,H):er(r.errors,I)}else r.errors=q;return q},X=async(E,q,I={valid:!0})=>{for(const H in E){const J=E[H];if(J){const{_f:ee,...xe}=J;if(ee){const Xe=l.array.has(ee.name),He=J._f&&NL(J._f);He&&m.validatingFields&&g([H],!0);const Kt=await Nv(J,l.disabled,i,y,t.shouldUseNativeValidation&&!q,Xe);if(He&&m.validatingFields&&g([H]),Kt[ee.name]&&(I.valid=!1,q))break;!q&&(ve(Kt,ee.name)?Xe?EL(r.errors,Kt,ee.name):ut(r.errors,ee.name,Kt[ee.name]):er(r.errors,ee.name))}!Er(xe)&&await X(xe,q,I)}}return I.valid},C=()=>{for(const E of l.unMount){const q=ve(s,E);q&&(q._f.refs?q._f.refs.every(I=>!Wh(I)):!Wh(q._f.ref))&&oe(E)}l.unMount=new Set},P=(E,q)=>!t.disabled&&(E&&q&&ut(i,E,q),!oa(A(),a)),z=(E,q,I)=>VP(E,l,{...o.mount?i:Gt(q)?a:ls(E)?{[E]:q}:q},I,q),W=E=>qm(ve(o.mount?i:a,E,t.shouldUnregister?ve(a,E,[]):[])),M=(E,q,I={})=>{const H=ve(s,E);let J=q;if(H){const ee=H._f;ee&&(!ee.disabled&&ut(i,E,GP(q,ee)),J=$u(ee.ref)&&Dr(q)?"":q,UP(ee.ref)?[...ee.ref.options].forEach(xe=>xe.selected=J.includes(xe.value)):ee.refs?nd(ee.ref)?ee.refs.length>1?ee.refs.forEach(xe=>(!xe.defaultChecked||!xe.disabled)&&(xe.checked=Array.isArray(J)?!!J.find(Xe=>Xe===xe.value):J===xe.value)):ee.refs[0]&&(ee.refs[0].checked=!!J):ee.refs.forEach(xe=>xe.checked=xe.value===J):Ox(ee.ref)?ee.ref.value="":(ee.ref.value=J,ee.ref.type||f.state.next({name:E,values:dr(i)})))}(I.shouldDirty||I.shouldTouch)&&R(E,J,I.shouldTouch,I.shouldDirty,!0),I.shouldValidate&&T(E)},$=(E,q,I)=>{for(const H in q){const J=q[H],ee=`${E}.${H}`,xe=ve(s,ee);(l.array.has(E)||Ht(J)||xe&&!xe._f)&&!ai(J)?$(ee,J,I):M(ee,J,I)}},L=(E,q,I={})=>{const H=ve(s,E),J=l.array.has(E),ee=dr(q);ut(i,E,ee),J?(f.array.next({name:E,values:dr(i)}),(m.isDirty||m.dirtyFields||p.isDirty||p.dirtyFields)&&I.shouldDirty&&f.state.next({name:E,dirtyFields:El(a,i),isDirty:P(E,ee)})):H&&!H._f&&!Dr(ee)?$(E,ee,I):M(E,ee,I),wv(E,l)&&f.state.next({...r}),f.state.next({name:o.mount?E:void 0,values:dr(i)})},D=async E=>{o.mount=!0;const q=E.target;let I=q.name,H=!0;const J=ve(s,I),ee=xe=>{H=Number.isNaN(xe)||ai(xe)&&isNaN(xe.getTime())||oa(xe,ve(i,I,xe))};if(J){let xe,Xe;const He=q.type?xv(J._f):MP(E),Kt=E.type===Lu.BLUR||E.type===Lu.FOCUS_OUT,Jm=!SL(J._f)&&!t.resolver&&!ve(r.errors,I)&&!J._f.deps||PL(Kt,ve(r.touchedFields,I),r.isSubmitted,v,x),_n=wv(I,l,Kt);ut(i,I,He),Kt?(J._f.onBlur&&J._f.onBlur(E),c&&c(0)):J._f.onChange&&J._f.onChange(E);const Wa=R(I,He,Kt),eh=!Er(Wa)||_n;if(!Kt&&f.state.next({name:I,type:E.type,values:dr(i)}),Jm)return(m.isValid||p.isValid)&&(t.mode==="onBlur"?Kt&&b():Kt||b()),eh&&f.state.next({name:I,..._n?{}:Wa});if(!Kt&&_n&&f.state.next({...r}),t.resolver){const{errors:r0}=await B([I]);if(ee(He),H){const XD=bv(r.errors,s,I),n0=bv(r0,s,XD.name||I);xe=n0.error,I=n0.name,Xe=Er(r0)}}else g([I],!0),xe=(await Nv(J,l.disabled,i,y,t.shouldUseNativeValidation))[I],g([I]),ee(He),H&&(xe?Xe=!1:(m.isValid||p.isValid)&&(Xe=await X(s,!0)));H&&(J._f.deps&&T(J._f.deps),F(I,Xe,xe,Wa))}},u=(E,q)=>{if(ve(r.errors,q)&&E.focus)return E.focus(),1},T=async(E,q={})=>{let I,H;const J=ec(E);if(t.resolver){const ee=await _(Gt(E)?E:J);I=Er(ee),H=E?!J.some(xe=>ve(ee,xe)):I}else E?(H=(await Promise.all(J.map(async ee=>{const xe=ve(s,ee);return await X(xe&&xe._f?{[ee]:xe}:xe)}))).every(Boolean),!(!H&&!r.isValid)&&b()):H=I=await X(s);return f.state.next({...!ls(E)||(m.isValid||p.isValid)&&I!==r.isValid?{}:{name:E},...t.resolver||!E?{isValid:I}:{},errors:r.errors}),q.shouldFocus&&!H&&tc(s,u,E?J:l.mount),H},A=E=>{const q={...o.mount?i:a};return Gt(E)?q:ls(E)?ve(q,E):E.map(I=>ve(q,I))},U=(E,q)=>({invalid:!!ve((q||r).errors,E),isDirty:!!ve((q||r).dirtyFields,E),error:ve((q||r).errors,E),isValidating:!!ve(r.validatingFields,E),isTouched:!!ve((q||r).touchedFields,E)}),te=E=>{E&&ec(E).forEach(q=>er(r.errors,q)),f.state.next({errors:E?r.errors:{}})},fe=(E,q,I)=>{const H=(ve(s,E,{_f:{}})._f||{}).ref,J=ve(r.errors,E)||{},{ref:ee,message:xe,type:Xe,...He}=J;ut(r.errors,E,{...He,...q,ref:H}),f.state.next({name:E,errors:r.errors,isValid:!1}),I&&I.shouldFocus&&H&&H.focus&&H.focus()},pe=(E,q)=>Vn(E)?f.state.subscribe({next:I=>E(z(void 0,q),I)}):z(E,q,!0),G=E=>f.state.subscribe({next:q=>{kL(E.name,q.name,E.exact)&&CL(q,E.formState||m,Ye,E.reRenderRoot)&&E.callback({values:{...i},...r,...q})}}).unsubscribe,ne=E=>(o.mount=!0,p={...p,...E.formState},G({...E,formState:p})),oe=(E,q={})=>{for(const I of E?ec(E):l.mount)l.mount.delete(I),l.array.delete(I),q.keepValue||(er(s,I),er(i,I)),!q.keepError&&er(r.errors,I),!q.keepDirty&&er(r.dirtyFields,I),!q.keepTouched&&er(r.touchedFields,I),!q.keepIsValidating&&er(r.validatingFields,I),!t.shouldUnregister&&!q.keepDefaultValue&&er(a,I);f.state.next({values:dr(i)}),f.state.next({...r,...q.keepDirty?{isDirty:P()}:{}}),!q.keepIsValid&&b()},ge=({disabled:E,name:q})=>{(en(E)&&o.mount||E||l.disabled.has(q))&&(E?l.disabled.add(q):l.disabled.delete(q))},Z=(E,q={})=>{let I=ve(s,E);const H=en(q.disabled)||en(t.disabled);return ut(s,E,{...I||{},_f:{...I&&I._f?I._f:{ref:{name:E}},name:E,mount:!0,...q}}),l.mount.add(E),I?ge({disabled:en(q.disabled)?q.disabled:t.disabled,name:E}):k(E,!0,q.value),{...H?{disabled:q.disabled||t.disabled}:{},...t.progressive?{required:!!q.required,min:_l(q.min),max:_l(q.max),minLength:_l(q.minLength),maxLength:_l(q.maxLength),pattern:_l(q.pattern)}:{},name:E,onChange:D,onBlur:D,ref:J=>{if(J){Z(E,q),I=ve(s,E);const ee=Gt(J.value)&&J.querySelectorAll&&J.querySelectorAll("input,select,textarea")[0]||J,xe=vL(ee),Xe=I._f.refs||[];if(xe?Xe.find(He=>He===ee):ee===I._f.ref)return;ut(s,E,{_f:{...I._f,...xe?{refs:[...Xe.filter(Wh),ee,...Array.isArray(ve(a,E))?[{}]:[]],ref:{type:ee.type,name:E}}:{ref:ee}}}),k(E,!1,void 0,ee)}else I=ve(s,E,{}),I._f&&(I._f.mount=!1),(t.shouldUnregister||q.shouldUnregister)&&!(FP(l.array,E)&&o.action)&&l.unMount.add(E)}}},be=()=>t.shouldFocusError&&tc(s,u,l.mount),qe=E=>{en(E)&&(f.state.next({disabled:E}),tc(s,(q,I)=>{const H=ve(s,I);H&&(q.disabled=H._f.disabled||E,Array.isArray(H._f.refs)&&H._f.refs.forEach(J=>{J.disabled=H._f.disabled||E}))},0,!1))},he=(E,q)=>async I=>{let H;I&&(I.preventDefault&&I.preventDefault(),I.persist&&I.persist());let J=dr(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:ee,values:xe}=await B();r.errors=ee,J=xe}else await X(s);if(l.disabled.size)for(const ee of l.disabled)ut(J,ee,void 0);if(er(r.errors,"root"),Er(r.errors)){f.state.next({errors:{}});try{await E(J,I)}catch(ee){H=ee}}else q&&await q({...r.errors},I),be(),setTimeout(be);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Er(r.errors)&&!H,submitCount:r.submitCount+1,errors:r.errors}),H)throw H},le=(E,q={})=>{ve(s,E)&&(Gt(q.defaultValue)?L(E,dr(ve(a,E))):(L(E,q.defaultValue),ut(a,E,dr(q.defaultValue))),q.keepTouched||er(r.touchedFields,E),q.keepDirty||(er(r.dirtyFields,E),r.isDirty=q.defaultValue?P(E,dr(ve(a,E))):P()),q.keepError||(er(r.errors,E),m.isValid&&b()),f.state.next({...r}))},Ge=(E,q={})=>{const I=E?dr(E):a,H=dr(I),J=Er(E),ee=J?a:H;if(q.keepDefaultValues||(a=I),!q.keepValues){if(q.keepDirtyValues){const xe=new Set([...l.mount,...Object.keys(El(a,i))]);for(const Xe of Array.from(xe))ve(r.dirtyFields,Xe)?ut(ee,Xe,ve(i,Xe)):L(Xe,ve(ee,Xe))}else{if(Mx&&Gt(E))for(const xe of l.mount){const Xe=ve(s,xe);if(Xe&&Xe._f){const He=Array.isArray(Xe._f.refs)?Xe._f.refs[0]:Xe._f.ref;if($u(He)){const Kt=He.closest("form");if(Kt){Kt.reset();break}}}}for(const xe of l.mount)L(xe,ve(ee,xe))}i=dr(ee),f.array.next({values:{...ee}}),f.state.next({values:{...ee}})}l={mount:q.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!m.isValid||!!q.keepIsValid||!!q.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:q.keepSubmitCount?r.submitCount:0,isDirty:J?!1:q.keepDirty?r.isDirty:!!(q.keepDefaultValues&&!oa(E,a)),isSubmitted:q.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:J?{}:q.keepDirtyValues?q.keepDefaultValues&&i?El(a,i):r.dirtyFields:q.keepDefaultValues&&E?El(a,E):q.keepDirty?r.dirtyFields:{},touchedFields:q.keepTouched?r.touchedFields:{},errors:q.keepErrors?r.errors:{},isSubmitSuccessful:q.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},at=(E,q)=>Ge(Vn(E)?E(i):E,q),ht=(E,q={})=>{const I=ve(s,E),H=I&&I._f;if(H){const J=H.refs?H.refs[0]:H.ref;J.focus&&(J.focus(),q.shouldSelect&&Vn(J.select)&&J.select())}},Ye=E=>{r={...r,...E}},cr={control:{register:Z,unregister:oe,getFieldState:U,handleSubmit:he,setError:fe,_subscribe:G,_runSchema:B,_getWatch:z,_getDirty:P,_setValid:b,_setFieldArray:w,_setDisabledField:ge,_setErrors:j,_getFieldArray:W,_reset:Ge,_resetDefaultValues:()=>Vn(t.defaultValues)&&t.defaultValues().then(E=>{at(E,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:C,_disableForm:qe,_subjects:f,_proxyFormState:m,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(E){o=E},get _defaultValues(){return a},get _names(){return l},set _names(E){l=E},get _formState(){return r},get _options(){return t},set _options(E){t={...t,...E}}},subscribe:ne,trigger:T,register:Z,handleSubmit:he,watch:pe,setValue:L,getValues:A,reset:at,resetField:le,clearErrors:te,unregister:oe,setError:fe,setFocus:ht,getFieldState:U};return{...cr,formControl:cr}}function Ir(e={}){const t=Oe.useRef(void 0),r=Oe.useRef(void 0),[s,a]=Oe.useState({isDirty:!1,isValidating:!1,isLoading:Vn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Vn(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:DL(e),formState:s},e.formControl&&e.defaultValues&&!Vn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,Oe.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0}),[i]),Oe.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Oe.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),Oe.useEffect(()=>{e.values&&!oa(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),Oe.useEffect(()=>{e.errors&&!Er(e.errors)&&i._setErrors(e.errors)},[e.errors,i]),Oe.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),Oe.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=$P(s,i),t.current}const Sv=(e,t,r)=>{if(e&&"reportValidity"in e){const s=ve(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},XP=(e,t)=>{for(const r in t.fields){const s=t.fields[r];s&&s.ref&&"reportValidity"in s.ref?Sv(s.ref,r,e):s.refs&&s.refs.forEach(a=>Sv(a,r,e))}},IL=(e,t)=>{t.shouldUseNativeValidation&&XP(e,t);const r={};for(const s in e){const a=ve(t.fields,s),i=Object.assign(e[s]||{},{ref:a&&a.ref});if(AL(t.names||Object.keys(e),s)){const o=Object.assign({},ve(r,s));ut(o,"root",i),ut(r,s,o)}else ut(r,s,i)}return r},AL=(e,t)=>e.some(r=>r.startsWith(t+"."));var RL=function(e,t){for(var r={};e.length;){var s=e[0],a=s.code,i=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in s&&s.unionErrors.forEach(function(m){return m.errors.forEach(function(p){return e.push(p)})}),t){var c=r[o].types,d=c&&c[s.code];r[o]=zP(o,t,r,a,d?[].concat(d,s.message):s.message)}e.shift()}return r},Yr=function(e,t,r){return r===void 0&&(r={}),function(s,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(d){return i.shouldUseNativeValidation&&XP({},i),{errors:{},values:r.raw?s:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:IL(RL(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};const ae=Symbol.for("drizzle:entityKind");function mr(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,ae))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(e).constructor;if(r)for(;r;){if(ae in r&&r[ae]===t[ae])return!0;r=Object.getPrototypeOf(r)}return!1}var mw;mw=ae;class rl{constructor(t,r){Y(this,"name");Y(this,"keyAsName");Y(this,"primary");Y(this,"notNull");Y(this,"default");Y(this,"defaultFn");Y(this,"onUpdateFn");Y(this,"hasDefault");Y(this,"isUnique");Y(this,"uniqueName");Y(this,"uniqueType");Y(this,"dataType");Y(this,"columnType");Y(this,"enumValues");Y(this,"generated");Y(this,"generatedIdentity");Y(this,"config");this.table=t,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}Y(rl,mw,"Column");var hw;hw=ae;class HP{constructor(t,r,s){Y(this,"config");Y(this,"$default",this.$defaultFn);Y(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:s,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}Y(HP,hw,"ColumnBuilder");const wo=Symbol.for("drizzle:Name");var fw;fw=ae;class KP{constructor(t,r){Y(this,"reference");Y(this,"_onUpdate","no action");Y(this,"_onDelete","no action");this.reference=()=>{const{name:s,columns:a,foreignColumns:i}=t();return{name:s,columns:a,foreignTable:i[0].table,foreignColumns:i}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new QP(t,this)}}Y(KP,fw,"PgForeignKeyBuilder");var pw;pw=ae;class QP{constructor(t,r){Y(this,"reference");Y(this,"onUpdate");Y(this,"onDelete");this.table=t,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:t,columns:r,foreignColumns:s}=this.reference(),a=r.map(l=>l.name),i=s.map(l=>l.name),o=[this.table[wo],...a,s[0].table[wo],...i];return t??`${o.join("_")}_fk`}}Y(QP,pw,"PgForeignKey");function ML(e,...t){return e(...t)}function FL(e,t){return`${e[wo]}_${t.join("_")}_unique`}function Cv(e,t,r){for(let s=t;s<e.length;s++){const a=e[s];if(a==="\\"){s++;continue}if(a==='"')return[e.slice(t,s).replace(/\\/g,""),s+1];if(!r&&(a===","||a==="}"))return[e.slice(t,s).replace(/\\/g,""),s]}return[e.slice(t).replace(/\\/g,""),e.length]}function ZP(e,t=0){const r=[];let s=t,a=!1;for(;s<e.length;){const i=e[s];if(i===","){(a||s===t)&&r.push(""),a=!0,s++;continue}if(a=!1,i==="\\"){s+=2;continue}if(i==='"'){const[c,d]=Cv(e,s+1,!0);r.push(c),s=d;continue}if(i==="}")return[r,s+1];if(i==="{"){const[c,d]=ZP(e,s+1);r.push(c),s=d;continue}const[o,l]=Cv(e,s,!1);r.push(o),s=l}return[r,s]}function OL(e){const[t]=ZP(e,1);return t}function JP(e){return`{${e.map(t=>Array.isArray(t)?JP(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var gw,xw;class ot extends(xw=HP,gw=ae,xw){constructor(){super(...arguments);Y(this,"foreignKeyConfigs",[])}array(r){return new tT(this.config.name,this,r)}references(r,s={}){return this.foreignKeyConfigs.push({ref:r,actions:s}),this}unique(r,s){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=s==null?void 0:s.nulls,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,s){return this.foreignKeyConfigs.map(({ref:a,actions:i})=>ML((o,l)=>{const c=new KP(()=>{const d=o();return{columns:[r],foreignColumns:[d]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(s)},a,i))}buildExtraConfigColumn(r){return new eT(r,this.config)}}Y(ot,gw,"PgColumnBuilder");var yw,vw;class Qe extends(vw=rl,yw=ae,vw){constructor(t,r){r.uniqueName||(r.uniqueName=FL(t,[r.name])),super(t,r),this.table=t}}Y(Qe,yw,"PgColumn");var ww,bw;class eT extends(bw=Qe,ww=ae,bw){constructor(){super(...arguments);Y(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});Y(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}Y(eT,ww,"ExtraConfigColumn");var jw,Nw;class tT extends(Nw=ot,jw=ae,Nw){constructor(t,r,s){super(t,"array","PgArray"),this.config.baseBuilder=r,this.config.size=s}build(t){const r=this.config.baseBuilder.build(t);return new Dp(t,this.config,r)}}Y(tT,jw,"PgArrayBuilder");var Sw,Cw;const sm=class sm extends(Cw=Qe,Sw=ae,Cw){constructor(r,s,a,i){super(r,s);Y(this,"size");this.baseColumn=a,this.range=i,this.size=s.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=OL(r)),r.map(s=>this.baseColumn.mapFromDriverValue(s))}mapToDriverValue(r,s=!1){const a=r.map(i=>i===null?null:mr(this.baseColumn,sm)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return s?a:JP(a)}};Y(sm,Sw,"PgArray");let Dp=sm;const kv=Symbol.for("drizzle:isPgEnum");function LL(e){return!!e&&typeof e=="function"&&kv in e&&e[kv]===!0}var kw;kw=ae;class $x{constructor(t,r,s,a=!1){this._={brand:"Subquery",sql:t,selectedFields:r,alias:s,isWith:a}}}Y($x,kw,"Subquery");const $L={startActiveSpan(e,t){return t()}},bo=Symbol.for("drizzle:ViewBaseConfig"),Xh=Symbol.for("drizzle:Schema"),Pv=Symbol.for("drizzle:Columns"),Tv=Symbol.for("drizzle:ExtraConfigColumns"),Hh=Symbol.for("drizzle:OriginalName"),Kh=Symbol.for("drizzle:BaseName"),Uu=Symbol.for("drizzle:IsAlias"),Ev=Symbol.for("drizzle:ExtraConfigBuilder"),rT=Symbol.for("drizzle:IsDrizzleTable");var Pw,Tw,Ew,_w,Dw,Iw,Aw,Rw,Mw,Fw,Fd;let rn=(Fw=ae,Mw=wo,Rw=Hh,Aw=Xh,Iw=Pv,Dw=Tv,_w=Kh,Ew=Uu,Tw=rT,Pw=Ev,Fd=class{constructor(t,r,s){Y(this,Mw);Y(this,Rw);Y(this,Aw);Y(this,Iw);Y(this,Dw);Y(this,_w);Y(this,Ew,!1);Y(this,Tw,!0);Y(this,Pw);this[wo]=this[Hh]=t,this[Xh]=r,this[Kh]=s}},Y(Fd,Fw,"Table"),Y(Fd,"Symbol",{Name:wo,Schema:Xh,OriginalName:Hh,Columns:Pv,ExtraConfigColumns:Tv,BaseName:Kh,IsAlias:Uu,ExtraConfigBuilder:Ev}),Fd);function nT(e){return typeof e=="object"&&e!==null&&rT in e}function VL(e){return e!=null&&typeof e.getSQL=="function"}function zL(e){var r;const t={sql:"",params:[]};for(const s of e)t.sql+=s.sql,t.params.push(...s.params),(r=s.typings)!=null&&r.length&&(t.typings||(t.typings=[]),t.typings.push(...s.typings));return t}var Ow;Ow=ae;class yn{constructor(t){Y(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new ar([this])}}Y(yn,Ow,"StringChunk");var Lw;Lw=ae;const Ja=class Ja{constructor(t){Y(this,"decoder",sT);Y(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return $L.startActiveSpan("drizzle.buildSQL",r=>{const s=this.buildQueryFromSourceParams(this.queryChunks,t);return r==null||r.setAttributes({"drizzle.query.text":s.sql,"drizzle.query.params":JSON.stringify(s.params)}),s})}buildQueryFromSourceParams(t,r){const s=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:a,escapeName:i,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:d}=s;return zL(t.map(m=>{var p;if(mr(m,yn))return{sql:m.value.join(""),params:[]};if(mr(m,Bu))return{sql:i(m.value),params:[]};if(m===void 0)return{sql:"",params:[]};if(Array.isArray(m)){const f=[new yn("(")];for(const[x,v]of m.entries())f.push(v),x<m.length-1&&f.push(new yn(", "));return f.push(new yn(")")),this.buildQueryFromSourceParams(f,s)}if(mr(m,Ja))return this.buildQueryFromSourceParams(m.queryChunks,{...s,inlineParams:c||m.shouldInlineParams});if(mr(m,rn)){const f=m[rn.Symbol.Schema],x=m[rn.Symbol.Name];return{sql:f===void 0||m[Uu]?i(x):i(f)+"."+i(x),params:[]}}if(mr(m,rl)){const f=a.getColumnCasing(m);if(r.invokeSource==="indexes")return{sql:i(f),params:[]};const x=m.table[rn.Symbol.Schema];return{sql:m.table[Uu]||x===void 0?i(m.table[rn.Symbol.Name])+"."+i(f):i(x)+"."+i(m.table[rn.Symbol.Name])+"."+i(f),params:[]}}if(mr(m,oT)){const f=m[bo].schema,x=m[bo].name;return{sql:f===void 0||m[bo].isAlias?i(x):i(f)+"."+i(x),params:[]}}if(mr(m,Vx)){if(mr(m.value,Yu))return{sql:o(d.value++,m),params:[m],typings:["none"]};const f=m.value===null?null:m.encoder.mapToDriverValue(m.value);if(mr(f,Ja))return this.buildQueryFromSourceParams([f],s);if(c)return{sql:this.mapInlineParam(f,s),params:[]};let x=["none"];return l&&(x=[l(m.encoder)]),{sql:o(d.value++,f),params:[f],typings:x}}return mr(m,Yu)?{sql:o(d.value++,m),params:[m],typings:["none"]}:mr(m,Ja.Aliased)&&m.fieldAlias!==void 0?{sql:i(m.fieldAlias),params:[]}:mr(m,$x)?m._.isWith?{sql:i(m._.alias),params:[]}:this.buildQueryFromSourceParams([new yn("("),m._.sql,new yn(") "),new Bu(m._.alias)],s):LL(m)?m.schema?{sql:i(m.schema)+"."+i(m.enumName),params:[]}:{sql:i(m.enumName),params:[]}:VL(m)?(p=m.shouldOmitSQLParens)!=null&&p.call(m)?this.buildQueryFromSourceParams([m.getSQL()],s):this.buildQueryFromSourceParams([new yn("("),m.getSQL(),new yn(")")],s):c?{sql:this.mapInlineParam(m,s),params:[]}:{sql:o(d.value++,m),params:[m],typings:["none"]}}))}mapInlineParam(t,{escapeString:r}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return r(t);if(typeof t=="object"){const s=t.toString();return r(s==="[object Object]"?JSON.stringify(t):s)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new Ja.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};Y(Ja,Lw,"SQL");let ar=Ja;var $w;$w=ae;class Bu{constructor(t){Y(this,"brand");this.value=t}getSQL(){return new ar([this])}}Y(Bu,$w,"Name");const sT={mapFromDriverValue:e=>e},aT={mapToDriverValue:e=>e};({...sT,...aT});var Vw;Vw=ae;class Vx{constructor(t,r=aT){Y(this,"brand");this.value=t,this.encoder=r}getSQL(){return new ar([this])}}Y(Vx,Vw,"Param");function qu(e,...t){const r=[];(t.length>0||e.length>0&&e[0]!=="")&&r.push(new yn(e[0]));for(const[s,a]of t.entries())r.push(a,new yn(e[s+1]));return new ar(r)}(e=>{function t(){return new ar([])}e.empty=t;function r(c){return new ar(c)}e.fromList=r;function s(c){return new ar([new yn(c)])}e.raw=s;function a(c,d){const m=[];for(const[p,f]of c.entries())p>0&&d!==void 0&&m.push(d),m.push(f);return new ar(m)}e.join=a;function i(c){return new Bu(c)}e.identifier=i;function o(c){return new Yu(c)}e.placeholder=o;function l(c,d){return new Vx(c,d)}e.param=l})(qu||(qu={}));(e=>{var r;r=ae;const s=class s{constructor(i,o){Y(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new s(this.sql,this.fieldAlias)}};Y(s,r,"SQL.Aliased");let t=s;e.Aliased=t})(ar||(ar={}));var zw;zw=ae;class Yu{constructor(t){this.name=t}getSQL(){return new ar([this])}}Y(Yu,zw,"Placeholder");const iT=Symbol.for("drizzle:IsDrizzleView");var Uw,Bw,qw;qw=ae,Bw=bo,Uw=iT;class oT{constructor({name:t,schema:r,selectedFields:s,query:a}){Y(this,Bw);Y(this,Uw,!0);this[bo]={name:t,originalName:t,schema:r,selectedFields:s,query:a,isExisting:!a,isAlias:!1}}getSQL(){return new ar([this])}}Y(oT,qw,"View");function UL(e){return typeof e=="object"&&e!==null&&iT in e}rl.prototype.getSQL=function(){return new ar([this])};rn.prototype.getSQL=function(){return new ar([this])};$x.prototype.getSQL=function(){return new ar([this])};function BL(e){return e[rn.Symbol.Columns]}function qL(e){return e[bo].selectedFields}function lr(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var Yw,Gw;class sd extends(Gw=ot,Yw=ae,Gw){generatedAlwaysAsIdentity(t){if(t){const{name:r,...s}=t;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:s}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:r,...s}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:s}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}Y(sd,Yw,"PgIntColumnBaseBuilder");var Ww,Xw;class lT extends(Xw=sd,Ww=ae,Xw){constructor(t){super(t,"number","PgBigInt53")}build(t){return new cT(t,this.config)}}Y(lT,Ww,"PgBigInt53Builder");var Hw,Kw;class cT extends(Kw=Qe,Hw=ae,Kw){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}Y(cT,Hw,"PgBigInt53");var Qw,Zw;class dT extends(Zw=sd,Qw=ae,Zw){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new uT(t,this.config)}}Y(dT,Qw,"PgBigInt64Builder");var Jw,eb;class uT extends(eb=Qe,Jw=ae,eb){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}Y(uT,Jw,"PgBigInt64");function YL(e,t){const{name:r,config:s}=lr(e,t);return s.mode==="number"?new lT(r):new dT(r)}var tb,rb;class mT extends(rb=ot,tb=ae,rb){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new hT(t,this.config)}}Y(mT,tb,"PgBigSerial53Builder");var nb,sb;class hT extends(sb=Qe,nb=ae,sb){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}Y(hT,nb,"PgBigSerial53");var ab,ib;class fT extends(ib=ot,ab=ae,ib){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new pT(t,this.config)}}Y(fT,ab,"PgBigSerial64Builder");var ob,lb;class pT extends(lb=Qe,ob=ae,lb){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}Y(pT,ob,"PgBigSerial64");function GL(e,t){const{name:r,config:s}=lr(e,t);return s.mode==="number"?new mT(r):new fT(r)}var cb,db;class gT extends(db=ot,cb=ae,db){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new xT(t,this.config)}}Y(gT,cb,"PgBooleanBuilder");var ub,mb;class xT extends(mb=Qe,ub=ae,mb){getSQLType(){return"boolean"}}Y(xT,ub,"PgBoolean");function $t(e){return new gT(e??"")}var hb,fb;class yT extends(fb=ot,hb=ae,fb){constructor(t,r){super(t,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new vT(t,this.config)}}Y(yT,hb,"PgCharBuilder");var pb,gb;class vT extends(gb=Qe,pb=ae,gb){constructor(){super(...arguments);Y(this,"length",this.config.length);Y(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}Y(vT,pb,"PgChar");function WL(e,t={}){const{name:r,config:s}=lr(e,t);return new yT(r,s)}var xb,yb;class wT extends(yb=ot,xb=ae,yb){constructor(t){super(t,"string","PgCidr")}build(t){return new bT(t,this.config)}}Y(wT,xb,"PgCidrBuilder");var vb,wb;class bT extends(wb=Qe,vb=ae,wb){getSQLType(){return"cidr"}}Y(bT,vb,"PgCidr");function XL(e){return new wT(e??"")}var bb,jb;class jT extends(jb=ot,bb=ae,jb){constructor(t,r,s){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=s}build(t){return new NT(t,this.config)}}Y(jT,bb,"PgCustomColumnBuilder");var Nb,Sb;class NT extends(Sb=Qe,Nb=ae,Sb){constructor(r,s){super(r,s);Y(this,"sqlName");Y(this,"mapTo");Y(this,"mapFrom");this.sqlName=s.customTypeParams.dataType(s.fieldConfig),this.mapTo=s.customTypeParams.toDriver,this.mapFrom=s.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}Y(NT,Nb,"PgCustomColumn");function HL(e){return(t,r)=>{const{name:s,config:a}=lr(t,r);return new jT(s,a,e)}}var Cb,kb;class gl extends(kb=ot,Cb=ae,kb){defaultNow(){return this.default(qu`now()`)}}Y(gl,Cb,"PgDateColumnBaseBuilder");var Pb,Tb;class ST extends(Tb=gl,Pb=ae,Tb){constructor(t){super(t,"date","PgDate")}build(t){return new CT(t,this.config)}}Y(ST,Pb,"PgDateBuilder");var Eb,_b;class CT extends(_b=Qe,Eb=ae,_b){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}Y(CT,Eb,"PgDate");var Db,Ib;class kT extends(Ib=gl,Db=ae,Ib){constructor(t){super(t,"string","PgDateString")}build(t){return new PT(t,this.config)}}Y(kT,Db,"PgDateStringBuilder");var Ab,Rb;class PT extends(Rb=Qe,Ab=ae,Rb){getSQLType(){return"date"}}Y(PT,Ab,"PgDateString");function br(e,t){const{name:r,config:s}=lr(e,t);return(s==null?void 0:s.mode)==="date"?new ST(r):new kT(r)}var Mb,Fb;class TT extends(Fb=ot,Mb=ae,Fb){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new ET(t,this.config)}}Y(TT,Mb,"PgDoublePrecisionBuilder");var Ob,Lb;class ET extends(Lb=Qe,Ob=ae,Lb){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}Y(ET,Ob,"PgDoublePrecision");function KL(e){return new TT(e??"")}var $b,Vb;class _T extends(Vb=ot,$b=ae,Vb){constructor(t){super(t,"string","PgInet")}build(t){return new DT(t,this.config)}}Y(_T,$b,"PgInetBuilder");var zb,Ub;class DT extends(Ub=Qe,zb=ae,Ub){getSQLType(){return"inet"}}Y(DT,zb,"PgInet");function QL(e){return new _T(e??"")}var Bb,qb;class IT extends(qb=sd,Bb=ae,qb){constructor(t){super(t,"number","PgInteger")}build(t){return new AT(t,this.config)}}Y(IT,Bb,"PgIntegerBuilder");var Yb,Gb;class AT extends(Gb=Qe,Yb=ae,Gb){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}Y(AT,Yb,"PgInteger");function $e(e){return new IT(e??"")}var Wb,Xb;class RT extends(Xb=ot,Wb=ae,Xb){constructor(t,r){super(t,"string","PgInterval"),this.config.intervalConfig=r}build(t){return new MT(t,this.config)}}Y(RT,Wb,"PgIntervalBuilder");var Hb,Kb;class MT extends(Kb=Qe,Hb=ae,Kb){constructor(){super(...arguments);Y(this,"fields",this.config.intervalConfig.fields);Y(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const r=this.fields?` ${this.fields}`:"",s=this.precision?`(${this.precision})`:"";return`interval${r}${s}`}}Y(MT,Hb,"PgInterval");function ZL(e,t={}){const{name:r,config:s}=lr(e,t);return new RT(r,s)}var Qb,Zb;class FT extends(Zb=ot,Qb=ae,Zb){constructor(t){super(t,"json","PgJson")}build(t){return new OT(t,this.config)}}Y(FT,Qb,"PgJsonBuilder");var Jb,ej;class OT extends(ej=Qe,Jb=ae,ej){constructor(t,r){super(t,r)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}Y(OT,Jb,"PgJson");function JL(e){return new FT(e??"")}var tj,rj;class LT extends(rj=ot,tj=ae,rj){constructor(t){super(t,"json","PgJsonb")}build(t){return new $T(t,this.config)}}Y(LT,tj,"PgJsonbBuilder");var nj,sj;class $T extends(sj=Qe,nj=ae,sj){constructor(t,r){super(t,r)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}Y($T,nj,"PgJsonb");function VT(e){return new LT(e??"")}var aj,ij;class zT extends(ij=ot,aj=ae,ij){constructor(t){super(t,"array","PgLine")}build(t){return new UT(t,this.config)}}Y(zT,aj,"PgLineBuilder");var oj,lj;class UT extends(lj=Qe,oj=ae,lj){getSQLType(){return"line"}mapFromDriverValue(t){const[r,s,a]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(s),Number.parseFloat(a)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}Y(UT,oj,"PgLine");var cj,dj;class BT extends(dj=ot,cj=ae,dj){constructor(t){super(t,"json","PgLineABC")}build(t){return new qT(t,this.config)}}Y(BT,cj,"PgLineABCBuilder");var uj,mj;class qT extends(mj=Qe,uj=ae,mj){getSQLType(){return"line"}mapFromDriverValue(t){const[r,s,a]=t.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(s),c:Number.parseFloat(a)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}Y(qT,uj,"PgLineABC");function e8(e,t){const{name:r,config:s}=lr(e,t);return!(s!=null&&s.mode)||s.mode==="tuple"?new zT(r):new BT(r)}var hj,fj;class YT extends(fj=ot,hj=ae,fj){constructor(t){super(t,"string","PgMacaddr")}build(t){return new GT(t,this.config)}}Y(YT,hj,"PgMacaddrBuilder");var pj,gj;class GT extends(gj=Qe,pj=ae,gj){getSQLType(){return"macaddr"}}Y(GT,pj,"PgMacaddr");function t8(e){return new YT(e??"")}var xj,yj;class WT extends(yj=ot,xj=ae,yj){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new XT(t,this.config)}}Y(WT,xj,"PgMacaddr8Builder");var vj,wj;class XT extends(wj=Qe,vj=ae,wj){getSQLType(){return"macaddr8"}}Y(XT,vj,"PgMacaddr8");function r8(e){return new WT(e??"")}var bj,jj;class HT extends(jj=ot,bj=ae,jj){constructor(t,r,s){super(t,"string","PgNumeric"),this.config.precision=r,this.config.scale=s}build(t){return new KT(t,this.config)}}Y(HT,bj,"PgNumericBuilder");var Nj,Sj;class KT extends(Sj=Qe,Nj=ae,Sj){constructor(r,s){super(r,s);Y(this,"precision");Y(this,"scale");this.precision=s.precision,this.scale=s.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}Y(KT,Nj,"PgNumeric");function n8(e,t){const{name:r,config:s}=lr(e,t);return new HT(r,s==null?void 0:s.precision,s==null?void 0:s.scale)}var Cj,kj;class QT extends(kj=ot,Cj=ae,kj){constructor(t){super(t,"array","PgPointTuple")}build(t){return new ZT(t,this.config)}}Y(QT,Cj,"PgPointTupleBuilder");var Pj,Tj;class ZT extends(Tj=Qe,Pj=ae,Tj){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[r,s]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(s)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}Y(ZT,Pj,"PgPointTuple");var Ej,_j;class JT extends(_j=ot,Ej=ae,_j){constructor(t){super(t,"json","PgPointObject")}build(t){return new eE(t,this.config)}}Y(JT,Ej,"PgPointObjectBuilder");var Dj,Ij;class eE extends(Ij=Qe,Dj=ae,Ij){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[r,s]=t.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(s)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}Y(eE,Dj,"PgPointObject");function s8(e,t){const{name:r,config:s}=lr(e,t);return!(s!=null&&s.mode)||s.mode==="tuple"?new QT(r):new JT(r)}function a8(e){const t=[];for(let r=0;r<e.length;r+=2)t.push(Number.parseInt(e.slice(r,r+2),16));return new Uint8Array(t)}function _v(e,t){const r=new ArrayBuffer(8),s=new DataView(r);for(let a=0;a<8;a++)s.setUint8(a,e[t+a]);return s.getFloat64(0,!0)}function tE(e){const t=a8(e);let r=0;const s=t[r];r+=1;const a=new DataView(t.buffer),i=a.getUint32(r,s===1);if(r+=4,i&536870912&&(a.getUint32(r,s===1),r+=4),(i&65535)===1){const o=_v(t,r);r+=8;const l=_v(t,r);return r+=8,[o,l]}throw new Error("Unsupported geometry type")}var Aj,Rj;class rE extends(Rj=ot,Aj=ae,Rj){constructor(t){super(t,"array","PgGeometry")}build(t){return new nE(t,this.config)}}Y(rE,Aj,"PgGeometryBuilder");var Mj,Fj;class nE extends(Fj=Qe,Mj=ae,Fj){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return tE(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}Y(nE,Mj,"PgGeometry");var Oj,Lj;class sE extends(Lj=ot,Oj=ae,Lj){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new aE(t,this.config)}}Y(sE,Oj,"PgGeometryObjectBuilder");var $j,Vj;class aE extends(Vj=Qe,$j=ae,Vj){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const r=tE(t);return{x:r[0],y:r[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}Y(aE,$j,"PgGeometryObject");function i8(e,t){const{name:r,config:s}=lr(e,t);return!(s!=null&&s.mode)||s.mode==="tuple"?new rE(r):new sE(r)}var zj,Uj;class iE extends(Uj=ot,zj=ae,Uj){constructor(t,r){super(t,"number","PgReal"),this.config.length=r}build(t){return new oE(t,this.config)}}Y(iE,zj,"PgRealBuilder");var Bj,qj;class oE extends(qj=Qe,Bj=ae,qj){constructor(r,s){super(r,s);Y(this,"mapFromDriverValue",r=>typeof r=="string"?Number.parseFloat(r):r)}getSQLType(){return"real"}}Y(oE,Bj,"PgReal");function o8(e){return new iE(e??"")}var Yj,Gj;class lE extends(Gj=ot,Yj=ae,Gj){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new cE(t,this.config)}}Y(lE,Yj,"PgSerialBuilder");var Wj,Xj;class cE extends(Xj=Qe,Wj=ae,Xj){getSQLType(){return"serial"}}Y(cE,Wj,"PgSerial");function vt(e){return new lE(e??"")}var Hj,Kj;class dE extends(Kj=sd,Hj=ae,Kj){constructor(t){super(t,"number","PgSmallInt")}build(t){return new uE(t,this.config)}}Y(dE,Hj,"PgSmallIntBuilder");var Qj,Zj;class uE extends(Zj=Qe,Qj=ae,Zj){constructor(){super(...arguments);Y(this,"mapFromDriverValue",r=>typeof r=="string"?Number(r):r)}getSQLType(){return"smallint"}}Y(uE,Qj,"PgSmallInt");function l8(e){return new dE(e??"")}var Jj,eN;class mE extends(eN=ot,Jj=ae,eN){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new hE(t,this.config)}}Y(mE,Jj,"PgSmallSerialBuilder");var tN,rN;class hE extends(rN=Qe,tN=ae,rN){getSQLType(){return"smallserial"}}Y(hE,tN,"PgSmallSerial");function c8(e){return new mE(e??"")}var nN,sN;class fE extends(sN=ot,nN=ae,sN){constructor(t,r){super(t,"string","PgText"),this.config.enumValues=r.enum}build(t){return new pE(t,this.config)}}Y(fE,nN,"PgTextBuilder");var aN,iN;class pE extends(iN=Qe,aN=ae,iN){constructor(){super(...arguments);Y(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}Y(pE,aN,"PgText");function K(e,t={}){const{name:r,config:s}=lr(e,t);return new fE(r,s)}var oN,lN;class gE extends(lN=gl,oN=ae,lN){constructor(t,r,s){super(t,"string","PgTime"),this.withTimezone=r,this.precision=s,this.config.withTimezone=r,this.config.precision=s}build(t){return new xE(t,this.config)}}Y(gE,oN,"PgTimeBuilder");var cN,dN;class xE extends(dN=Qe,cN=ae,dN){constructor(r,s){super(r,s);Y(this,"withTimezone");Y(this,"precision");this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}Y(xE,cN,"PgTime");function d8(e,t={}){const{name:r,config:s}=lr(e,t);return new gE(r,s.withTimezone??!1,s.precision)}var uN,mN;class yE extends(mN=gl,uN=ae,mN){constructor(t,r,s){super(t,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=s}build(t){return new vE(t,this.config)}}Y(yE,uN,"PgTimestampBuilder");var hN,fN;class vE extends(fN=Qe,hN=ae,fN){constructor(r,s){super(r,s);Y(this,"withTimezone");Y(this,"precision");Y(this,"mapFromDriverValue",r=>new Date(this.withTimezone?r:r+"+0000"));Y(this,"mapToDriverValue",r=>r.toISOString());this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}Y(vE,hN,"PgTimestamp");var pN,gN;class wE extends(gN=gl,pN=ae,gN){constructor(t,r,s){super(t,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=s}build(t){return new bE(t,this.config)}}Y(wE,pN,"PgTimestampStringBuilder");var xN,yN;class bE extends(yN=Qe,xN=ae,yN){constructor(r,s){super(r,s);Y(this,"withTimezone");Y(this,"precision");this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}Y(bE,xN,"PgTimestampString");function Ie(e,t={}){const{name:r,config:s}=lr(e,t);return(s==null?void 0:s.mode)==="string"?new wE(r,s.withTimezone??!1,s.precision):new yE(r,(s==null?void 0:s.withTimezone)??!1,s==null?void 0:s.precision)}var vN,wN;class jE extends(wN=ot,vN=ae,wN){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(qu`gen_random_uuid()`)}build(t){return new NE(t,this.config)}}Y(jE,vN,"PgUUIDBuilder");var bN,jN;class NE extends(jN=Qe,bN=ae,jN){getSQLType(){return"uuid"}}Y(NE,bN,"PgUUID");function u8(e){return new jE(e??"")}var NN,SN;class SE extends(SN=ot,NN=ae,SN){constructor(t,r){super(t,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new CE(t,this.config)}}Y(SE,NN,"PgVarcharBuilder");var CN,kN;class CE extends(kN=Qe,CN=ae,kN){constructor(){super(...arguments);Y(this,"length",this.config.length);Y(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}Y(CE,CN,"PgVarchar");function m8(e,t={}){const{name:r,config:s}=lr(e,t);return new SE(r,s)}var PN,TN;class kE extends(TN=ot,PN=ae,TN){constructor(t,r){super(t,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(t){return new PE(t,this.config)}}Y(kE,PN,"PgBinaryVectorBuilder");var EN,_N;class PE extends(_N=Qe,EN=ae,_N){constructor(){super(...arguments);Y(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}Y(PE,EN,"PgBinaryVector");function h8(e,t){const{name:r,config:s}=lr(e,t);return new kE(r,s)}var DN,IN;class TE extends(IN=ot,DN=ae,IN){constructor(t,r){super(t,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(t){return new EE(t,this.config)}}Y(TE,DN,"PgHalfVectorBuilder");var AN,RN;class EE extends(RN=Qe,AN=ae,RN){constructor(){super(...arguments);Y(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}Y(EE,AN,"PgHalfVector");function f8(e,t){const{name:r,config:s}=lr(e,t);return new TE(r,s)}var MN,FN;class _E extends(FN=ot,MN=ae,FN){constructor(t,r){super(t,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(t){return new DE(t,this.config)}}Y(_E,MN,"PgSparseVectorBuilder");var ON,LN;class DE extends(LN=Qe,ON=ae,LN){constructor(){super(...arguments);Y(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}Y(DE,ON,"PgSparseVector");function p8(e,t){const{name:r,config:s}=lr(e,t);return new _E(r,s)}var $N,VN;class IE extends(VN=ot,$N=ae,VN){constructor(t,r){super(t,"array","PgVector"),this.config.dimensions=r.dimensions}build(t){return new AE(t,this.config)}}Y(IE,$N,"PgVectorBuilder");var zN,UN;class AE extends(UN=Qe,zN=ae,UN){constructor(){super(...arguments);Y(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}Y(AE,zN,"PgVector");function g8(e,t){const{name:r,config:s}=lr(e,t);return new IE(r,s)}function x8(){return{bigint:YL,bigserial:GL,boolean:$t,char:WL,cidr:XL,customType:HL,date:br,doublePrecision:KL,inet:QL,integer:$e,interval:ZL,json:JL,jsonb:VT,line:e8,macaddr:t8,macaddr8:r8,numeric:n8,point:s8,geometry:i8,real:o8,serial:vt,smallint:l8,smallserial:c8,text:K,time:d8,timestamp:Ie,uuid:u8,varchar:m8,bit:h8,halfvec:f8,sparsevec:p8,vector:g8}}const Ip=Symbol.for("drizzle:PgInlineForeignKeys"),Dv=Symbol.for("drizzle:EnableRLS");var BN,qN,YN,GN,WN;class Gu extends(WN=rn,GN=ae,YN=Ip,qN=Dv,BN=rn.Symbol.ExtraConfigBuilder,WN){constructor(){super(...arguments);Y(this,YN,[]);Y(this,qN,!1);Y(this,BN)}}Y(Gu,GN,"PgTable"),Y(Gu,"Symbol",Object.assign({},rn.Symbol,{InlineForeignKeys:Ip,EnableRLS:Dv}));function y8(e,t,r,s,a=e){const i=new Gu(e,s,a),o=typeof t=="function"?t(x8()):t,l=Object.fromEntries(Object.entries(o).map(([m,p])=>{const f=p;f.setName(m);const x=f.build(i);return i[Ip].push(...f.buildForeignKeys(x,i)),[m,x]})),c=Object.fromEntries(Object.entries(o).map(([m,p])=>{const f=p;f.setName(m);const x=f.buildExtraConfigColumn(i);return[m,x]})),d=Object.assign(i,l);return d[rn.Symbol.Columns]=l,d[rn.Symbol.ExtraConfigColumns]=c,Object.assign(d,{enableRLS:()=>(d[Gu.Symbol.EnableRLS]=!0,d)})}const jt=(e,t,r)=>y8(e,t,r,void 0);var it;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=s,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(it||(it={}));var Ap;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Ap||(Ap={}));const Ne=it.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ts=e=>{switch(typeof e){case"undefined":return Ne.undefined;case"string":return Ne.string;case"number":return isNaN(e)?Ne.nan:Ne.number;case"boolean":return Ne.boolean;case"function":return Ne.function;case"bigint":return Ne.bigint;case"symbol":return Ne.symbol;case"object":return Array.isArray(e)?Ne.array:e===null?Ne.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ne.promise:typeof Map<"u"&&e instanceof Map?Ne.map:typeof Set<"u"&&e instanceof Set?Ne.set:typeof Date<"u"&&e instanceof Date?Ne.date:Ne.object;default:return Ne.unknown}},ce=it.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),v8=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class dn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},s={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let l=s,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),s}static assert(t){if(!(t instanceof dn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,it.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},s=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):s.push(t(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}dn.create=e=>new dn(e);const nl=(e,t)=>{let r;switch(e.code){case ce.invalid_type:e.received===Ne.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ce.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,it.jsonStringifyReplacer)}`;break;case ce.unrecognized_keys:r=`Unrecognized key(s) in object: ${it.joinValues(e.keys,", ")}`;break;case ce.invalid_union:r="Invalid input";break;case ce.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${it.joinValues(e.options)}`;break;case ce.invalid_enum_value:r=`Invalid enum value. Expected ${it.joinValues(e.options)}, received '${e.received}'`;break;case ce.invalid_arguments:r="Invalid function arguments";break;case ce.invalid_return_type:r="Invalid function return type";break;case ce.invalid_date:r="Invalid date";break;case ce.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:it.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ce.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ce.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ce.custom:r="Invalid input";break;case ce.invalid_intersection_types:r="Intersection results could not be merged";break;case ce.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ce.not_finite:r="Number must be finite";break;default:r=t.defaultError,it.assertNever(e)}return{message:r}};let RE=nl;function w8(e){RE=e}function Wu(){return RE}const Xu=e=>{const{data:t,path:r,errorMaps:s,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=s.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}},b8=[];function we(e,t){const r=Wu(),s=Xu({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===nl?void 0:nl].filter(a=>!!a)});e.common.issues.push(s)}class Cr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const s=[];for(const a of r){if(a.status==="aborted")return Ue;a.status==="dirty"&&t.dirty(),s.push(a.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,r){const s=[];for(const a of r){const i=await a.key,o=await a.value;s.push({key:i,value:o})}return Cr.mergeObjectSync(t,s)}static mergeObjectSync(t,r){const s={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return Ue;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(s[i.value]=o.value)}return{status:t.value,value:s}}}const Ue=Object.freeze({status:"aborted"}),ao=e=>({status:"dirty",value:e}),Fr=e=>({status:"valid",value:e}),Rp=e=>e.status==="aborted",Mp=e=>e.status==="dirty",Pi=e=>e.status==="valid",Pc=e=>typeof Promise<"u"&&e instanceof Promise;function Hu(e,t,r,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function ME(e,t,r,s,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Ae;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ae||(Ae={}));var zl,Ul;class ys{constructor(t,r,s,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=s,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Iv=(e,t)=>{if(Pi(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new dn(e.common.issues);return this._error=r,this._error}}};function Ke(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:s,description:a}=e;if(t&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{var c,d;const{message:m}=e;return o.code==="invalid_enum_value"?{message:m??l.defaultError}:typeof l.data>"u"?{message:(c=m??s)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=m??r)!==null&&d!==void 0?d:l.defaultError}},description:a}}class et{get description(){return this._def.description}_getType(t){return Ts(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Ts(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Cr,ctx:{common:t.parent.common,data:t.data,parsedType:Ts(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Pc(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const s=this.safeParse(t,r);if(s.success)return s.data;throw s.error}safeParse(t,r){var s;const a={common:{issues:[],async:(s=r==null?void 0:r.async)!==null&&s!==void 0?s:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ts(t)},i=this._parseSync({data:t,path:a.path,parent:a});return Iv(a,i)}"~validate"(t){var r,s;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ts(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:a});return Pi(i)?{value:i.value}:{issues:a.common.issues}}catch(i){!((s=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(i=>Pi(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(t,r){const s=await this.safeParseAsync(t,r);if(s.success)return s.data;throw s.error}async safeParseAsync(t,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ts(t)},a=this._parse({data:t,path:s.path,parent:s}),i=await(Pc(a)?a:Promise.resolve(a));return Iv(s,i)}refine(t,r){const s=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:ce.custom,...s(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((s,a)=>t(s)?!0:(a.addIssue(typeof r=="function"?r(s,a):r),!1))}_refinement(t){return new Kn({schema:this,typeName:ze.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return gs.create(this,this._def)}nullable(){return $a.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Yn.create(this)}promise(){return al.create(this,this._def)}or(t){return Dc.create([this,t],this._def)}and(t){return Ic.create(this,t,this._def)}transform(t){return new Kn({...Ke(this._def),schema:this,typeName:ze.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Oc({...Ke(this._def),innerType:this,defaultValue:r,typeName:ze.ZodDefault})}brand(){return new zx({typeName:ze.ZodBranded,type:this,...Ke(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Lc({...Ke(this._def),innerType:this,catchValue:r,typeName:ze.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return ad.create(this,t)}readonly(){return $c.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const j8=/^c[^\s-]{8,}$/i,N8=/^[0-9a-z]+$/,S8=/^[0-9A-HJKMNP-TV-Z]{26}$/i,C8=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,k8=/^[a-z0-9_-]{21}$/i,P8=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,T8=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,E8=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_8="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Qh;const D8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,I8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,A8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,R8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,M8=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,F8=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,FE="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",O8=new RegExp(`^${FE}$`);function OE(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function L8(e){return new RegExp(`^${OE(e)}$`)}function LE(e){let t=`${FE}T${OE(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function $8(e,t){return!!((t==="v4"||!t)&&D8.test(e)||(t==="v6"||!t)&&A8.test(e))}function V8(e,t){if(!P8.test(e))return!1;try{const[r]=e.split("."),s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||!a.typ||!a.alg||t&&a.alg!==t)}catch{return!1}}function z8(e,t){return!!((t==="v4"||!t)&&I8.test(e)||(t==="v6"||!t)&&R8.test(e))}class zn extends et{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ne.string){const i=this._getOrReturnCtx(t);return we(i,{code:ce.invalid_type,expected:Ne.string,received:i.parsedType}),Ue}const s=new Cr;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),we(a,{code:ce.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),we(a,{code:ce.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?we(a,{code:ce.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&we(a,{code:ce.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")E8.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"email",code:ce.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")Qh||(Qh=new RegExp(_8,"u")),Qh.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"emoji",code:ce.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")C8.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"uuid",code:ce.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")k8.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"nanoid",code:ce.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")j8.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"cuid",code:ce.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")N8.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"cuid2",code:ce.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")S8.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"ulid",code:ce.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),we(a,{validation:"url",code:ce.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"regex",code:ce.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),we(a,{code:ce.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),we(a,{code:ce.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),we(a,{code:ce.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?LE(i).test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{code:ce.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?O8.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{code:ce.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?L8(i).test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{code:ce.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?T8.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"duration",code:ce.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?$8(t.data,i.version)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"ip",code:ce.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?V8(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"jwt",code:ce.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?z8(t.data,i.version)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"cidr",code:ce.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?M8.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"base64",code:ce.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?F8.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"base64url",code:ce.invalid_string,message:i.message}),s.dirty()):it.assertNever(i);return{status:s.value,value:t.data}}_regex(t,r,s){return this.refinement(a=>t.test(a),{validation:r,code:ce.invalid_string,...Ae.errToObj(s)})}_addCheck(t){return new zn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ae.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ae.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ae.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ae.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ae.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ae.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ae.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ae.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ae.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ae.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ae.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ae.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ae.errToObj(t)})}datetime(t){var r,s;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(s=t==null?void 0:t.local)!==null&&s!==void 0?s:!1,...Ae.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ae.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ae.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ae.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ae.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ae.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ae.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ae.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ae.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ae.errToObj(r)})}nonempty(t){return this.min(1,Ae.errToObj(t))}trim(){return new zn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new zn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new zn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}zn.create=e=>{var t;return new zn({checks:[],typeName:ze.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ke(e)})};function U8(e,t){const r=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,a=r>s?r:s,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class Fa extends et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ne.number){const i=this._getOrReturnCtx(t);return we(i,{code:ce.invalid_type,expected:Ne.number,received:i.parsedType}),Ue}let s;const a=new Cr;for(const i of this._def.checks)i.kind==="int"?it.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),we(s,{code:ce.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),we(s,{code:ce.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),we(s,{code:ce.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?U8(t.data,i.value)!==0&&(s=this._getOrReturnCtx(t,s),we(s,{code:ce.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),we(s,{code:ce.not_finite,message:i.message}),a.dirty()):it.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ae.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ae.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ae.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ae.toString(r))}setLimit(t,r,s,a){return new Fa({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:Ae.toString(a)}]})}_addCheck(t){return new Fa({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ae.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ae.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ae.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ae.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ae.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ae.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ae.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ae.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ae.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&it.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Fa.create=e=>new Fa({checks:[],typeName:ze.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ke(e)});class Oa extends et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ne.bigint)return this._getInvalidInput(t);let s;const a=new Cr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),we(s,{code:ce.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),we(s,{code:ce.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),we(s,{code:ce.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):it.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return we(r,{code:ce.invalid_type,expected:Ne.bigint,received:r.parsedType}),Ue}gte(t,r){return this.setLimit("min",t,!0,Ae.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ae.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ae.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ae.toString(r))}setLimit(t,r,s,a){return new Oa({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:Ae.toString(a)}]})}_addCheck(t){return new Oa({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ae.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ae.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ae.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ae.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ae.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Oa.create=e=>{var t;return new Oa({checks:[],typeName:ze.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ke(e)})};class Tc extends et{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ne.boolean){const s=this._getOrReturnCtx(t);return we(s,{code:ce.invalid_type,expected:Ne.boolean,received:s.parsedType}),Ue}return Fr(t.data)}}Tc.create=e=>new Tc({typeName:ze.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ke(e)});class Ti extends et{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ne.date){const i=this._getOrReturnCtx(t);return we(i,{code:ce.invalid_type,expected:Ne.date,received:i.parsedType}),Ue}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return we(i,{code:ce.invalid_date}),Ue}const s=new Cr;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),we(a,{code:ce.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),we(a,{code:ce.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):it.assertNever(i);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ti({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ae.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ae.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Ti.create=e=>new Ti({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ze.ZodDate,...Ke(e)});class Ku extends et{_parse(t){if(this._getType(t)!==Ne.symbol){const s=this._getOrReturnCtx(t);return we(s,{code:ce.invalid_type,expected:Ne.symbol,received:s.parsedType}),Ue}return Fr(t.data)}}Ku.create=e=>new Ku({typeName:ze.ZodSymbol,...Ke(e)});class Ec extends et{_parse(t){if(this._getType(t)!==Ne.undefined){const s=this._getOrReturnCtx(t);return we(s,{code:ce.invalid_type,expected:Ne.undefined,received:s.parsedType}),Ue}return Fr(t.data)}}Ec.create=e=>new Ec({typeName:ze.ZodUndefined,...Ke(e)});class _c extends et{_parse(t){if(this._getType(t)!==Ne.null){const s=this._getOrReturnCtx(t);return we(s,{code:ce.invalid_type,expected:Ne.null,received:s.parsedType}),Ue}return Fr(t.data)}}_c.create=e=>new _c({typeName:ze.ZodNull,...Ke(e)});class sl extends et{constructor(){super(...arguments),this._any=!0}_parse(t){return Fr(t.data)}}sl.create=e=>new sl({typeName:ze.ZodAny,...Ke(e)});class pi extends et{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Fr(t.data)}}pi.create=e=>new pi({typeName:ze.ZodUnknown,...Ke(e)});class Gs extends et{_parse(t){const r=this._getOrReturnCtx(t);return we(r,{code:ce.invalid_type,expected:Ne.never,received:r.parsedType}),Ue}}Gs.create=e=>new Gs({typeName:ze.ZodNever,...Ke(e)});class Qu extends et{_parse(t){if(this._getType(t)!==Ne.undefined){const s=this._getOrReturnCtx(t);return we(s,{code:ce.invalid_type,expected:Ne.void,received:s.parsedType}),Ue}return Fr(t.data)}}Qu.create=e=>new Qu({typeName:ze.ZodVoid,...Ke(e)});class Yn extends et{_parse(t){const{ctx:r,status:s}=this._processInputParams(t),a=this._def;if(r.parsedType!==Ne.array)return we(r,{code:ce.invalid_type,expected:Ne.array,received:r.parsedType}),Ue;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(we(r,{code:o?ce.too_big:ce.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(we(r,{code:ce.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(we(r,{code:ce.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new ys(r,o,r.path,l)))).then(o=>Cr.mergeArray(s,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new ys(r,o,r.path,l)));return Cr.mergeArray(s,i)}get element(){return this._def.type}min(t,r){return new Yn({...this._def,minLength:{value:t,message:Ae.toString(r)}})}max(t,r){return new Yn({...this._def,maxLength:{value:t,message:Ae.toString(r)}})}length(t,r){return new Yn({...this._def,exactLength:{value:t,message:Ae.toString(r)}})}nonempty(t){return this.min(1,t)}}Yn.create=(e,t)=>new Yn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ze.ZodArray,...Ke(t)});function Bi(e){if(e instanceof Rt){const t={};for(const r in e.shape){const s=e.shape[r];t[r]=gs.create(Bi(s))}return new Rt({...e._def,shape:()=>t})}else return e instanceof Yn?new Yn({...e._def,type:Bi(e.element)}):e instanceof gs?gs.create(Bi(e.unwrap())):e instanceof $a?$a.create(Bi(e.unwrap())):e instanceof vs?vs.create(e.items.map(t=>Bi(t))):e}class Rt extends et{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=it.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Ne.object){const d=this._getOrReturnCtx(t);return we(d,{code:ce.invalid_type,expected:Ne.object,received:d.parsedType}),Ue}const{status:s,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Gs&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const m=i[d],p=a.data[d];c.push({key:{status:"valid",value:d},value:m._parse(new ys(a,p,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof Gs){const d=this._def.unknownKeys;if(d==="passthrough")for(const m of l)c.push({key:{status:"valid",value:m},value:{status:"valid",value:a.data[m]}});else if(d==="strict")l.length>0&&(we(a,{code:ce.unrecognized_keys,keys:l}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const m of l){const p=a.data[m];c.push({key:{status:"valid",value:m},value:d._parse(new ys(a,p,a.path,m)),alwaysSet:m in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const m of c){const p=await m.key,f=await m.value;d.push({key:p,value:f,alwaysSet:m.alwaysSet})}return d}).then(d=>Cr.mergeObjectSync(s,d)):Cr.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(t){return Ae.errToObj,new Rt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,s)=>{var a,i,o,l;const c=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,s).message)!==null&&o!==void 0?o:s.defaultError;return r.code==="unrecognized_keys"?{message:(l=Ae.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Rt({...this._def,unknownKeys:"strip"})}passthrough(){return new Rt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Rt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Rt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ze.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Rt({...this._def,catchall:t})}pick(t){const r={};return it.objectKeys(t).forEach(s=>{t[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new Rt({...this._def,shape:()=>r})}omit(t){const r={};return it.objectKeys(this.shape).forEach(s=>{t[s]||(r[s]=this.shape[s])}),new Rt({...this._def,shape:()=>r})}deepPartial(){return Bi(this)}partial(t){const r={};return it.objectKeys(this.shape).forEach(s=>{const a=this.shape[s];t&&!t[s]?r[s]=a:r[s]=a.optional()}),new Rt({...this._def,shape:()=>r})}required(t){const r={};return it.objectKeys(this.shape).forEach(s=>{if(t&&!t[s])r[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof gs;)i=i._def.innerType;r[s]=i}}),new Rt({...this._def,shape:()=>r})}keyof(){return $E(it.objectKeys(this.shape))}}Rt.create=(e,t)=>new Rt({shape:()=>e,unknownKeys:"strip",catchall:Gs.create(),typeName:ze.ZodObject,...Ke(t)});Rt.strictCreate=(e,t)=>new Rt({shape:()=>e,unknownKeys:"strict",catchall:Gs.create(),typeName:ze.ZodObject,...Ke(t)});Rt.lazycreate=(e,t)=>new Rt({shape:e,unknownKeys:"strip",catchall:Gs.create(),typeName:ze.ZodObject,...Ke(t)});class Dc extends et{_parse(t){const{ctx:r}=this._processInputParams(t),s=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new dn(l.ctx.common.issues));return we(r,{code:ce.invalid_union,unionErrors:o}),Ue}if(r.common.async)return Promise.all(s.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of s){const d={...r,common:{...r.common,issues:[]},parent:null},m=c._parseSync({data:r.data,path:r.path,parent:d});if(m.status==="valid")return m;m.status==="dirty"&&!i&&(i={result:m,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new dn(c));return we(r,{code:ce.invalid_union,unionErrors:l}),Ue}}get options(){return this._def.options}}Dc.create=(e,t)=>new Dc({options:e,typeName:ze.ZodUnion,...Ke(t)});const Cs=e=>e instanceof Rc?Cs(e.schema):e instanceof Kn?Cs(e.innerType()):e instanceof Mc?[e.value]:e instanceof La?e.options:e instanceof Fc?it.objectValues(e.enum):e instanceof Oc?Cs(e._def.innerType):e instanceof Ec?[void 0]:e instanceof _c?[null]:e instanceof gs?[void 0,...Cs(e.unwrap())]:e instanceof $a?[null,...Cs(e.unwrap())]:e instanceof zx||e instanceof $c?Cs(e.unwrap()):e instanceof Lc?Cs(e._def.innerType):[];class Gm extends et{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ne.object)return we(r,{code:ce.invalid_type,expected:Ne.object,received:r.parsedType}),Ue;const s=this.discriminator,a=r.data[s],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(we(r,{code:ce.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),Ue)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,s){const a=new Map;for(const i of r){const o=Cs(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,i)}}return new Gm({typeName:ze.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...Ke(s)})}}function Fp(e,t){const r=Ts(e),s=Ts(t);if(e===t)return{valid:!0,data:e};if(r===Ne.object&&s===Ne.object){const a=it.objectKeys(t),i=it.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=Fp(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Ne.array&&s===Ne.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=Fp(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Ne.date&&s===Ne.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ic extends et{_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=(i,o)=>{if(Rp(i)||Rp(o))return Ue;const l=Fp(i.value,o.value);return l.valid?((Mp(i)||Mp(o))&&r.dirty(),{status:r.value,value:l.data}):(we(s,{code:ce.invalid_intersection_types}),Ue)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Ic.create=(e,t,r)=>new Ic({left:e,right:t,typeName:ze.ZodIntersection,...Ke(r)});class vs extends et{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==Ne.array)return we(s,{code:ce.invalid_type,expected:Ne.array,received:s.parsedType}),Ue;if(s.data.length<this._def.items.length)return we(s,{code:ce.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ue;!this._def.rest&&s.data.length>this._def.items.length&&(we(s,{code:ce.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ys(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>Cr.mergeArray(r,o)):Cr.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new vs({...this._def,rest:t})}}vs.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new vs({items:e,typeName:ze.ZodTuple,rest:null,...Ke(t)})};class Ac extends et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==Ne.object)return we(s,{code:ce.invalid_type,expected:Ne.object,received:s.parsedType}),Ue;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in s.data)a.push({key:i._parse(new ys(s,l,s.path,l)),value:o._parse(new ys(s,s.data[l],s.path,l)),alwaysSet:l in s.data});return s.common.async?Cr.mergeObjectAsync(r,a):Cr.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,s){return r instanceof et?new Ac({keyType:t,valueType:r,typeName:ze.ZodRecord,...Ke(s)}):new Ac({keyType:zn.create(),valueType:t,typeName:ze.ZodRecord,...Ke(r)})}}class Zu extends et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==Ne.map)return we(s,{code:ce.invalid_type,expected:Ne.map,received:s.parsedType}),Ue;const a=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([l,c],d)=>({key:a._parse(new ys(s,l,s.path,[d,"key"])),value:i._parse(new ys(s,c,s.path,[d,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,m=await c.value;if(d.status==="aborted"||m.status==="aborted")return Ue;(d.status==="dirty"||m.status==="dirty")&&r.dirty(),l.set(d.value,m.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,m=c.value;if(d.status==="aborted"||m.status==="aborted")return Ue;(d.status==="dirty"||m.status==="dirty")&&r.dirty(),l.set(d.value,m.value)}return{status:r.value,value:l}}}}Zu.create=(e,t,r)=>new Zu({valueType:t,keyType:e,typeName:ze.ZodMap,...Ke(r)});class Ei extends et{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==Ne.set)return we(s,{code:ce.invalid_type,expected:Ne.set,received:s.parsedType}),Ue;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(we(s,{code:ce.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(we(s,{code:ce.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const m of c){if(m.status==="aborted")return Ue;m.status==="dirty"&&r.dirty(),d.add(m.value)}return{status:r.value,value:d}}const l=[...s.data.values()].map((c,d)=>i._parse(new ys(s,c,s.path,d)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Ei({...this._def,minSize:{value:t,message:Ae.toString(r)}})}max(t,r){return new Ei({...this._def,maxSize:{value:t,message:Ae.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Ei.create=(e,t)=>new Ei({valueType:e,minSize:null,maxSize:null,typeName:ze.ZodSet,...Ke(t)});class jo extends et{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ne.function)return we(r,{code:ce.invalid_type,expected:Ne.function,received:r.parsedType}),Ue;function s(l,c){return Xu({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Wu(),nl].filter(d=>!!d),issueData:{code:ce.invalid_arguments,argumentsError:c}})}function a(l,c){return Xu({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Wu(),nl].filter(d=>!!d),issueData:{code:ce.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof al){const l=this;return Fr(async function(...c){const d=new dn([]),m=await l._def.args.parseAsync(c,i).catch(x=>{throw d.addIssue(s(c,x)),d}),p=await Reflect.apply(o,this,m);return await l._def.returns._def.type.parseAsync(p,i).catch(x=>{throw d.addIssue(a(p,x)),d})})}else{const l=this;return Fr(function(...c){const d=l._def.args.safeParse(c,i);if(!d.success)throw new dn([s(c,d.error)]);const m=Reflect.apply(o,this,d.data),p=l._def.returns.safeParse(m,i);if(!p.success)throw new dn([a(m,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new jo({...this._def,args:vs.create(t).rest(pi.create())})}returns(t){return new jo({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,s){return new jo({args:t||vs.create([]).rest(pi.create()),returns:r||pi.create(),typeName:ze.ZodFunction,...Ke(s)})}}class Rc extends et{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Rc.create=(e,t)=>new Rc({getter:e,typeName:ze.ZodLazy,...Ke(t)});class Mc extends et{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return we(r,{received:r.data,code:ce.invalid_literal,expected:this._def.value}),Ue}return{status:"valid",value:t.data}}get value(){return this._def.value}}Mc.create=(e,t)=>new Mc({value:e,typeName:ze.ZodLiteral,...Ke(t)});function $E(e,t){return new La({values:e,typeName:ze.ZodEnum,...Ke(t)})}class La extends et{constructor(){super(...arguments),zl.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),s=this._def.values;return we(r,{expected:it.joinValues(s),received:r.parsedType,code:ce.invalid_type}),Ue}if(Hu(this,zl)||ME(this,zl,new Set(this._def.values)),!Hu(this,zl).has(t.data)){const r=this._getOrReturnCtx(t),s=this._def.values;return we(r,{received:r.data,code:ce.invalid_enum_value,options:s}),Ue}return Fr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return La.create(t,{...this._def,...r})}exclude(t,r=this._def){return La.create(this.options.filter(s=>!t.includes(s)),{...this._def,...r})}}zl=new WeakMap;La.create=$E;class Fc extends et{constructor(){super(...arguments),Ul.set(this,void 0)}_parse(t){const r=it.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==Ne.string&&s.parsedType!==Ne.number){const a=it.objectValues(r);return we(s,{expected:it.joinValues(a),received:s.parsedType,code:ce.invalid_type}),Ue}if(Hu(this,Ul)||ME(this,Ul,new Set(it.getValidEnumValues(this._def.values))),!Hu(this,Ul).has(t.data)){const a=it.objectValues(r);return we(s,{received:s.data,code:ce.invalid_enum_value,options:a}),Ue}return Fr(t.data)}get enum(){return this._def.values}}Ul=new WeakMap;Fc.create=(e,t)=>new Fc({values:e,typeName:ze.ZodNativeEnum,...Ke(t)});class al extends et{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ne.promise&&r.common.async===!1)return we(r,{code:ce.invalid_type,expected:Ne.promise,received:r.parsedType}),Ue;const s=r.parsedType===Ne.promise?r.data:Promise.resolve(r.data);return Fr(s.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}al.create=(e,t)=>new al({type:e,typeName:ze.ZodPromise,...Ke(t)});class Kn extends et{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ze.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{we(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Ue;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?Ue:c.status==="dirty"||r.value==="dirty"?ao(c.value):c});{if(r.value==="aborted")return Ue;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?Ue:l.status==="dirty"||r.value==="dirty"?ao(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?Ue:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?Ue:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Pi(o))return o;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>Pi(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):o);it.assertNever(a)}}Kn.create=(e,t,r)=>new Kn({schema:e,typeName:ze.ZodEffects,effect:t,...Ke(r)});Kn.createWithPreprocess=(e,t,r)=>new Kn({schema:t,effect:{type:"preprocess",transform:e},typeName:ze.ZodEffects,...Ke(r)});class gs extends et{_parse(t){return this._getType(t)===Ne.undefined?Fr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}gs.create=(e,t)=>new gs({innerType:e,typeName:ze.ZodOptional,...Ke(t)});class $a extends et{_parse(t){return this._getType(t)===Ne.null?Fr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}$a.create=(e,t)=>new $a({innerType:e,typeName:ze.ZodNullable,...Ke(t)});class Oc extends et{_parse(t){const{ctx:r}=this._processInputParams(t);let s=r.data;return r.parsedType===Ne.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Oc.create=(e,t)=>new Oc({innerType:e,typeName:ze.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ke(t)});class Lc extends et{_parse(t){const{ctx:r}=this._processInputParams(t),s={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Pc(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new dn(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new dn(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Lc.create=(e,t)=>new Lc({innerType:e,typeName:ze.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ke(t)});class Ju extends et{_parse(t){if(this._getType(t)!==Ne.nan){const s=this._getOrReturnCtx(t);return we(s,{code:ce.invalid_type,expected:Ne.nan,received:s.parsedType}),Ue}return{status:"valid",value:t.data}}}Ju.create=e=>new Ju({typeName:ze.ZodNaN,...Ke(e)});const B8=Symbol("zod_brand");class zx extends et{_parse(t){const{ctx:r}=this._processInputParams(t),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class ad extends et{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?Ue:i.status==="dirty"?(r.dirty(),ao(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?Ue:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(t,r){return new ad({in:t,out:r,typeName:ze.ZodPipeline})}}class $c extends et{_parse(t){const r=this._def.innerType._parse(t),s=a=>(Pi(a)&&(a.value=Object.freeze(a.value)),a);return Pc(r)?r.then(a=>s(a)):s(r)}unwrap(){return this._def.innerType}}$c.create=(e,t)=>new $c({innerType:e,typeName:ze.ZodReadonly,...Ke(t)});function Av(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function VE(e,t={},r){return e?sl.create().superRefine((s,a)=>{var i,o;const l=e(s);if(l instanceof Promise)return l.then(c=>{var d,m;if(!c){const p=Av(t,s),f=(m=(d=p.fatal)!==null&&d!==void 0?d:r)!==null&&m!==void 0?m:!0;a.addIssue({code:"custom",...p,fatal:f})}});if(!l){const c=Av(t,s),d=(o=(i=c.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0;a.addIssue({code:"custom",...c,fatal:d})}}):sl.create()}const q8={object:Rt.lazycreate};var ze;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ze||(ze={}));const Y8=(e,t={message:`Input not instance of ${e.name}`})=>VE(r=>r instanceof e,t),zE=zn.create,UE=Fa.create,G8=Ju.create,W8=Oa.create,BE=Tc.create,X8=Ti.create,H8=Ku.create,K8=Ec.create,Q8=_c.create,Z8=sl.create,J8=pi.create,e$=Gs.create,t$=Qu.create,r$=Yn.create,n$=Rt.create,s$=Rt.strictCreate,a$=Dc.create,i$=Gm.create,o$=Ic.create,l$=vs.create,c$=Ac.create,d$=Zu.create,u$=Ei.create,m$=jo.create,h$=Rc.create,f$=Mc.create,p$=La.create,g$=Fc.create,x$=al.create,Rv=Kn.create,y$=gs.create,v$=$a.create,w$=Kn.createWithPreprocess,b$=ad.create,j$=()=>zE().optional(),N$=()=>UE().optional(),S$=()=>BE().optional(),C$={string:e=>zn.create({...e,coerce:!0}),number:e=>Fa.create({...e,coerce:!0}),boolean:e=>Tc.create({...e,coerce:!0}),bigint:e=>Oa.create({...e,coerce:!0}),date:e=>Ti.create({...e,coerce:!0})},k$=Ue;var Q=Object.freeze({__proto__:null,defaultErrorMap:nl,setErrorMap:w8,getErrorMap:Wu,makeIssue:Xu,EMPTY_PATH:b8,addIssueToContext:we,ParseStatus:Cr,INVALID:Ue,DIRTY:ao,OK:Fr,isAborted:Rp,isDirty:Mp,isValid:Pi,isAsync:Pc,get util(){return it},get objectUtil(){return Ap},ZodParsedType:Ne,getParsedType:Ts,ZodType:et,datetimeRegex:LE,ZodString:zn,ZodNumber:Fa,ZodBigInt:Oa,ZodBoolean:Tc,ZodDate:Ti,ZodSymbol:Ku,ZodUndefined:Ec,ZodNull:_c,ZodAny:sl,ZodUnknown:pi,ZodNever:Gs,ZodVoid:Qu,ZodArray:Yn,ZodObject:Rt,ZodUnion:Dc,ZodDiscriminatedUnion:Gm,ZodIntersection:Ic,ZodTuple:vs,ZodRecord:Ac,ZodMap:Zu,ZodSet:Ei,ZodFunction:jo,ZodLazy:Rc,ZodLiteral:Mc,ZodEnum:La,ZodNativeEnum:Fc,ZodPromise:al,ZodEffects:Kn,ZodTransformer:Kn,ZodOptional:gs,ZodNullable:$a,ZodDefault:Oc,ZodCatch:Lc,ZodNaN:Ju,BRAND:B8,ZodBranded:zx,ZodPipeline:ad,ZodReadonly:$c,custom:VE,Schema:et,ZodSchema:et,late:q8,get ZodFirstPartyTypeKind(){return ze},coerce:C$,any:Z8,array:r$,bigint:W8,boolean:BE,date:X8,discriminatedUnion:i$,effect:Rv,enum:p$,function:m$,instanceof:Y8,intersection:o$,lazy:h$,literal:f$,map:d$,nan:G8,nativeEnum:g$,never:e$,null:Q8,nullable:v$,number:UE,object:n$,oboolean:S$,onumber:N$,optional:y$,ostring:j$,pipeline:b$,preprocess:w$,promise:x$,record:c$,set:u$,strictObject:s$,string:zE,symbol:H8,transformer:Rv,tuple:l$,undefined:K8,union:a$,unknown:J8,void:t$,NEVER:k$,ZodIssueCode:ce,quotelessJson:v8,ZodError:dn});const At={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Yt(e,t){return t.includes(e.columnType)}function P$(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const T$=Q.union([Q.string(),Q.number(),Q.boolean(),Q.null()]),E$=Q.union([T$,Q.record(Q.any()),Q.array(Q.any())]),_$=Q.custom(e=>e instanceof Buffer);function qE(e,t){const r=(t==null?void 0:t.zodInstance)??Q,s=(t==null?void 0:t.coerce)??{};let a;return P$(e)&&(a=e.enumValues.length?r.enum(e.enumValues):r.string()),a||(Yt(e,["PgGeometry","PgPointTuple"])?a=r.tuple([r.number(),r.number()]):Yt(e,["PgGeometryObject","PgPointObject"])?a=r.object({x:r.number(),y:r.number()}):Yt(e,["PgHalfVector","PgVector"])?(a=r.array(r.number()),a=e.dimensions?a.length(e.dimensions):a):Yt(e,["PgLine"])?a=r.tuple([r.number(),r.number(),r.number()]):Yt(e,["PgLineABC"])?a=r.object({a:r.number(),b:r.number(),c:r.number()}):Yt(e,["PgArray"])?(a=r.array(qE(e.baseColumn,r)),a=e.size?a.length(e.size):a):e.dataType==="array"?a=r.array(r.any()):e.dataType==="number"?a=D$(e,r,s):e.dataType==="bigint"?a=I$(e,r,s):e.dataType==="boolean"?a=s===!0||s.boolean?r.coerce.boolean():r.boolean():e.dataType==="date"?a=s===!0||s.date?r.coerce.date():r.date():e.dataType==="string"?a=A$(e,r,s):e.dataType==="json"?a=E$:e.dataType==="custom"?a=r.any():e.dataType==="buffer"&&(a=_$)),a||(a=r.any()),a}function D$(e,t,r){let s=e.getSQLType().includes("unsigned"),a,i,o=!1;Yt(e,["MySqlTinyInt","SingleStoreTinyInt"])?(a=s?0:At.INT8_MIN,i=s?At.INT8_UNSIGNED_MAX:At.INT8_MAX,o=!0):Yt(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(a=s?0:At.INT16_MIN,i=s?At.INT16_UNSIGNED_MAX:At.INT16_MAX,o=!0):Yt(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(a=s?0:At.INT24_MIN,i=s?At.INT24_UNSIGNED_MAX:At.INT24_MAX,o=Yt(e,["MySqlMediumInt","SingleStoreMediumInt"])):Yt(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(a=s?0:At.INT32_MIN,i=s?At.INT32_UNSIGNED_MAX:At.INT32_MAX,o=!0):Yt(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(a=s?0:At.INT48_MIN,i=s?At.INT48_UNSIGNED_MAX:At.INT48_MAX):Yt(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(s=s||Yt(e,["MySqlSerial","SingleStoreSerial"]),a=s?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=!0):Yt(e,["MySqlYear","SingleStoreYear"])?(a=1901,i=2155,o=!0):(a=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let l=r===!0||r!=null&&r.number?t.coerce.number():t.number();return l=l.min(a).max(i),o?l.int():l}function I$(e,t,r){const s=e.getSQLType().includes("unsigned"),a=s?0n:At.INT64_MIN,i=s?At.INT64_UNSIGNED_MAX:At.INT64_MAX;return(r===!0||r!=null&&r.bigint?t.coerce.bigint():t.bigint()).min(a).max(i)}function A$(e,t,r){if(Yt(e,["PgUUID"]))return t.string().uuid();let s,a,i=!1;Yt(e,["PgVarchar","SQLiteText"])?s=e.length:Yt(e,["MySqlVarChar","SingleStoreVarChar"])?s=e.length??At.INT16_UNSIGNED_MAX:Yt(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?s=At.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?s=At.INT24_UNSIGNED_MAX:e.textType==="text"?s=At.INT16_UNSIGNED_MAX:s=At.INT8_UNSIGNED_MAX),Yt(e,["PgChar","MySqlChar","SingleStoreChar"])&&(s=e.length,i=!0),Yt(e,["PgBinaryVector"])&&(a=/^[01]+$/,s=e.dimensions);let o=r===!0||r!=null&&r.string?t.coerce.string():t.string();return o=a?o.regex(a):o,s&&i?o.length(s):s?o.max(s):o}function YE(e){return nT(e)?BL(e):qL(e)}function GE(e,t,r,s){const a={};for(const[i,o]of Object.entries(e)){if(!mr(o,rl)&&!mr(o,ar)&&!mr(o,ar.Aliased)&&typeof o=="object"){const p=nT(o)||UL(o)?YE(o):o;a[i]=GE(p,t[i]??{},r,s);continue}const l=t[i];if(l!==void 0&&typeof l!="function"){a[i]=l;continue}const c=mr(o,rl)?o:void 0,d=c?qE(c,s):Q.any(),m=typeof l=="function"?l(d):d;r.never(c)||(a[i]=m,c&&(r.nullable(c)&&(a[i]=a[i].nullable()),r.optional(c)&&(a[i]=a[i].optional())))}return Q.object(a)}const R$={never:e=>{var t,r;return((t=e==null?void 0:e.generated)==null?void 0:t.type)==="always"||((r=e==null?void 0:e.generatedIdentity)==null?void 0:r.type)==="always"},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},Nt=(e,t)=>{const r=YE(e);return GE(r,t??{},R$)},Xs=jt("vehicles",{id:vt("id").primaryKey(),userId:$e("user_id").references(()=>Zn.id),make:K("make").notNull(),model:K("model").notNull(),year:$e("year").notNull(),color:K("color").notNull(),licensePlate:K("license_plate").notNull().unique(),chassisNumber:K("chassis_number"),engineNumber:K("engine_number"),ownerName:K("owner_name").notNull(),ownerPhone:K("owner_phone"),thumbnailPath:K("thumbnail_path"),insuranceCompany:K("insurance_company"),insuranceExpiry:br("insurance_expiry"),insuranceExpiryDate:br("insurance_expiry_date"),insuranceSumInsured:K("insurance_sum_insured"),insurancePremiumAmount:K("insurance_premium_amount"),emissionExpiry:br("emission_expiry"),rcExpiry:br("rc_expiry"),lastServiceDate:br("last_service_date"),currentOdometerReading:$e("current_odometer_reading"),averageUsagePerMonth:$e("average_usage_per_month"),serviceIntervalKms:$e("service_interval_kms"),serviceIntervalMonths:$e("service_interval_months"),vehicleType:K("vehicle_type").notNull(),fuelType:K("fuel_type"),userType:K("user_type").notNull().default("Private"),ocrPolicyNumber:K("ocr_policy_number"),ocrSumInsured:K("ocr_sum_insured"),ocrPremiumAmount:K("ocr_premium_amount"),ocrInsuredName:K("ocr_insured_name"),createdAt:Ie("created_at").defaultNow().notNull()}),M$=jt("documents",{id:vt("id").primaryKey(),vehicleId:$e("vehicle_id").references(()=>Xs.id).notNull(),type:K("type").notNull(),fileName:K("file_name").notNull(),filePath:K("file_path").notNull(),fileSize:$e("file_size").notNull(),mimeType:K("mime_type").notNull(),uploadedAt:Ie("uploaded_at").defaultNow().notNull()}),F$=jt("maintenance_schedules",{id:vt("id").primaryKey(),make:K("make").notNull(),model:K("model").notNull(),year:$e("year").notNull(),scheduleData:VT("schedule_data").notNull(),source:K("source").notNull(),drivingCondition:K("driving_condition").notNull(),lastUpdated:Ie("last_updated").defaultNow().notNull(),createdAt:Ie("created_at").defaultNow().notNull()}),O$=jt("news_items",{id:vt("id").primaryKey(),title:K("title").notNull(),summary:K("summary").notNull(),category:K("category").notNull(),date:K("date").notNull(),source:K("source").notNull(),link:K("link").notNull(),priority:K("priority").notNull(),createdAt:Ie("created_at").defaultNow().notNull(),lastUpdated:Ie("last_updated").defaultNow().notNull()}),L$=jt("calendar_reminders",{id:vt("id").primaryKey(),userId:$e("user_id").references(()=>Zn.id).notNull(),title:K("title").notNull(),details:K("details").notNull(),reminderDate:Ie("reminder_date").notNull(),notificationSent:$t("notification_sent").default(!1).notNull(),isCompleted:$t("is_completed").default(!1).notNull(),createdAt:Ie("created_at").defaultNow().notNull(),updatedAt:Ie("updated_at").defaultNow().notNull()}),$$=jt("news_update_log",{id:vt("id").primaryKey(),updateType:K("update_type").notNull(),source:K("source").notNull(),itemsUpdated:$e("items_updated").notNull(),lastUpdated:Ie("last_updated").defaultNow().notNull()}),V$=jt("maintenance_records",{id:vt("id").primaryKey(),vehicleId:$e("vehicle_id").references(()=>Xs.id).notNull(),maintenanceType:K("maintenance_type").notNull(),completedDate:br("completed_date"),warrantyCardPath:K("warranty_card_path"),invoicePath:K("invoice_path"),notes:K("notes"),createdAt:Ie("created_at").defaultNow().notNull(),updatedAt:Ie("updated_at").defaultNow().notNull()}),z$=jt("service_logs",{id:vt("id").primaryKey(),vehicleId:$e("vehicle_id").references(()=>Xs.id).notNull(),serviceType:K("service_type").notNull(),serviceDate:br("service_date").notNull(),serviceCentre:K("service_centre").notNull(),billAmount:$e("bill_amount"),serviceIntervalMonths:$e("service_interval_months"),notes:K("notes"),invoicePath:K("invoice_path"),createdAt:Ie("created_at").defaultNow().notNull(),updatedAt:Ie("updated_at").defaultNow().notNull()}),U$=jt("service_alerts",{id:vt("id").primaryKey(),vehicleId:$e("vehicle_id").references(()=>Xs.id).notNull(),eventName:K("event_name").notNull(),scheduledDate:br("scheduled_date").notNull(),notes:K("notes"),isActive:$t("is_active").default(!0).notNull(),isCompleted:$t("is_completed").default(!1).notNull(),notificationSent:$t("notification_sent").default(!1).notNull(),createdAt:Ie("created_at").defaultNow().notNull(),updatedAt:Ie("updated_at").defaultNow().notNull()}),Wm=jt("subscriptions",{id:vt("id").primaryKey(),userId:K("user_id").notNull(),subscriptionType:K("subscription_type").notNull().default("premium"),subscriptionDate:Ie("subscription_date").defaultNow().notNull(),expiryDate:Ie("expiry_date").notNull(),isActive:$t("is_active").default(!0).notNull(),razorpaySubscriptionId:K("razorpay_subscription_id"),amount:$e("amount").notNull().default(1e4),currency:K("currency").notNull().default("INR"),createdAt:Ie("created_at").defaultNow().notNull(),updatedAt:Ie("updated_at").defaultNow().notNull()}),WE=jt("payment_history",{id:vt("id").primaryKey(),userId:K("user_id").notNull(),subscriptionId:$e("subscription_id").references(()=>Wm.id),amount:$e("amount").notNull(),currency:K("currency").notNull().default("INR"),paymentDate:Ie("payment_date").defaultNow().notNull(),razorpayPaymentId:K("razorpay_payment_id"),razorpayOrderId:K("razorpay_order_id"),transactionId:K("transaction_id"),paymentStatus:K("payment_status").notNull(),paymentMethod:K("payment_method"),invoiceGenerated:$t("invoice_generated").default(!1).notNull(),invoicePath:K("invoice_path"),createdAt:Ie("created_at").defaultNow().notNull()}),B$=jt("account_information",{id:vt("id").primaryKey(),userId:$e("user_id").references(()=>Zn.id).notNull(),accountType:K("account_type").notNull().default("individual"),subscriptionPlan:K("subscription_plan").notNull().default("premium"),accountStatus:K("account_status").notNull().default("active"),totalSubscriptionPayments:$e("total_subscription_payments").notNull().default(0),totalAmountPaid:$e("total_amount_paid").notNull().default(0),lastPaymentDate:Ie("last_payment_date"),nextBillingDate:Ie("next_billing_date"),autoRenewal:$t("auto_renewal").default(!1).notNull(),billingAddress:K("billing_address"),gstNumber:K("gst_number"),panNumber:K("pan_number"),preferredPaymentMethod:K("preferred_payment_method"),accountNotes:K("account_notes"),createdAt:Ie("created_at").defaultNow().notNull(),updatedAt:Ie("updated_at").defaultNow().notNull()}),q$=jt("invoices",{id:vt("id").primaryKey(),userId:$e("user_id").references(()=>Zn.id).notNull(),paymentId:$e("payment_id").references(()=>WE.id),subscriptionId:$e("subscription_id").references(()=>Wm.id),invoiceNumber:K("invoice_number").notNull().unique(),invoiceType:K("invoice_type").notNull().default("subscription"),invoiceStatus:K("invoice_status").notNull().default("generated"),invoiceDate:Ie("invoice_date").defaultNow().notNull(),dueDate:Ie("due_date").notNull(),amount:$e("amount").notNull(),taxAmount:$e("tax_amount").notNull().default(0),totalAmount:$e("total_amount").notNull(),currency:K("currency").notNull().default("INR"),description:K("description").notNull(),billingPeriodStart:Ie("billing_period_start").notNull(),billingPeriodEnd:Ie("billing_period_end").notNull(),customerName:K("customer_name").notNull(),customerEmail:K("customer_email"),customerPhone:K("customer_phone").notNull(),customerAddress:K("customer_address"),invoiceFilePath:K("invoice_file_path"),downloadCount:$e("download_count").notNull().default(0),lastDownloaded:Ie("last_downloaded"),emailSent:$t("email_sent").default(!1).notNull(),emailSentAt:Ie("email_sent_at"),remindersSent:$e("reminders_sent").notNull().default(0),lastReminderSent:Ie("last_reminder_sent"),createdAt:Ie("created_at").defaultNow().notNull(),updatedAt:Ie("updated_at").defaultNow().notNull()}),Y$=jt("subscription_notifications",{id:vt("id").primaryKey(),userId:K("user_id").notNull(),subscriptionId:$e("subscription_id").references(()=>Wm.id),notificationType:K("notification_type").notNull(),sentDate:Ie("sent_date").defaultNow().notNull(),isRead:$t("is_read").default(!1).notNull(),createdAt:Ie("created_at").defaultNow().notNull()}),G$=jt("document_expiries",{id:vt("id").primaryKey(),vehicleId:$e("vehicle_id").references(()=>Xs.id).notNull(),userId:$e("user_id").references(()=>Zn.id).notNull(),documentType:K("document_type").notNull(),expiryDate:br("expiry_date").notNull(),amount:$e("amount"),issueDate:br("issue_date"),reminderSent:$t("reminder_sent").default(!1).notNull(),lastReminderDate:Ie("last_reminder_date"),isActive:$t("is_active").default(!0).notNull(),createdAt:Ie("created_at").defaultNow().notNull(),updatedAt:Ie("updated_at").defaultNow().notNull()}),XE=Nt(Xs).omit({id:!0,createdAt:!0}).extend({year:Q.number().min(1900).max(new Date().getFullYear()+1),licensePlate:Q.string().min(1,"License plate is required"),chassisNumber:Q.string().optional().nullable(),engineNumber:Q.string().optional().nullable(),ownerName:Q.string().min(1,"Owner name is required"),ownerPhone:Q.string().optional().nullable(),thumbnailPath:Q.string().optional().nullable(),insuranceCompany:Q.string().optional().nullable(),insuranceExpiry:Q.string().optional().nullable(),insuranceExpiryDate:Q.string().optional().nullable(),insuranceSumInsured:Q.string().optional().nullable(),insurancePremiumAmount:Q.string().optional().nullable(),emissionExpiry:Q.string().optional().nullable().refine(e=>{if(!e)return!0;const t=new Date(e),r=new Date;return r.setHours(0,0,0,0),t<=r},"Emission date cannot be in the future"),rcExpiry:Q.string().optional().nullable(),lastServiceDate:Q.string().optional().nullable().refine(e=>{if(!e)return!0;const t=new Date(e),r=new Date;return r.setHours(0,0,0,0),t<=r},"Last service date cannot be in the future"),currentOdometerReading:Q.number().optional().nullable(),averageUsagePerMonth:Q.number().optional().nullable(),serviceIntervalKms:Q.number().optional().nullable(),serviceIntervalMonths:Q.number().optional().nullable(),vehicleType:Q.string().min(1,"Vehicle type is required"),fuelType:Q.string().optional().nullable()});Nt(M$).omit({id:!0,uploadedAt:!0});Nt(F$).omit({id:!0,createdAt:!0,lastUpdated:!0});Nt(V$).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({completedDate:Q.string().optional().nullable()});Nt(z$).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({serviceDate:Q.string().min(1,"Service date is required"),serviceType:Q.string().min(1,"Service type is required"),serviceCentre:Q.string().min(1,"Service centre is required")});Nt(G$).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({expiryDate:Q.string().min(1,"Expiry date is required"),issueDate:Q.string().optional().nullable()});const Zn=jt("users",{id:vt("id").primaryKey(),username:K("username").notNull().unique(),password:K("password").notNull(),email:K("email"),mobile:K("mobile"),isVerified:$t("is_verified").default(!1).notNull(),pin:K("pin"),biometricEnabled:$t("biometric_enabled").default(!1).notNull(),subscriptionStatus:K("subscription_status").default("free"),subscriptionExpiry:Ie("subscription_expiry"),razorpayOrderId:K("razorpay_order_id"),razorpayPaymentId:K("razorpay_payment_id"),isAdmin:$t("is_admin").default(!1),adminRole:K("admin_role").default("user"),isBlocked:$t("is_blocked").default(!1),blockedAt:Ie("blocked_at"),blockedReason:K("blocked_reason"),createdAt:Ie("created_at").defaultNow().notNull()}),W$=jt("otp_verifications",{id:vt("id").primaryKey(),identifier:K("identifier").notNull(),otp:K("otp").notNull(),type:K("type").notNull(),expiresAt:Ie("expires_at").notNull(),isUsed:$t("is_used").default(!1).notNull(),createdAt:Ie("created_at").defaultNow().notNull()}),X$=jt("user_profiles",{id:vt("id").primaryKey(),userId:$e("user_id").references(()=>Zn.id).notNull(),name:K("name").notNull(),age:$e("age").notNull(),gender:K("gender"),address:K("address").notNull(),bloodGroup:K("blood_group").notNull(),state:K("state").notNull(),city:K("city").notNull(),pinCode:K("pin_code").notNull(),alternatePhone:K("alternate_phone"),email:K("email").notNull(),profilePicture:K("profile_picture"),driversLicenseNumber:K("drivers_license_number"),driversLicenseCopy:K("drivers_license_copy"),driversLicenseValidTill:br("drivers_license_valid_till"),createdAt:Ie("created_at").defaultNow().notNull(),updatedAt:Ie("updated_at").defaultNow().notNull()}),H$=jt("dashboard_widgets",{id:vt("id").primaryKey(),userId:$e("user_id").references(()=>Zn.id).notNull(),widgetType:K("widget_type").notNull(),position:$e("position").notNull().default(0),isVisible:$t("is_visible").notNull().default(!0),size:K("size").default("medium"),createdAt:Ie("created_at").defaultNow(),updatedAt:Ie("updated_at").defaultNow()}),K$=jt("ratings",{id:vt("id").primaryKey(),userId:$e("user_id").references(()=>Zn.id).notNull(),userName:K("user_name").notNull(),phoneNumber:K("phone_number").notNull(),emailId:K("email_id").notNull(),rating:$e("rating").notNull(),feedback:K("feedback"),createdAt:Ie("created_at").defaultNow().notNull()});Nt(Zn).pick({username:!0,password:!0,email:!0,mobile:!0});const Q$=Q.object({identifier:Q.string().min(1,"Mobile number or email is required")}),Z$=Q.object({identifier:Q.string().min(1,"Mobile number or email is required"),otp:Q.string().length(6,"OTP must be 6 digits")});Q.object({pin:Q.string().regex(/^\d{4,6}$/,"PIN must be 4-6 digits"),confirmPin:Q.string().regex(/^\d{4,6}$/,"PIN must be 4-6 digits")}).refine(e=>e.pin===e.confirmPin,{message:"PINs don't match",path:["confirmPin"]});const J$=Q.object({identifier:Q.string().min(1,"Mobile number or email is required"),pin:Q.string().regex(/^\d{4,6}$/,"PIN must be 4-6 digits")}),eV=Q.object({enabled:Q.boolean()});Nt(W$).omit({id:!0,createdAt:!0});const tV=Nt(X$).omit({id:!0,userId:!0,createdAt:!0,updatedAt:!0}).extend({name:Q.string().min(1,"Name is required").regex(/^[a-zA-Z\s]+$/,"Name can only contain letters and spaces"),age:Q.number().min(1,"Age must be greater than 0").max(120,"Age must be reasonable"),gender:Q.string().optional(),address:Q.string().min(1,"Address is required"),bloodGroup:Q.string().min(1,"Blood group is required"),state:Q.string().min(1,"State is required"),city:Q.string().min(1,"City is required"),pinCode:Q.string().min(1,"Pin code is required"),alternatePhone:Q.string().optional().refine(e=>!e||/^[0-9+\-() ]*$/.test(e),{message:"Phone number can only contain numbers, +, -, (, ), and spaces"}),email:Q.string().email("Please enter a valid email address").min(1,"Email address is required"),profilePicture:Q.string().optional().nullable(),driversLicenseNumber:Q.string().optional(),driversLicenseCopy:Q.string().optional().nullable(),driversLicenseValidTill:Q.string().optional().nullable()});Nt(U$).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({eventName:Q.string().min(1,"Event name is required"),scheduledDate:Q.string().min(1,"Scheduled date is required"),notes:Q.string().optional()});const rV=jt("notifications",{id:vt("id").primaryKey(),vehicleId:$e("vehicle_id").references(()=>Xs.id),type:K("type").notNull(),title:K("title").notNull(),message:K("message").notNull(),dueDate:br("due_date").notNull(),isRead:$t("is_read").default(!1),createdAt:Ie("created_at").defaultNow().notNull()});Nt(rV).omit({id:!0,createdAt:!0});const nV=jt("emergency_contacts",{id:vt("id").primaryKey(),userId:$e("user_id").notNull(),emergencyName:K("emergency_name"),emergencyPhone:K("emergency_phone"),insuranceName:K("insurance_name"),insurancePhone:K("insurance_phone"),roadsidePhone:K("roadside_phone"),serviceCentreName:K("service_centre_name"),serviceCentrePhone:K("service_centre_phone"),sparePartsName:K("spare_parts_name"),sparePartsPhone:K("spare_parts_phone"),createdAt:Ie("created_at").defaultNow(),updatedAt:Ie("updated_at").defaultNow()}),sV=Nt(nV).omit({id:!0,userId:!0,createdAt:!0,updatedAt:!0}),aV=Nt(K$,{rating:Q.number().min(1).max(5),userName:Q.string().min(1,"Name is required"),phoneNumber:Q.string().min(10,"Valid phone number is required"),emailId:Q.string().email("Valid email is required"),feedback:Q.string().optional()}).omit({id:!0,createdAt:!0}),HE=jt("broadcasts",{id:vt("id").primaryKey(),userId:$e("user_id").references(()=>Zn.id).notNull(),type:K("type").notNull(),title:K("title").notNull(),description:K("description").notNull(),vehicleId:$e("vehicle_id").references(()=>Xs.id),price:$e("price"),contactPhone:K("contact_phone").notNull(),contactEmail:K("contact_email"),location:K("location"),status:K("status").default("active").notNull(),viewCount:$e("view_count").default(0).notNull(),isActive:$t("is_active").default(!0).notNull(),expiresAt:Ie("expires_at"),createdAt:Ie("created_at").defaultNow().notNull(),updatedAt:Ie("updated_at").defaultNow().notNull()}),iV=jt("broadcast_responses",{id:vt("id").primaryKey(),broadcastId:$e("broadcast_id").references(()=>HE.id).notNull(),userId:$e("user_id").references(()=>Zn.id).notNull(),message:K("message").notNull(),contactPhone:K("contact_phone"),contactEmail:K("contact_email"),isRead:$t("is_read").default(!1).notNull(),createdAt:Ie("created_at").defaultNow().notNull()});Nt(HE).omit({id:!0,userId:!0,viewCount:!0,createdAt:!0,updatedAt:!0}).extend({title:Q.string().min(1,"Title is required").max(100,"Title must be less than 100 characters"),description:Q.string().min(1,"Description is required").max(500,"Description must be less than 500 characters"),price:Q.number().optional().nullable(),contactPhone:Q.string().min(10,"Valid contact phone is required"),contactEmail:Q.string().email("Valid email is required").optional(),location:Q.string().optional(),expiresAt:Q.string().optional().nullable()});Nt(iV).omit({id:!0,userId:!0,createdAt:!0}).extend({message:Q.string().min(1,"Message is required").max(300,"Message must be less than 300 characters"),contactPhone:Q.string().min(10,"Valid contact phone is required").optional(),contactEmail:Q.string().email("Valid email is required").optional()});const oV=jt("traffic_violations",{id:vt("id").primaryKey(),vehicleId:$e("vehicle_id").references(()=>Xs.id).notNull(),challanNumber:K("challan_number").notNull(),offense:K("offense").notNull(),fineAmount:$e("fine_amount").notNull(),violationDate:br("violation_date").notNull(),location:K("location").notNull(),status:K("status").notNull(),paymentDate:br("payment_date"),lastChecked:Ie("last_checked").defaultNow().notNull(),createdAt:Ie("created_at").defaultNow().notNull()});Nt(oV).omit({id:!0,createdAt:!0});const lV=Nt(L$).omit({id:!0,userId:!0,notificationSent:!0,isCompleted:!0,createdAt:!0,updatedAt:!0}).extend({title:Q.string().min(1,"Title is required").max(100,"Title must be less than 100 characters"),details:Q.string().min(1,"Details are required").max(500,"Details must be less than 500 characters"),reminderDate:Q.string().min(1,"Reminder date is required")});Nt(Wm).omit({id:!0,createdAt:!0,updatedAt:!0});Nt(WE).omit({id:!0,createdAt:!0});Nt(Y$).omit({id:!0,createdAt:!0});Nt(B$).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({userId:Q.number().min(1,"User ID is required"),accountType:Q.string().default("individual"),subscriptionPlan:Q.string().default("premium"),accountStatus:Q.string().default("active"),billingAddress:Q.string().optional(),gstNumber:Q.string().optional(),panNumber:Q.string().optional(),preferredPaymentMethod:Q.string().optional(),accountNotes:Q.string().optional()});Nt(q$).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({userId:Q.number().min(1,"User ID is required"),invoiceNumber:Q.string().min(1,"Invoice number is required"),amount:Q.number().min(1,"Amount must be greater than 0"),totalAmount:Q.number().min(1,"Total amount must be greater than 0"),customerName:Q.string().min(1,"Customer name is required"),customerPhone:Q.string().min(10,"Valid phone number is required"),description:Q.string().min(1,"Description is required"),billingPeriodStart:Q.string().min(1,"Billing period start is required"),billingPeriodEnd:Q.string().min(1,"Billing period end is required"),dueDate:Q.string().min(1,"Due date is required")});Nt(O$).omit({id:!0,createdAt:!0,lastUpdated:!0});Nt($$).omit({id:!0,lastUpdated:!0});Nt(H$).omit({id:!0,createdAt:!0,updatedAt:!0});const cV=jt("admin_messages",{id:vt("id").primaryKey(),message:K("message").notNull(),messageDate:br("message_date").notNull(),isActive:$t("is_active").default(!0),createdAt:Ie("created_at").defaultNow(),updatedAt:Ie("updated_at").defaultNow()});Nt(cV).omit({id:!0,createdAt:!0,updatedAt:!0});function Ux(){const[e,t]=h.useState(!1),[r,s]=h.useState(!1),[a,i]=h.useState(!1),{toast:o}=yt(),[,l]=Zt(),d=(localStorage.getItem("currentUserId")||"1")==="1",m=Ir({resolver:Yr(aV.pick({rating:!0,feedback:!0})),defaultValues:{rating:5,feedback:""}}),p=rt({mutationFn:async S=>Pe("POST","/api/ratings",S),onSuccess:()=>{o({title:"Thank you!",description:"Your rating has been submitted successfully."}),i(!1),m.reset()},onError:S=>{o({title:"Error",description:"Failed to submit rating. Please try again.",variant:"destructive"}),console.error("Rating submission error:",S)}}),f=()=>{t(!0)},x=()=>{window.open("mailto:info@arudhihsolutions.com?subject=MyyMotto Support Request&body=Dear Arudhih Team,%0D%0AI am reaching out to request information and assistance regarding few features on the app.I would appreciate it if someone from your team could get in touch with me at your earliest convenience.%0D%0A%0D%0ARegards,","_blank")},v=()=>{s(!0)},y=()=>{i(!0)},N=()=>{l("/admin-dashboard")},b=()=>{localStorage.clear(),window.location.href="/sign-in"},g=S=>{m.setValue("rating",S)},w=S=>{p.mutate(S)};return n.jsxs(n.Fragment,{children:[n.jsxs(GO,{children:[n.jsx(WO,{asChild:!0,children:n.jsx(O,{variant:"ghost",size:"icon",className:"text-gray-600 hover:bg-red-50",children:n.jsx(AM,{className:"w-5 h-5"})})}),n.jsxs(hP,{align:"end",className:"w-48",children:[n.jsxs(Ss,{onClick:f,className:"cursor-pointer",children:[n.jsx(hp,{className:"w-4 h-4 mr-2"}),"About MyyMotto"]}),n.jsxs(Ss,{onClick:()=>l("/account-management"),className:"cursor-pointer text-orange-600 hover:text-orange-700 hover:bg-orange-50",children:[n.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Account Management"]}),n.jsxs(Ss,{onClick:()=>l("/calendar-reminder"),className:"cursor-pointer text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:[n.jsx(jr,{className:"w-4 h-4 mr-2"}),"Alert & Reminders"]}),n.jsxs(Ss,{onClick:x,className:"cursor-pointer",children:[n.jsx(sa,{className:"w-4 h-4 mr-2"}),"Contact Support",n.jsx(Ms,{className:"w-3 h-3 ml-auto opacity-50"})]}),n.jsxs(Ss,{onClick:v,className:"cursor-pointer",children:[n.jsx(bc,{className:"w-4 h-4 mr-2"}),"Send Feedback"]}),n.jsxs(Ss,{onClick:y,className:"cursor-pointer",children:[n.jsx(Rh,{className:"w-4 h-4 mr-2"}),"Rate & Review"]}),d&&n.jsxs(Ss,{onClick:N,className:"cursor-pointer text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:[n.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Admin Dashboard"]}),n.jsxs(Ss,{onClick:b,className:"cursor-pointer text-red-600 hover:text-red-700 hover:bg-red-50",children:[n.jsx(VM,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]}),n.jsx(ln,{open:e,onOpenChange:t,children:n.jsxs(Hr,{className:"w-[90%] max-w-md mx-auto p-6 bg-white/95 backdrop-blur-sm rounded-xl shadow-2xl shadow-orange-500/20 border-0",children:[n.jsxs(Sn,{className:"pb-4 text-center",children:[n.jsxs(cn,{className:"text-lg font-bold text-orange-600 flex items-center justify-center gap-2 mb-2",children:[n.jsx(hp,{className:"w-5 h-5"}),"About MyyMotto"]}),n.jsx("div",{className:"w-12 h-0.5 bg-orange-500 mx-auto rounded-full"})]}),n.jsxs("div",{className:"text-center space-y-3 py-2",children:[n.jsxs("p",{className:"text-base text-gray-800 leading-relaxed font-medium",children:[n.jsxs("span",{className:"font-bold",children:[n.jsx("span",{className:"text-blue-900",children:"M"}),n.jsx("span",{className:"text-yellow-500",children:"y"}),n.jsx("span",{className:"text-yellow-500",children:"y"}),n.jsx("span",{className:"text-blue-900",children:"M"}),n.jsx("span",{className:"text-green-500",children:"o"}),n.jsx("span",{className:"text-red-600",children:"t"}),n.jsx("span",{className:"text-red-600",children:"t"}),n.jsx("span",{className:"text-green-500",children:"o"})]})," - your complete mobile vehicle management companion by Arudhih Solutions LLP"]}),n.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-100",children:[n.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed mb-2",children:[n.jsx("strong",{children:" Secure Document Storage"})," - Store certificates safely on your device"]}),n.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed mb-2",children:[n.jsx("strong",{children:" Smart Reminders"})," - Get timely alerts for renewals and services"]}),n.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed mb-2",children:[n.jsx("strong",{children:" Government APIs"})," - Check authentic traffic violations"]}),n.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed",children:[n.jsx("strong",{children:" Complete Tracking"})," - Maintenance schedules and service history"]})]}),n.jsx("p",{className:"text-xs text-orange-600 font-medium italic",children:'"Timely Care for your carrier"'})]}),n.jsx("div",{className:"flex justify-center pt-4",children:n.jsx(O,{onClick:()=>t(!1),className:"px-8 py-2 bg-orange-600 hover:bg-orange-700 text-white font-medium rounded-lg shadow-lg transition-all duration-200",children:"Got it"})})]})}),n.jsx(ln,{open:r,onOpenChange:s,children:n.jsxs(Hr,{className:"w-[90%] max-w-md mx-auto p-6 bg-white/95 backdrop-blur-sm rounded-xl shadow-2xl shadow-orange-500/20 border-0",children:[n.jsxs(Sn,{className:"pb-4 text-center",children:[n.jsxs(cn,{className:"text-lg font-bold text-orange-600 flex items-center justify-center gap-2 mb-2",children:[n.jsx(bc,{className:"w-5 h-5"}),"Send Feedback"]}),n.jsx("div",{className:"w-12 h-0.5 bg-orange-500 mx-auto rounded-full"})]}),n.jsxs("div",{className:"text-center space-y-4 py-2",children:[n.jsx("p",{className:"text-base text-gray-800 leading-relaxed font-medium",children:"We'd love to hear your feedback and suggestions!"}),n.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-4 rounded-xl border border-orange-200 shadow-sm",children:[n.jsx("p",{className:"text-sm font-medium text-gray-800 mb-2",children:" Share your thoughts with us:"}),n.jsx("div",{className:"bg-white p-3 rounded-lg border border-orange-300",children:n.jsx("p",{className:"text-base font-bold text-orange-600 select-all",children:"info@arudhihsolutions.com"})})]}),n.jsx("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:n.jsx("p",{className:"text-xs text-blue-700 font-medium",children:" Your feedback helps us improve MyyMotto for everyone!"})})]}),n.jsx("div",{className:"flex justify-center pt-4",children:n.jsx(O,{onClick:()=>s(!1),className:"px-8 py-2 bg-orange-600 hover:bg-orange-700 text-white font-medium rounded-lg shadow-lg transition-all duration-200",children:"Got it"})})]})}),n.jsx(ln,{open:a,onOpenChange:i,children:n.jsxs(Hr,{className:"w-[90%] max-w-md mx-auto p-6 bg-white/95 backdrop-blur-sm rounded-xl shadow-2xl shadow-orange-500/20 border-0",children:[n.jsxs(Sn,{className:"pb-4 text-center",children:[n.jsxs(cn,{className:"text-lg font-bold text-orange-600 flex items-center justify-center gap-2 mb-2",children:[n.jsx(Rh,{className:"w-5 h-5"}),"Rate MyyMotto"]}),n.jsx("div",{className:"w-12 h-0.5 bg-orange-500 mx-auto rounded-full"})]}),n.jsxs("form",{onSubmit:m.handleSubmit(w),className:"space-y-5",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-gray-700 mb-4 leading-relaxed font-medium",children:"Rate your overall experience and usefulness of MyyMotto"}),n.jsxs("div",{className:"bg-orange-50 p-4 rounded-xl border border-orange-200",children:[n.jsx("div",{className:"flex justify-center gap-2 mb-3",children:[1,2,3,4,5].map(S=>n.jsx(Rh,{className:`w-10 h-10 cursor-pointer transition-all duration-200 hover:scale-110 ${S<=m.watch("rating")?"text-orange-500 fill-orange-500 drop-shadow-sm":"text-gray-300 hover:text-orange-400"}`,onClick:()=>g(S)},S))}),n.jsxs("p",{className:"text-sm text-orange-600 font-semibold",children:[m.watch("rating")," of 5 stars selected"]})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"text-sm font-medium text-gray-800 mb-2 block",children:["Share your thoughts ",n.jsx("span",{className:"text-gray-500 font-normal",children:"(Optional)"})]}),n.jsx(Hn,{...m.register("feedback"),placeholder:"What do you love about MyyMotto? How can we make it even better?",rows:4,className:"text-sm resize-none border-orange-200 focus:border-orange-400 focus:ring-orange-400"})]}),n.jsxs("div",{className:"flex gap-3 pt-2",children:[n.jsx(O,{type:"button",variant:"outline",className:"flex-1 h-10 text-sm border-gray-300 hover:bg-gray-50",onClick:()=>i(!1),children:"Cancel"}),n.jsx(O,{type:"submit",className:"flex-1 h-10 text-sm bg-orange-600 hover:bg-orange-700 shadow-lg transition-all duration-200",disabled:p.isPending,children:p.isPending?"Sending...":"Submit Rating"})]})]})]})})]})}function dV({isOpen:e,onClose:t,vehicles:r,actionType:s}){const i=s==="documents"?{title:"Select Vehicle for Documents",description:"Choose a vehicle to view its documents",icon:cC,route:l=>`/vehicle/${l}/local-documents`,color:"purple"}:{title:"Select Vehicle for Service Log",description:"Choose a vehicle to view its service history",icon:fs,route:l=>`/vehicle/${l}/service-logs`,color:"teal"},o=i.icon;return n.jsx(ln,{open:e,onOpenChange:t,children:n.jsx(Hr,{className:"w-[90%] max-w-md mx-auto p-0 bg-white/95 backdrop-blur-sm shadow-2xl shadow-orange-500/20 rounded-xl border-0 [&>button]:hidden",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:`${i.color==="purple"?"bg-gradient-to-r from-purple-500 to-indigo-600":"bg-gradient-to-r from-teal-500 to-cyan-600"} text-white p-4 rounded-t-xl`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center",children:n.jsx(o,{className:"w-4 h-4 text-white"})}),n.jsxs("div",{children:[n.jsx(cn,{className:"text-base font-semibold text-white",children:i.title}),n.jsx("p",{className:"text-xs text-white/80 mt-0.5",children:i.description})]})]}),n.jsx(O,{variant:"ghost",size:"sm",className:"text-white/80 hover:text-white hover:bg-white/10 p-1.5 h-auto rounded-lg transition-all duration-200",onClick:t,children:n.jsx(Kr,{className:"w-4 h-4"})})]})}),n.jsx("div",{className:"p-4 space-y-3 max-h-80 overflow-y-auto",children:r.map(l=>{var c;return n.jsx(Be,{href:i.route(l.id),children:n.jsx(re,{className:"cursor-pointer hover:shadow-lg hover:shadow-orange-500/10 transition-all duration-200 border border-gray-100 hover:border-orange-200",children:n.jsx(se,{className:"p-3",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[l.thumbnailPath?n.jsx("img",{src:l.thumbnailPath,alt:`${l.make} ${l.model}`,className:"w-10 h-10 object-cover rounded-lg shadow-md"}):n.jsx("div",{className:`w-10 h-10 ${i.color==="purple"?"bg-gradient-to-br from-purple-500 to-indigo-600":"bg-gradient-to-br from-teal-500 to-cyan-600"} rounded-lg flex items-center justify-center shadow-sm`,children:n.jsx(_t,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("h3",{className:"font-medium text-sm text-gray-800",children:[(c=l.make)==null?void 0:c.toUpperCase(),l.model?` ${l.model}`:""," ",l.year&&`(${l.year})`]}),n.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:l.licensePlate})]}),n.jsx("div",{className:`w-6 h-6 ${i.color==="purple"?"bg-purple-50":"bg-teal-50"} rounded-full flex items-center justify-center`,children:n.jsx(o,{className:`w-3 h-3 ${i.color==="purple"?"text-purple-600":"text-teal-600"}`})})]})})})},l.id)})}),r.length===0&&n.jsxs("div",{className:"text-center py-8 px-4",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(_t,{className:"w-8 h-8 text-gray-400"})}),n.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"No Vehicles Yet"}),n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Add your first vehicle to get started"}),n.jsx(Be,{href:"/add-vehicle",children:n.jsx(O,{className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white text-sm h-8 px-4 rounded-lg shadow-md transition-all duration-200",onClick:t,children:"Add Vehicle"})})]})]})})})}const am=class am{static async createBackup(t,r="full"){try{const s=await qt.getAllDocuments(),a=await this.getVehiclesData(t),i=await this.getServiceLogsData(a),o=await this.getNotificationsData(),l=await this.getProfileData(),c=this.getRelevantLocalStorageData(),d=s.reduce((p,f)=>p+f.fileSize,0);return{version:this.version,schemaVersion:this.schemaVersion,timestamp:new Date().toISOString(),userInfo:{userId:t,deviceInfo:navigator.userAgent},documents:s,vehicles:a,profile:l,serviceLogs:r==="full"?i:[],notifications:r==="full"?o:[],localStorage:r==="full"?c:{},metadata:{totalDocuments:s.length,totalSize:d,exportedOn:new Date().toLocaleDateString("en-IN"),backupType:r,fieldCount:{documents:s.length,vehicles:a.length,serviceLogs:i.length,notifications:o.length,localStorageKeys:Object.keys(c).length}}}}catch(s){throw new Error(`Failed to create backup: ${s instanceof Error?s.message:"Unknown error"}`)}}static async getVehiclesData(t){try{const s=await fetch(`/api/vehicles?userId=${t}`);if(s.ok){const a=await s.json();return this.cleanObjectForSerialization(a)}}catch{console.warn("Could not fetch vehicles from API, using localStorage")}const r=localStorage.getItem("userVehicles");return r?JSON.parse(r):[]}static async getServiceLogsData(t){const r=[];for(const s of t)try{const a=await fetch(`/api/service-logs/${s.id}`);if(a.ok){const i=await a.json(),o=this.cleanObjectForSerialization(i);r.push(...o)}}catch{console.warn(`Could not fetch service logs for vehicle ${s.id}`)}return r}static async getNotificationsData(){try{const t=await fetch("/api/notifications");if(t.ok){const r=await t.json();return this.cleanObjectForSerialization(r)}}catch{console.warn("Could not fetch notifications")}return[]}static async getProfileData(){try{const r=localStorage.getItem("currentUserId")||"1",s=await fetch(`/api/profile/${r}`);if(s.ok){const a=await s.json();return this.cleanObjectForSerialization(a)}}catch{console.warn("Could not fetch profile from API, using localStorage")}const t=localStorage.getItem("userProfile");return t?JSON.parse(t):null}static cleanObjectForSerialization(t){const r=new WeakSet,s=a=>{if(a===null||typeof a!="object")return a;if(r.has(a))return"[Circular Reference]";if(r.add(a),Array.isArray(a))return a.map(s);const i={};for(const o in a)if(a.hasOwnProperty(o))try{i[o]=s(a[o])}catch{i[o]="[Unable to serialize]"}return i};return s(t)}static getRelevantLocalStorageData(){const t=["currentUserId","lastBackupDate","permissionsCompleted_","appPermissions","backupReminderDismissed","notifications_last_fetched","admin_message_dismissed_","userSubscription","userSettings","dashboardLayout"],r={};for(let s=0;s<localStorage.length;s++){const a=localStorage.key(s);if(a&&t.some(i=>a.startsWith(i))){const i=localStorage.getItem(a);i&&(r[a]=i)}}return r}static async exportToFile(t,r="full"){const s=await this.createBackup(t,r),a=this.cleanObjectForSerialization(s),i=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),o=URL.createObjectURL(i),l=document.createElement("a");l.href=o,l.download=`myymotto-${r}-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(o)}static async shareViaEmail(t,r="full"){const s=await this.createBackup(t,r),a=this.cleanObjectForSerialization(s),i=`myymotto-${r}-backup-${new Date().toISOString().split("T")[0]}.json`,o=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),l=URL.createObjectURL(o),c=document.createElement("a");c.href=l,c.download=i,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(l);const d=encodeURIComponent(`MyyMotto ${r==="full"?"Complete":"Documents"} Data Backup - ${a.metadata.exportedOn}`),m=encodeURIComponent(`Dear User,

Your MyyMotto ${r==="full"?"complete":"documents-only"} data backup has been created successfully!

 BACKUP FILE LOCATION:
Path: Downloads/${i}
Full Path: /storage/emulated/0/Download/${i} (Android)
Full Path: ~/Downloads/${i} (Desktop)

 Backup Summary:
 Documents: ${a.metadata.fieldCount.documents} files
 Vehicles: ${a.metadata.fieldCount.vehicles} entries
${r==="full"?` Service Logs: ${a.metadata.fieldCount.serviceLogs} records
 Notifications: ${a.metadata.fieldCount.notifications} alerts
`:""} Total Size: ${this.formatFileSize(a.metadata.totalSize)}
 Created: ${a.metadata.exportedOn}
 Schema: v${a.schemaVersion}

 NEXT STEPS:
1. Navigate to Downloads folder on your device
2. Look for file: ${i}
3. Attach this exact file to this email before sending
4. Send this email to yourself or save the file in cloud storage

 TO RESTORE ON NEW DEVICE:
1. Install MyyMotto app
2. Go to Settings  Data Management  Restore Backup  
3. Upload the ${i} file
4. All your vehicles, documents, and data will be restored

 IMPORTANT: Keep this backup file secure - it contains your personal vehicle documents and information.

Best regards,
MyyMotto Team`);if(typeof window<"u"&&"navigator"in window&&"share"in navigator)try{await navigator.share({title:`MyyMotto Data Backup - ${a.metadata.exportedOn}`,text:`Your MyyMotto backup file "${i}" has been downloaded. Please attach this file when sharing.`});return}catch{}const p=`mailto:?subject=${d}&body=${m}`;window.open(p,"_blank"),setTimeout(()=>{alert(` Backup Downloaded!

File Location:
 Downloads/${i}

Full Paths:
 Android: /storage/emulated/0/Download/${i}
 Desktop: ~/Downloads/${i}

Next Steps:
1. Navigate to Downloads folder
2. Find file: ${i}
3. Attach this file to your email
4. Send the email to yourself or save to cloud storage`)},1e3)}static async restoreFromFile(t){try{const r=await t.text(),s=JSON.parse(r),a=await this.validateAndMigrateBackup(s),i=this.getRestoreInfo(a);if(!confirm(`Restore backup from ${a.metadata.exportedOn}?

${i}

Current data will be replaced. Continue?`))return;await this.clearExistingData(),await this.restoreDocuments(a.documents),await this.restoreVehicles(a.vehicles),await this.restoreProfile(a.profile),await this.restoreServiceLogs(a.serviceLogs),await this.restoreNotifications(a.notifications),await this.restoreLocalStorage(a.localStorage),alert(`Backup restored successfully!

 ${a.metadata.fieldCount.documents} documents
 ${a.metadata.fieldCount.vehicles} vehicles
 ${a.metadata.fieldCount.serviceLogs} service logs
 Profile data and settings`),window.location.reload()}catch(r){throw new Error(`Failed to restore backup: ${r instanceof Error?r.message:"Unknown error"}`)}}static async validateAndMigrateBackup(t){if(!t.schemaVersion||t.version==="1.0.0")return console.log("Migrating legacy backup format to current schema"),this.migrateLegacyBackup(t);if(!t.version||!t.documents)throw new Error("Invalid backup file format");return t.schemaVersion!==this.schemaVersion&&console.log(`Migrating backup from schema ${t.schemaVersion} to ${this.schemaVersion}`),t}static migrateLegacyBackup(t){var r,s,a,i,o;return{version:this.version,schemaVersion:this.schemaVersion,timestamp:t.timestamp||new Date().toISOString(),userInfo:t.userInfo||{userId:"1",deviceInfo:"Unknown"},documents:t.documents||[],vehicles:t.vehicles||[],profile:t.profile||null,serviceLogs:[],notifications:[],localStorage:{},metadata:{totalDocuments:((r=t.metadata)==null?void 0:r.totalDocuments)||0,totalSize:((s=t.metadata)==null?void 0:s.totalSize)||0,exportedOn:((a=t.metadata)==null?void 0:a.exportedOn)||"Unknown",backupType:"documents_only",fieldCount:{documents:((i=t.documents)==null?void 0:i.length)||0,vehicles:((o=t.vehicles)==null?void 0:o.length)||0,serviceLogs:0,notifications:0,localStorageKeys:0}}}}static getRestoreInfo(t){const r=[];return r.push(`Documents: ${t.metadata.fieldCount.documents}`),r.push(`Vehicles: ${t.metadata.fieldCount.vehicles}`),t.metadata.fieldCount.serviceLogs>0&&r.push(`Service logs: ${t.metadata.fieldCount.serviceLogs}`),t.metadata.fieldCount.notifications>0&&r.push(`Notifications: ${t.metadata.fieldCount.notifications}`),r.push(`Total size: ${this.formatFileSize(t.metadata.totalSize)}`),r.join(`
`)}static async clearExistingData(){const t=await qt.getAllDocuments();for(const s of t)await qt.deleteDocument(s.id);const r=[];for(let s=0;s<localStorage.length;s++){const a=localStorage.key(s);a&&this.isRestorableLocalStorageKey(a)&&r.push(a)}r.forEach(s=>localStorage.removeItem(s))}static async restoreDocuments(t){for(const r of t)try{let s=null;if(r.fileData&&r.mimeType){const a=new Blob([r.fileData],{type:r.mimeType});s=new File([a],r.fileName,{type:r.mimeType})}await qt.storeDocument(r.vehicleId,r.type,s,r.metadata,r.fileName)}catch(s){console.warn(`Failed to restore document ${r.id}:`,s)}}static async restoreVehicles(t){if(t&&t.length>0){localStorage.setItem("userVehicles",JSON.stringify(t));try{for(const r of t)(await fetch("/api/vehicles",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok||console.warn(`Failed to restore vehicle ${r.id} to database`)}catch{console.warn("Failed to restore vehicles to database, using localStorage only")}}}static async restoreProfile(t){if(t){localStorage.setItem("userProfile",JSON.stringify(t));try{(await fetch(`/api/profile/${t.userId}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok||console.warn("Failed to restore profile to database")}catch{console.warn("Failed to restore profile to database, using localStorage only")}}}static async restoreServiceLogs(t){if(t&&t.length>0)try{for(const r of t)(await fetch("/api/service-logs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok||console.warn(`Failed to restore service log ${r.id}`)}catch{console.warn("Failed to restore service logs")}}static async restoreNotifications(t){if(t&&t.length>0)try{for(const r of t)(await fetch("/api/notifications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok||console.warn(`Failed to restore notification ${r.id}`)}catch{console.warn("Failed to restore notifications")}}static async restoreLocalStorage(t){for(const[r,s]of Object.entries(t))this.isRestorableLocalStorageKey(r)&&localStorage.setItem(r,s)}static isRestorableLocalStorageKey(t){return["currentUserId","lastBackupDate","permissionsCompleted_","appPermissions","userSubscription","userSettings","dashboardLayout"].some(s=>t.startsWith(s))}static async uploadToGoogleDrive(t,r="full"){try{const s=await this.createBackup(t,r),a=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),i=`myymotto-${r}-backup-${new Date().toISOString().split("T")[0]}.json`;if("showSaveFilePicker"in window){const l=await(await window.showSaveFilePicker({suggestedName:i,types:[{description:"JSON files",accept:{"application/json":[".json"]}}]})).createWritable();await l.write(a),await l.close(),alert(`${r==="full"?"Complete":"Documents-only"} backup saved successfully! You can upload this file to Google Drive manually.`)}else await this.exportToFile(t,r),alert(`${r==="full"?"Complete":"Documents-only"} backup file downloaded! Please upload it to your Google Drive manually for safe keeping.`)}catch{await this.exportToFile(t,r),alert(`${r==="full"?"Complete":"Documents-only"} backup file downloaded! Please save it to Google Drive or email it to yourself for safekeeping.`)}}static shouldShowBackupReminder(){const t=localStorage.getItem("userProfile");localStorage.getItem("lastBackupDate");const r=new Date;let s=null;if(t)try{const c=JSON.parse(t);c.createdAt&&(s=new Date(c.createdAt))}catch{console.log("Error parsing user profile for backup reminder")}if(!s){const c=localStorage.getItem("firstAppUsage");if(c)s=new Date(c);else return localStorage.setItem("firstAppUsage",r.toISOString()),!1}const a=new Date(r);if(a.setMonth(a.getMonth()-1),s>a)return!1;const i=new Date(r);if(i.setDate(i.getDate()+1),!(i.getMonth()!==r.getMonth()))return!1;const l=localStorage.getItem("lastBackupReminderShown");if(l){const c=new Date(l),d=r.getMonth(),m=r.getFullYear();if(c.getMonth()===d&&c.getFullYear()===m)return!1}return!0}static markBackupCompleted(){localStorage.setItem("lastBackupDate",new Date().toISOString())}static formatFileSize(t){if(t===0)return"0 Bytes";const r=1024,s=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(t)/Math.log(r));return parseFloat((t/Math.pow(r,a)).toFixed(2))+" "+s[a]}static async getBackupStats(){const t=await qt.getAllDocuments(),r=t.reduce((a,i)=>a+i.fileSize,0),s=localStorage.getItem("lastBackupDate");return{totalDocuments:t.length,totalSize:this.formatFileSize(r),lastBackup:s?new Date(s).toLocaleDateString("en-IN"):null,needsBackup:this.shouldShowBackupReminder()}}};am.version="2.0.0",am.schemaVersion="2025.01.28";let Jr=am;function uV(){const{toast:e}=yt(),[t,r]=h.useState(!1),[s,a]=h.useState(!1);h.useEffect(()=>{const l=Jr.shouldShowBackupReminder(),c=localStorage.getItem("backupReminderDismissed"),d=new Date().toDateString();l&&c!==d&&(r(!0),localStorage.setItem("lastBackupReminderShown",new Date().toISOString()))},[]);const i=async()=>{a(!0);try{const l=localStorage.getItem("currentUserId")||"1";await Jr.exportToFile(l),Jr.markBackupCompleted(),e({title:"Backup Downloaded",description:"Your data has been saved to downloads. Upload to Google Drive for safety."}),r(!1)}catch{e({title:"Backup Failed",description:"Please try again from Settings page.",variant:"destructive"})}finally{a(!1)}},o=()=>{localStorage.setItem("backupReminderDismissed",new Date().toDateString()),r(!1)};return t?n.jsx(re,{className:"mb-4 bg-gradient-to-r from-orange-50 to-yellow-50 border-orange-200",children:n.jsx(se,{className:"p-3",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-100 flex items-center justify-center flex-shrink-0 mt-1",children:n.jsx(fr,{className:"w-4 h-4 text-orange-600"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"text-sm font-semibold text-orange-800 mb-1",children:"Backup Reminder"}),n.jsx("p",{className:"text-xs text-orange-700 mb-3",children:"Monthly backup reminder: Keep your vehicle documents safe when switching phones."}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(O,{onClick:i,disabled:s,size:"sm",className:"h-7 bg-orange-600 hover:bg-orange-700 text-white text-xs",children:[s?n.jsx(Em,{className:"w-3 h-3 mr-1 animate-pulse"}):n.jsx(Si,{className:"w-3 h-3 mr-1"}),"Quick Backup"]}),n.jsx(O,{onClick:o,size:"sm",variant:"outline",className:"h-7 text-xs border-orange-300 text-orange-700 hover:bg-orange-50",children:"Later"})]})]}),n.jsx(O,{onClick:o,size:"sm",variant:"ghost",className:"p-1 h-6 w-6 text-orange-600 hover:bg-orange-100 flex-shrink-0",children:n.jsx(Kr,{className:"w-3 h-3"})})]})})}):null}const bt="/assets/Mymotto_Logo_Green_Revised_1752603344750-64VejOKf.png";function mV(){const[e,t]=h.useState(!1),[r,s]=h.useState(null);h.useEffect(()=>{a(),i()},[]);const a=()=>{const l=[];for(let c=0;c<localStorage.length;c++){const d=localStorage.key(c);if(d&&d.startsWith("admin_message_dismissed_")){const m=d.split("_");if(m.length>=5){const p=m.slice(4).join("_"),f=new Date(p);(Date.now()-f.getTime())/(1e3*60*60*24)>7&&l.push(d)}}}l.forEach(c=>localStorage.removeItem(c))},i=async()=>{try{const c=await(await Pe("GET","/api/todays-message")).json();if(c&&c.message){const d=new Date().toDateString(),m=`admin_message_dismissed_${c.id}_${d}`,p=localStorage.getItem(m)==="true";s(c),t(!p)}}catch(l){console.error("Error loading today's message:",l)}},o=()=>{if(r){const l=new Date().toDateString(),c=`admin_message_dismissed_${r.id}_${l}`;localStorage.setItem(c,"true")}t(!1)};return!e||!r?null:n.jsx("div",{className:"mx-3 mb-4",children:n.jsxs("div",{className:"bg-gradient-to-r from-orange-100 to-yellow-100 border border-orange-200 rounded-lg p-4 relative",children:[n.jsx("button",{onClick:o,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",children:n.jsx(Kr,{className:"w-4 h-4"})}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(bc,{className:"w-5 h-5 text-orange-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-orange-800 mb-1",children:"Message from Admin"}),n.jsx("p",{className:"text-sm text-gray-700",children:r.message})]})]})]})})}function hV(){const e=Jt(),[,t]=Zt(),[r,s]=h.useState(!1),[a,i]=h.useState("documents"),{data:o=[],isLoading:l}=We({queryKey:["/api/vehicles"],queryFn:async()=>{const d=localStorage.getItem("currentUserId")||localStorage.getItem("userId")||"1";return(await Pe("GET",`/api/vehicles?userId=${d}`)).json()}}),c=rt({mutationFn:()=>{const d=localStorage.getItem("currentUserId")||localStorage.getItem("userId")||"1";return Pe("POST","/api/notifications/generate",{userId:d})},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/notifications"]})}});return h.useEffect(()=>{const d=localStorage.getItem("lastNotificationCheck"),m=new Date().toDateString();d!==m&&(c.mutate(),localStorage.setItem("lastNotificationCheck",m))},[c]),n.jsxs(n.Fragment,{children:[n.jsx("header",{className:"header-gradient-border shadow-lg relative z-10",children:n.jsx("div",{className:"px-3 py-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("img",{src:bt,alt:"MyyMotto Logo",className:"w-12 h-12 rounded-lg"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-base font-bold",children:n.jsx(dt,{})}),n.jsx("p",{className:"text-xs text-red-600",children:"Timely Care for your carrier"})]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Be,{href:"/settings",children:n.jsx(O,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-red-50 p-1",children:n.jsx(sr,{className:"w-4 h-4"})})}),n.jsx(Sc,{}),n.jsx(Ux,{})]})]})})}),n.jsx(mV,{}),n.jsxs("main",{className:"flex-1 overflow-y-auto pb-20 bg-warm-pattern",children:[o.length>0&&n.jsx("div",{className:"px-3 pt-3",children:n.jsx(uV,{})}),n.jsx("div",{className:"px-3 py-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-sm font-medium text-gray-600",children:o.length>0?`${o.length} Vehicle${o.length>1?"s":""}`:"Vehicle Management"}),n.jsxs("div",{className:"text-xs text-gray-500 flex items-center space-x-2",children:[n.jsxs(Be,{href:"/search",className:"text-orange-600 hover:text-orange-800 flex items-center space-x-1",children:[n.jsx(gp,{className:"w-3 h-3"}),n.jsx("span",{className:"hidden sm:inline",children:"Service Centres Near You"}),n.jsx("span",{className:"sm:hidden",children:"Near You"})]}),n.jsx("span",{className:"text-gray-400",children:"|"}),n.jsxs(Be,{href:"/climbing-game",className:"text-purple-600 hover:text-purple-800 flex items-center space-x-1",children:[n.jsx(qM,{className:"w-3 h-3"}),n.jsx("span",{className:"hidden sm:inline",children:"Logo Puzzle"}),n.jsx("span",{className:"sm:hidden",children:"Puzzle"})]}),n.jsx("span",{className:"text-gray-400",children:"|"}),n.jsxs(Be,{href:"/news-tidbits",className:"text-blue-600 hover:text-blue-800 flex items-center space-x-1",children:[n.jsx(si,{className:"w-3 h-3"}),n.jsx("span",{className:"hidden sm:inline",children:"News Bits"}),n.jsx("span",{className:"sm:hidden",children:"News"})]})]})]})}),o.length===0?n.jsxs("section",{className:"px-3 py-4",children:[n.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 rounded-xl p-6 text-center shadow-orange",children:[n.jsx(_t,{className:"w-16 h-16 text-orange-500 mx-auto mb-4 icon-3d"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Welcome to MyyMotto!"}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Start managing your vehicle by adding your first one"}),n.jsx(Be,{href:"/add-vehicle",children:n.jsxs(O,{className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 smooth-button",children:[n.jsx(Ar,{className:"w-4 h-4 mr-2"}),"Add Your First Vehicle"]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[n.jsx(Be,{href:"/broadcast",className:"block",children:n.jsxs("div",{className:"smooth-card bg-white rounded-xl p-4 shadow-orange border border-gray-100 hover:shadow-orange-dark transition-all",children:[n.jsx(fp,{className:"w-8 h-8 text-blue-500 mb-2 icon-3d"}),n.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:"Community"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Connect with fellow vehicle owners"})]})}),n.jsx(Be,{href:"/news-tidbits",className:"block",children:n.jsxs("div",{className:"smooth-card bg-white rounded-xl p-4 shadow-orange border border-gray-100 hover:shadow-orange-dark transition-all",children:[n.jsx(si,{className:"w-8 h-8 text-green-500 mb-2 icon-3d"}),n.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:"News & Updates"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Latest automotive news and policies"})]})})]})]}):n.jsxs("section",{className:"px-3 py-2",children:[n.jsx("h2",{className:"text-sm font-semibold mb-3 text-gray-800",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[n.jsx(Be,{href:"/add-vehicle",className:"block",children:n.jsxs("div",{className:"smooth-card quick-action-3d rounded-xl flex flex-col items-center justify-center cursor-pointer hover:border-red-300 transition-all duration-200 h-16 px-1 active:scale-95",children:[n.jsx(Ar,{className:"w-6 h-6 text-red-500 mb-1"}),n.jsx("span",{className:"text-[10px] font-medium text-gray-800 text-center leading-tight whitespace-nowrap",children:"Add Vehicle"})]})}),n.jsxs("div",{className:"smooth-card quick-action-3d rounded-xl flex flex-col items-center justify-center cursor-pointer hover:border-purple-300 transition-all duration-200 h-16 px-1 active:scale-95",onClick:()=>{o.length===1?t(`/vehicle/${o[0].id}/local-documents`):o.length>1&&(i("documents"),s(!0))},children:[n.jsx(cC,{className:"w-6 h-6 text-purple-500 mb-1"}),n.jsx("span",{className:"text-[10px] font-medium text-gray-800 text-center leading-tight whitespace-nowrap",children:"Documents"})]}),n.jsxs("div",{className:"smooth-card quick-action-3d rounded-xl flex flex-col items-center justify-center cursor-pointer hover:border-teal-300 transition-all duration-200 h-16 px-1 active:scale-95",onClick:()=>{o.length===1?t(`/vehicle/${o[0].id}/service-logs`):o.length>1&&(i("service-logs"),s(!0))},children:[n.jsx(fs,{className:"w-6 h-6 text-teal-500 mb-1"}),n.jsx("span",{className:"text-[10px] font-medium text-gray-800 text-center leading-tight whitespace-nowrap",children:"Service Log"})]}),n.jsx(Be,{href:"/traffic-violations",className:"block",children:n.jsxs("div",{className:"quick-action-3d rounded-xl flex flex-col items-center justify-center cursor-pointer hover:border-blue-300 transition-all duration-200 h-16 px-1 active:scale-95",children:[n.jsx(Ia,{className:"w-6 h-6 text-blue-500 mb-1"}),n.jsx("span",{className:"text-[10px] font-medium text-gray-800 text-center leading-tight whitespace-nowrap",children:"Violations"})]})}),n.jsx(Be,{href:"/insurance",className:"block",children:n.jsxs("div",{className:"quick-action-3d rounded-xl flex flex-col items-center justify-center cursor-pointer hover:border-green-300 transition-all duration-200 h-16 px-1 active:scale-95",children:[n.jsx(Xt,{className:"w-6 h-6 text-green-500 mb-1"}),n.jsx("span",{className:"text-[10px] font-medium text-gray-800 text-center leading-tight whitespace-nowrap",children:"Insurance"})]})})]})]}),o.length>0&&n.jsxs("section",{className:"px-3 py-2",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h2",{className:"text-base font-semibold",children:"Your Vehicles"}),n.jsx(O,{variant:"ghost",size:"sm",className:"text-primary text-sm h-7 px-2",children:"View All"})]}),l?n.jsx("div",{className:"space-y-3",children:[1,2,3].map(d=>n.jsx("div",{className:"bg-card rounded-xl p-3 shadow-card animate-pulse",children:n.jsx("div",{className:"h-16 bg-muted rounded"})},d))}):n.jsx("div",{className:"space-y-3",children:o.map(d=>n.jsx(_6,{vehicle:d},d.id))})]})]}),n.jsx(Mm,{currentPath:"/"}),n.jsx(D6,{}),n.jsx(dV,{isOpen:r,onClose:()=>s(!1),vehicles:o,actionType:a})]})}const Bx={"4-wheeler":{"Maruti Suzuki":["Alto","Swift","Baleno","Wagon R","Dzire","Vitara Brezza","Ertiga","Ciaz","S-Cross","XL6","Grand Vitara","Celerio","Ignis","Eeco","Fronx"],Hyundai:["i10","i20","Verna","Creta","Venue","Santro","Alcazar","Tucson","Elantra","Kona Electric","i20 N Line","Aura"],Tata:["Nano","Tiago","Tigor","Nexon","Harrier","Safari","Punch","Altroz","Hexa","Zest","Bolt","Indica","Indigo","Nexon EV","Tigor EV"],Mahindra:["Scorpio","XUV500","XUV300","Bolero","TUV300","KUV100","Thar","XUV700","Marazzo","Alturas G4","Scorpio N","Scorpio Classic","XUV400"],Honda:["City","Amaze","Jazz","WR-V","CR-V","Civic","Accord","BR-V","Pilot","Ridgeline","City e:HEV"],Toyota:["Innova Crysta","Fortuner","Etios","Liva","Corolla Altis","Camry","Prius","Glanza","Urban Cruiser","Vellfire","Innova Hycross","Hilux"],Ford:["EcoSport","Endeavour","Figo","Aspire","Freestyle","Mustang","Ranger","Transit"],Renault:["Kwid","Duster","Captur","Lodgy","Fluence","Scala","Pulse","Triber","Kiger"],Nissan:["Micra","Sunny","Terrano","X-Trail","GT-R","370Z","Kicks","Magnite"],Volkswagen:["Polo","Vento","Ameo","Tiguan","Passat","Jetta","Beetle","T-Roc","Taigun","Virtus"],Skoda:["Rapid","Octavia","Superb","Kodiaq","Karoq","Kushaq","Slavia"],BMW:["1 Series","2 Series","3 Series","5 Series","7 Series","X1","X3","X5","X6","X7","Z4","i3","i8","iX","i4"],"Mercedes-Benz":["A-Class","B-Class","C-Class","E-Class","S-Class","GLA","GLC","GLE","GLS","G-Class","SL","AMG GT","EQS","EQC"],Audi:["A3","A4","A6","A8","Q2","Q3","Q5","Q7","Q8","TT","R8","e-tron","e-tron GT"],Kia:["Seltos","Sonet","Carnival","Rio","Optima","Sorento","Sportage","Stinger","Carens"],MG:["Hector","ZS EV","Gloster","Astor","HS","Hector Plus","Comet EV"],Jeep:["Compass","Grand Cherokee","Wrangler","Cherokee","Renegade","Meridian"],Isuzu:["D-Max","MU-X","MU-7"],Citroen:["C5 Aircross","C3","eC3"],Jaguar:["XE","XF","XJ","F-Pace","E-Pace","I-Pace","F-Type"],"Land Rover":["Discovery","Range Rover","Range Rover Sport","Range Rover Evoque","Defender"]},"2-wheeler":{"Hero MotoCorp":["Splendor Plus","HF Deluxe","Passion Pro","Glamour","Super Splendor","Xtreme 160R","Xtreme 200S","Xpulse 200","Karizma XMR","Destini 125","Maestro Edge","Pleasure Plus"],"Honda Motorcycle":["Activa 6G","Activa 125","Dio","Grazia","Hornet 2.0","Unicorn","CB Shine","SP 125","X-Blade","CBR150R","CBR250R","Africa Twin","Gold Wing","Rebel 300"],Bajaj:["Pulsar 150","Pulsar 180","Pulsar 200NS","Pulsar 220F","Pulsar RS200","Pulsar N250","Pulsar F250","Dominar 400","Dominar 250","Avenger 220","Avenger 160","Platina 100","CT 100","Chetak Electric"],TVS:["Apache RTR 160","Apache RTR 180","Apache RTR 200","Apache RR 310","Jupiter","Ntorq 125","Pep Plus","Star City Plus","Radeon","Sport","XL100","iQube Electric"],Yamaha:["R15 V4","R15M","MT-15","FZ-S","FZ-X","FZ25","MT-03","YZF-R3","Fascino 125","Ray ZR","Aerox 155","Tenere 700","R1","R6"],Suzuki:["Gixxer 150","Gixxer 250","Gixxer SF","Intruder 150","Avenis 125","Access 125","Burgman Street","Hayabusa","GSX-R1000","V-Strom 650"],"Royal Enfield":["Classic 350","Bullet 350","Meteor 350","Himalayan","Interceptor 650","Continental GT 650","Hunter 350","Scram 411","Super Meteor 650"],KTM:["Duke 125","Duke 200","Duke 250","Duke 390","RC 125","RC 200","RC 390","Adventure 250","Adventure 390","1290 Super Duke R"],"Harley-Davidson":["Street 750","Iron 883","Forty-Eight","Street Glide","Road King","Fat Boy","Sportster S","Pan America 1250"],Kawasaki:["Ninja 300","Ninja 400","Ninja 650","Ninja ZX-10R","Ninja H2","Versys 650","Z650","Z900","Vulcan S"],Ducati:["Monster","Panigale V2","Panigale V4","Multistrada V4","Scrambler","Hypermotard","Diavel","DesertX"],"BMW Motorrad":["G 310 R","G 310 GS","F 900 R","F 900 XR","S 1000 RR","R 1250 GS","R 1250 RT","C 400 X"],Triumph:["Speed 400","Scrambler 400X","Street Triple","Bonneville","Tiger 900","Rocket 3","Daytona","Thruxton"],Jawa:["Classic","Forty Two","Perak","350"],Benelli:["Imperiale 400","Leoncino 500","TRK 502","TNT 600i","502C"],"Mahindra 2-Wheeler":["Mojo","Centuro","Gusto"],Aprilia:["SR 160","SXR 160","RS 457","Tuono 457","RSV4"],Vespa:["SXL 125","SXL 150","VXL 125","VXL 150","ZX 125"],Ather:["450X","450 Plus","450 Apex"],"Ola Electric":["S1","S1 Pro","S1 Air"],Revolt:["RV400","RV300"],Okinawa:["Praise Pro","Ridge+","i-Praise","Lite"],Ampere:["Magnus","Zeal","V48"]},"3-wheeler":{Bajaj:["RE Compact","RE 60","Maxima Z","Maxima C"],Mahindra:["Alfa","Treo","Treo Zor"],Piaggio:["Ape Auto","Ape City","Ape Xtra LDX"],TVS:["King","King Deluxe","King Duramax"],Force:["Trax","Toofan"],Tata:["Magic","Ace Gold"],"Ashok Leyland":["Dost","Bada Dost"],Eicher:["Pro 1049","Pro 1110"]}},nu=(e,t)=>{const r=Bx[t];return r?r[e]||[]:[]},su=e=>{const t=Bx[e];return t?Object.keys(t):[]},fV=()=>Object.keys(Bx);function Op(){return["White","Silver","Black","Red","Blue","Gray","Brown","Green","Yellow","Orange","Gold","Maroon","Pearl White","Metallic Silver","Midnight Black","Deep Blue","Ruby Red","Champagne Gold","Titanium Gray","Other"]}var pV="Label",KE=h.forwardRef((e,t)=>n.jsx(Ve.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));KE.displayName=pV;var QE=KE;const gV=Pm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Re=h.forwardRef(({className:e,...t},r)=>n.jsx(QE,{ref:r,className:Se(gV(),e),...t}));Re.displayName=QE.displayName;const cs=fL,ZE=h.createContext({}),De=({...e})=>n.jsx(ZE.Provider,{value:{name:e.name},children:n.jsx(yL,{...e})}),Xm=()=>{const e=h.useContext(ZE),t=h.useContext(JE),{getFieldState:r,formState:s}=Ym(),a=r(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},JE=h.createContext({}),Te=h.forwardRef(({className:e,...t},r)=>{const s=h.useId();return n.jsx(JE.Provider,{value:{id:s},children:n.jsx("div",{ref:r,className:Se("space-y-2",e),...t})})});Te.displayName="FormItem";const Ee=h.forwardRef(({className:e,...t},r)=>{const{error:s,formItemId:a}=Xm();return n.jsx(Re,{ref:r,className:Se(s&&"text-destructive",e),htmlFor:a,...t})});Ee.displayName="FormLabel";const ke=h.forwardRef(({...e},t)=>{const{error:r,formItemId:s,formDescriptionId:a,formMessageId:i}=Xm();return n.jsx(R2,{ref:t,id:s,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});ke.displayName="FormControl";const xV=h.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:s}=Xm();return n.jsx("p",{ref:r,id:s,className:Se("text-sm text-muted-foreground",e),...t})});xV.displayName="FormDescription";const _e=h.forwardRef(({className:e,children:t,...r},s)=>{const{error:a,formMessageId:i}=Xm(),o=a?String((a==null?void 0:a.message)??""):t;return o?n.jsx("p",{ref:s,id:i,className:Se("text-sm font-medium text-destructive",e),...r,children:o}):null});_e.displayName="FormMessage";const de=h.forwardRef(({className:e,type:t,...r},s)=>n.jsx("input",{type:t,className:Se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));de.displayName="Input";function Mv(e,[t,r]){return Math.min(r,Math.max(t,e))}function e_(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var yV=[" ","Enter","ArrowUp","ArrowDown"],vV=[" ","Enter"],id="Select",[Hm,Km,wV]=Sm(id),[xl,c9]=fn(id,[wV,pl]),Qm=pl(),[bV,Ya]=xl(id),[jV,NV]=xl(id),t_=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:m,autoComplete:p,disabled:f,required:x,form:v}=e,y=Qm(t),[N,b]=h.useState(null),[g,w]=h.useState(null),[S,j]=h.useState(!1),k=Fm(d),[R=!1,F]=Us({prop:s,defaultProp:a,onChange:i}),[B,_]=Us({prop:o,defaultProp:l,onChange:c}),X=h.useRef(null),C=N?v||!!N.closest("form"):!0,[P,z]=h.useState(new Set),W=Array.from(P).map(M=>M.props.value).join(";");return n.jsx(WC,{...y,children:n.jsxs(bV,{required:x,scope:t,trigger:N,onTriggerChange:b,valueNode:g,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:j,contentId:qn(),value:B,onValueChange:_,open:R,onOpenChange:F,dir:k,triggerPointerDownPosRef:X,disabled:f,children:[n.jsx(Hm.Provider,{scope:t,children:n.jsx(jV,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(M=>{z($=>new Set($).add(M))},[]),onNativeOptionRemove:h.useCallback(M=>{z($=>{const L=new Set($);return L.delete(M),L})},[]),children:r})}),C?n.jsxs(k_,{"aria-hidden":!0,required:x,tabIndex:-1,name:m,autoComplete:p,value:B,onChange:M=>_(M.target.value),disabled:f,form:v,children:[B===void 0?n.jsx("option",{value:""}):null,Array.from(P)]},W):null]})})};t_.displayName=id;var r_="SelectTrigger",n_=h.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...a}=e,i=Qm(r),o=Ya(r_,r),l=o.disabled||s,c=st(t,o.onTriggerChange),d=Km(r),m=h.useRef("touch"),[p,f,x]=P_(y=>{const N=d().filter(w=>!w.disabled),b=N.find(w=>w.value===o.value),g=T_(N,y,b);g!==void 0&&o.onValueChange(g.value)}),v=y=>{l||(o.onOpenChange(!0),x()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return n.jsx(dx,{asChild:!0,...i,children:n.jsx(Ve.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":C_(o.value)?"":void 0,...a,ref:c,onClick:ye(a.onClick,y=>{y.currentTarget.focus(),m.current!=="mouse"&&v(y)}),onPointerDown:ye(a.onPointerDown,y=>{m.current=y.pointerType;const N=y.target;N.hasPointerCapture(y.pointerId)&&N.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(v(y),y.preventDefault())}),onKeyDown:ye(a.onKeyDown,y=>{const N=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&f(y.key),!(N&&y.key===" ")&&yV.includes(y.key)&&(v(),y.preventDefault())})})})});n_.displayName=r_;var s_="SelectValue",a_=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,children:i,placeholder:o="",...l}=e,c=Ya(s_,r),{onValueNodeHasChildrenChange:d}=c,m=i!==void 0,p=st(t,c.onValueNodeChange);return gr(()=>{d(m)},[d,m]),n.jsx(Ve.span,{...l,ref:p,style:{pointerEvents:"none"},children:C_(c.value)?n.jsx(n.Fragment,{children:o}):i})});a_.displayName=s_;var SV="SelectIcon",i_=h.forwardRef((e,t)=>{const{__scopeSelect:r,children:s,...a}=e;return n.jsx(Ve.span,{"aria-hidden":!0,...a,ref:t,children:s||""})});i_.displayName=SV;var CV="SelectPortal",o_=e=>n.jsx(Qc,{asChild:!0,...e});o_.displayName=CV;var _i="SelectContent",l_=h.forwardRef((e,t)=>{const r=Ya(_i,e.__scopeSelect),[s,a]=h.useState();if(gr(()=>{a(new DocumentFragment)},[]),!r.open){const i=s;return i?Ai.createPortal(n.jsx(c_,{scope:e.__scopeSelect,children:n.jsx(Hm.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(d_,{...e,ref:t})});l_.displayName=_i;var In=10,[c_,Ga]=xl(_i),kV="SelectContentImpl",PV=Ni("SelectContent.RemoveScroll"),d_=h.forwardRef((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:m,arrowPadding:p,collisionBoundary:f,collisionPadding:x,sticky:v,hideWhenDetached:y,avoidCollisions:N,...b}=e,g=Ya(_i,r),[w,S]=h.useState(null),[j,k]=h.useState(null),R=st(t,G=>S(G)),[F,B]=h.useState(null),[_,X]=h.useState(null),C=Km(r),[P,z]=h.useState(!1),W=h.useRef(!1);h.useEffect(()=>{if(w)return xx(w)},[w]),gx();const M=h.useCallback(G=>{const[ne,...oe]=C().map(be=>be.ref.current),[ge]=oe.slice(-1),Z=document.activeElement;for(const be of G)if(be===Z||(be==null||be.scrollIntoView({block:"nearest"}),be===ne&&j&&(j.scrollTop=0),be===ge&&j&&(j.scrollTop=j.scrollHeight),be==null||be.focus(),document.activeElement!==Z))return},[C,j]),$=h.useCallback(()=>M([F,w]),[M,F,w]);h.useEffect(()=>{P&&$()},[P,$]);const{onOpenChange:L,triggerPointerDownPosRef:D}=g;h.useEffect(()=>{if(w){let G={x:0,y:0};const ne=ge=>{var Z,be;G={x:Math.abs(Math.round(ge.pageX)-(((Z=D.current)==null?void 0:Z.x)??0)),y:Math.abs(Math.round(ge.pageY)-(((be=D.current)==null?void 0:be.y)??0))}},oe=ge=>{G.x<=10&&G.y<=10?ge.preventDefault():w.contains(ge.target)||L(!1),document.removeEventListener("pointermove",ne),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",ne),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",oe,{capture:!0})}}},[w,L,D]),h.useEffect(()=>{const G=()=>L(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[L]);const[u,T]=P_(G=>{const ne=C().filter(Z=>!Z.disabled),oe=ne.find(Z=>Z.ref.current===document.activeElement),ge=T_(ne,G,oe);ge&&setTimeout(()=>ge.ref.current.focus())}),A=h.useCallback((G,ne,oe)=>{const ge=!W.current&&!oe;(g.value!==void 0&&g.value===ne||ge)&&(B(G),ge&&(W.current=!0))},[g.value]),U=h.useCallback(()=>w==null?void 0:w.focus(),[w]),te=h.useCallback((G,ne,oe)=>{const ge=!W.current&&!oe;(g.value!==void 0&&g.value===ne||ge)&&X(G)},[g.value]),fe=s==="popper"?Lp:u_,pe=fe===Lp?{side:l,sideOffset:c,align:d,alignOffset:m,arrowPadding:p,collisionBoundary:f,collisionPadding:x,sticky:v,hideWhenDetached:y,avoidCollisions:N}:{};return n.jsx(c_,{scope:r,content:w,viewport:j,onViewportChange:k,itemRefCallback:A,selectedItem:F,onItemLeave:U,itemTextRefCallback:te,focusSelectedItem:$,selectedItemText:_,position:s,isPositioned:P,searchRef:u,children:n.jsx(zm,{as:PV,allowPinchZoom:!0,children:n.jsx(Om,{asChild:!0,trapped:g.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:ye(a,G=>{var ne;(ne=g.trigger)==null||ne.focus({preventScroll:!0}),G.preventDefault()}),children:n.jsx(dl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:n.jsx(fe,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:G=>G.preventDefault(),...b,...pe,onPlaced:()=>z(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:ye(b.onKeyDown,G=>{const ne=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!ne&&G.key.length===1&&T(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let ge=C().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);if(["ArrowUp","End"].includes(G.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const Z=G.target,be=ge.indexOf(Z);ge=ge.slice(be+1)}setTimeout(()=>M(ge)),G.preventDefault()}})})})})})})});d_.displayName=kV;var TV="SelectItemAlignedPosition",u_=h.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:s,...a}=e,i=Ya(_i,r),o=Ga(_i,r),[l,c]=h.useState(null),[d,m]=h.useState(null),p=st(t,R=>m(R)),f=Km(r),x=h.useRef(!1),v=h.useRef(!0),{viewport:y,selectedItem:N,selectedItemText:b,focusSelectedItem:g}=o,w=h.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&y&&N&&b){const R=i.trigger.getBoundingClientRect(),F=d.getBoundingClientRect(),B=i.valueNode.getBoundingClientRect(),_=b.getBoundingClientRect();if(i.dir!=="rtl"){const Z=_.left-F.left,be=B.left-Z,qe=R.left-be,he=R.width+qe,le=Math.max(he,F.width),Ge=window.innerWidth-In,at=Mv(be,[In,Math.max(In,Ge-le)]);l.style.minWidth=he+"px",l.style.left=at+"px"}else{const Z=F.right-_.right,be=window.innerWidth-B.right-Z,qe=window.innerWidth-R.right-be,he=R.width+qe,le=Math.max(he,F.width),Ge=window.innerWidth-In,at=Mv(be,[In,Math.max(In,Ge-le)]);l.style.minWidth=he+"px",l.style.right=at+"px"}const X=f(),C=window.innerHeight-In*2,P=y.scrollHeight,z=window.getComputedStyle(d),W=parseInt(z.borderTopWidth,10),M=parseInt(z.paddingTop,10),$=parseInt(z.borderBottomWidth,10),L=parseInt(z.paddingBottom,10),D=W+M+P+L+$,u=Math.min(N.offsetHeight*5,D),T=window.getComputedStyle(y),A=parseInt(T.paddingTop,10),U=parseInt(T.paddingBottom,10),te=R.top+R.height/2-In,fe=C-te,pe=N.offsetHeight/2,G=N.offsetTop+pe,ne=W+M+G,oe=D-ne;if(ne<=te){const Z=X.length>0&&N===X[X.length-1].ref.current;l.style.bottom="0px";const be=d.clientHeight-y.offsetTop-y.offsetHeight,qe=Math.max(fe,pe+(Z?U:0)+be+$),he=ne+qe;l.style.height=he+"px"}else{const Z=X.length>0&&N===X[0].ref.current;l.style.top="0px";const qe=Math.max(te,W+y.offsetTop+(Z?A:0)+pe)+oe;l.style.height=qe+"px",y.scrollTop=ne-te+y.offsetTop}l.style.margin=`${In}px 0`,l.style.minHeight=u+"px",l.style.maxHeight=C+"px",s==null||s(),requestAnimationFrame(()=>x.current=!0)}},[f,i.trigger,i.valueNode,l,d,y,N,b,i.dir,s]);gr(()=>w(),[w]);const[S,j]=h.useState();gr(()=>{d&&j(window.getComputedStyle(d).zIndex)},[d]);const k=h.useCallback(R=>{R&&v.current===!0&&(w(),g==null||g(),v.current=!1)},[w,g]);return n.jsx(_V,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:k,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:n.jsx(Ve.div,{...a,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});u_.displayName=TV;var EV="SelectPopperPosition",Lp=h.forwardRef((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:a=In,...i}=e,o=Qm(r);return n.jsx(ux,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Lp.displayName=EV;var[_V,qx]=xl(_i,{}),$p="SelectViewport",m_=h.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:s,...a}=e,i=Ga($p,r),o=qx($p,r),l=st(t,i.onViewportChange),c=h.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(Hm.Slot,{scope:r,children:n.jsx(Ve.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ye(a.onScroll,d=>{const m=d.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&p){const x=Math.abs(c.current-m.scrollTop);if(x>0){const v=window.innerHeight-In*2,y=parseFloat(p.style.minHeight),N=parseFloat(p.style.height),b=Math.max(y,N);if(b<v){const g=b+x,w=Math.min(v,g),S=g-w;p.style.height=w+"px",p.style.bottom==="0px"&&(m.scrollTop=S>0?S:0,p.style.justifyContent="flex-end")}}}c.current=m.scrollTop})})})]})});m_.displayName=$p;var h_="SelectGroup",[DV,IV]=xl(h_),AV=h.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=qn();return n.jsx(DV,{scope:r,id:a,children:n.jsx(Ve.div,{role:"group","aria-labelledby":a,...s,ref:t})})});AV.displayName=h_;var f_="SelectLabel",p_=h.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=IV(f_,r);return n.jsx(Ve.div,{id:a.id,...s,ref:t})});p_.displayName=f_;var em="SelectItem",[RV,g_]=xl(em),x_=h.forwardRef((e,t)=>{const{__scopeSelect:r,value:s,disabled:a=!1,textValue:i,...o}=e,l=Ya(em,r),c=Ga(em,r),d=l.value===s,[m,p]=h.useState(i??""),[f,x]=h.useState(!1),v=st(t,g=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,g,s,a)}),y=qn(),N=h.useRef("touch"),b=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(RV,{scope:r,value:s,disabled:a,textId:y,isSelected:d,onItemTextChange:h.useCallback(g=>{p(w=>w||((g==null?void 0:g.textContent)??"").trim())},[]),children:n.jsx(Hm.ItemSlot,{scope:r,value:s,disabled:a,textValue:m,children:n.jsx(Ve.div,{role:"option","aria-labelledby":y,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:v,onFocus:ye(o.onFocus,()=>x(!0)),onBlur:ye(o.onBlur,()=>x(!1)),onClick:ye(o.onClick,()=>{N.current!=="mouse"&&b()}),onPointerUp:ye(o.onPointerUp,()=>{N.current==="mouse"&&b()}),onPointerDown:ye(o.onPointerDown,g=>{N.current=g.pointerType}),onPointerMove:ye(o.onPointerMove,g=>{var w;N.current=g.pointerType,a?(w=c.onItemLeave)==null||w.call(c):N.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ye(o.onPointerLeave,g=>{var w;g.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:ye(o.onKeyDown,g=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&g.key===" "||(vV.includes(g.key)&&b(),g.key===" "&&g.preventDefault())})})})})});x_.displayName=em;var Bl="SelectItemText",y_=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,...i}=e,o=Ya(Bl,r),l=Ga(Bl,r),c=g_(Bl,r),d=NV(Bl,r),[m,p]=h.useState(null),f=st(t,b=>p(b),c.onItemTextChange,b=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,b,c.value,c.disabled)}),x=m==null?void 0:m.textContent,v=h.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:y,onNativeOptionRemove:N}=d;return gr(()=>(y(v),()=>N(v)),[y,N,v]),n.jsxs(n.Fragment,{children:[n.jsx(Ve.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ai.createPortal(i.children,o.valueNode):null]})});y_.displayName=Bl;var v_="SelectItemIndicator",w_=h.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return g_(v_,r).isSelected?n.jsx(Ve.span,{"aria-hidden":!0,...s,ref:t}):null});w_.displayName=v_;var Vp="SelectScrollUpButton",b_=h.forwardRef((e,t)=>{const r=Ga(Vp,e.__scopeSelect),s=qx(Vp,e.__scopeSelect),[a,i]=h.useState(!1),o=st(t,s.onScrollButtonChange);return gr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(N_,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});b_.displayName=Vp;var zp="SelectScrollDownButton",j_=h.forwardRef((e,t)=>{const r=Ga(zp,e.__scopeSelect),s=qx(zp,e.__scopeSelect),[a,i]=h.useState(!1),o=st(t,s.onScrollButtonChange);return gr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,m=Math.ceil(c.scrollTop)<d;i(m)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(N_,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});j_.displayName=zp;var N_=h.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...a}=e,i=Ga("SelectScrollButton",r),o=h.useRef(null),l=Km(r),c=h.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),gr(()=>{var m;const d=l().find(p=>p.ref.current===document.activeElement);(m=d==null?void 0:d.ref.current)==null||m.scrollIntoView({block:"nearest"})},[l]),n.jsx(Ve.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ye(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:ye(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:ye(a.onPointerLeave,()=>{c()})})}),MV="SelectSeparator",S_=h.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return n.jsx(Ve.div,{"aria-hidden":!0,...s,ref:t})});S_.displayName=MV;var Up="SelectArrow",FV=h.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=Qm(r),i=Ya(Up,r),o=Ga(Up,r);return i.open&&o.position==="popper"?n.jsx(mx,{...a,...s,ref:t}):null});FV.displayName=Up;function C_(e){return e===""||e===void 0}var k_=h.forwardRef((e,t)=>{const{value:r,...s}=e,a=h.useRef(null),i=st(t,a),o=e_(r);return h.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&m){const p=new Event("change",{bubbles:!0});m.call(l,r),l.dispatchEvent(p)}},[o,r]),n.jsx(Zc,{asChild:!0,children:n.jsx("select",{...s,ref:i,defaultValue:r})})});k_.displayName="BubbleSelect";function P_(e){const t=Sr(e),r=h.useRef(""),s=h.useRef(0),a=h.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=h.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,a,i]}function T_(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=OV(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function OV(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var LV=t_,E_=n_,$V=a_,VV=i_,zV=o_,__=l_,UV=m_,D_=p_,I_=x_,BV=y_,qV=w_,A_=b_,R_=j_,M_=S_;const Ot=LV,Lt=$V,Dt=h.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(E_,{ref:s,className:Se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(VV,{asChild:!0,children:n.jsx(Tm,{className:"h-4 w-4 opacity-50"})})]}));Dt.displayName=E_.displayName;const F_=h.forwardRef(({className:e,...t},r)=>n.jsx(A_,{ref:r,className:Se("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Jg,{className:"h-4 w-4"})}));F_.displayName=A_.displayName;const O_=h.forwardRef(({className:e,...t},r)=>n.jsx(R_,{ref:r,className:Se("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Tm,{className:"h-4 w-4"})}));O_.displayName=R_.displayName;const It=h.forwardRef(({className:e,children:t,position:r="popper",...s},a)=>n.jsx(zV,{children:n.jsxs(__,{ref:a,className:Se("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[n.jsx(F_,{}),n.jsx(UV,{className:Se("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(O_,{})]})}));It.displayName=__.displayName;const YV=h.forwardRef(({className:e,...t},r)=>n.jsx(D_,{ref:r,className:Se("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));YV.displayName=D_.displayName;const ie=h.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(I_,{ref:s,className:Se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(qV,{children:n.jsx(nn,{className:"h-4 w-4"})})}),n.jsx(BV,{children:t})]}));ie.displayName=I_.displayName;const GV=h.forwardRef(({className:e,...t},r)=>n.jsx(M_,{ref:r,className:Se("-mx-1 my-1 h-px bg-muted",e),...t}));GV.displayName=M_.displayName;var L_="AlertDialog",[WV,d9]=fn(L_,[pP]),Hs=pP(),$_=e=>{const{__scopeAlertDialog:t,...r}=e,s=Hs(t);return n.jsx(DP,{...s,...r,modal:!0})};$_.displayName=L_;var XV="AlertDialogTrigger",V_=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Hs(r);return n.jsx(dL,{...a,...s,ref:t})});V_.displayName=XV;var HV="AlertDialogPortal",z_=e=>{const{__scopeAlertDialog:t,...r}=e,s=Hs(t);return n.jsx(IP,{...s,...r})};z_.displayName=HV;var KV="AlertDialogOverlay",U_=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Hs(r);return n.jsx(_x,{...a,...s,ref:t})});U_.displayName=KV;var No="AlertDialogContent",[QV,ZV]=WV(No),JV=F2("AlertDialogContent"),B_=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:s,...a}=e,i=Hs(r),o=h.useRef(null),l=st(t,o),c=h.useRef(null);return n.jsx(iL,{contentName:No,titleName:q_,docsSlug:"alert-dialog",children:n.jsx(QV,{scope:r,cancelRef:c,children:n.jsxs(Dx,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:ye(a.onOpenAutoFocus,d=>{var m;d.preventDefault(),(m=c.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[n.jsx(JV,{children:s}),n.jsx(tz,{contentRef:o})]})})})});B_.displayName=No;var q_="AlertDialogTitle",Y_=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Hs(r);return n.jsx(Ix,{...a,...s,ref:t})});Y_.displayName=q_;var G_="AlertDialogDescription",W_=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Hs(r);return n.jsx(Ax,{...a,...s,ref:t})});W_.displayName=G_;var ez="AlertDialogAction",X_=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Hs(r);return n.jsx(Rx,{...a,...s,ref:t})});X_.displayName=ez;var H_="AlertDialogCancel",K_=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,{cancelRef:a}=ZV(H_,r),i=Hs(r),o=st(t,a);return n.jsx(Rx,{...i,...s,ref:o})});K_.displayName=H_;var tz=({contentRef:e})=>{const t=`\`${No}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${No}\` by passing a \`${G_}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${No}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},rz=$_,nz=V_,sz=z_,Q_=U_,Z_=B_,J_=X_,eD=K_,tD=Y_,rD=W_;const rc=rz,Zh=nz,az=sz,nD=h.forwardRef(({className:e,...t},r)=>n.jsx(Q_,{className:Se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));nD.displayName=Q_.displayName;const So=h.forwardRef(({className:e,...t},r)=>n.jsxs(az,{children:[n.jsx(nD,{}),n.jsx(Z_,{ref:r,className:Se("fixed left-[50%] top-[50%] z-50 grid w-[90%] max-w-md sm:max-w-lg translate-x-[-50%] translate-y-[-50%] gap-3 border bg-white/95 backdrop-blur-sm p-4 sm:p-6 shadow-xl rounded-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95",e),...t})]}));So.displayName=Z_.displayName;const Co=({className:e,...t})=>n.jsx("div",{className:Se("flex flex-col space-y-2 text-center sm:text-left",e),...t});Co.displayName="AlertDialogHeader";const ko=({className:e,...t})=>n.jsx("div",{className:Se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ko.displayName="AlertDialogFooter";const Po=h.forwardRef(({className:e,...t},r)=>n.jsx(tD,{ref:r,className:Se("text-base sm:text-lg font-semibold text-gray-900 leading-tight",e),...t}));Po.displayName=tD.displayName;const To=h.forwardRef(({className:e,...t},r)=>n.jsx(rD,{ref:r,className:Se("text-sm text-gray-600 leading-relaxed",e),...t}));To.displayName=rD.displayName;const Eo=h.forwardRef(({className:e,...t},r)=>n.jsx(J_,{ref:r,className:Se(fx(),e),...t}));Eo.displayName=J_.displayName;const _o=h.forwardRef(({className:e,...t},r)=>n.jsx(eD,{ref:r,className:Se(fx({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));_o.displayName=eD.displayName;function iz({open:e,onOpenChange:t}){const[r,s]=h.useState(!1),a=` Hey! I've been using MyyMotto to manage my vehicles and it's amazing! 

 Track insurance & emission renewals
 Store all vehicle documents safely
 Get timely notifications for renewals
 Emergency contacts management
 Find nearby service centers

*Timely Care for your carrier* 

Try it out: ${window.location.origin}`,i=()=>{const l=`https://wa.me/?text=${encodeURIComponent(a)}`;window.open(l,"_blank"),t(!1)},o=()=>{s(!0),localStorage.setItem("myymottoReferralReminder","true"),setTimeout(()=>{s(!1),t(!1)},2e3)};return r?n.jsx(ln,{open:e,onOpenChange:t,children:n.jsx(Hr,{className:"sm:max-w-md",children:n.jsxs("div",{className:"text-center py-6",children:[n.jsx("div",{className:"bg-green-100 p-3 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:n.jsx(hs,{className:"w-8 h-8 text-green-600"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"We'll remind you later!"}),n.jsx("p",{className:"text-gray-600",children:"You can share MyyMotto with friends anytime from the profile page."})]})})}):n.jsx(ln,{open:e,onOpenChange:t,children:n.jsxs(Hr,{className:"sm:max-w-md",children:[n.jsxs(Sn,{children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(no,{className:"w-5 h-5 text-orange-500"}),n.jsx(cn,{className:"text-lg font-semibold",children:"Spread the word!"})]})}),n.jsx(vo,{children:"Great job adding your vehicle! Help a friend get organized with their vehicles too."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(re,{className:"bg-gradient-to-br from-orange-50 to-red-50 border-orange-200",children:n.jsxs(se,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[n.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm",children:n.jsx(dt,{className:"text-sm font-bold"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-800",children:"Share MyyMotto"}),n.jsx("p",{className:"text-xs text-red-600",children:"Timely Care for your carrier"})]})]}),n.jsx("p",{className:"text-xs text-gray-600",children:"Help your friends stay on top of their vehicle maintenance, renewals, and documents!"})]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[n.jsxs(O,{onClick:i,className:"w-full bg-green-600 hover:bg-green-700 text-white",size:"lg",children:[n.jsx(bc,{className:"w-4 h-4 mr-2"}),"Share on WhatsApp"]}),n.jsx(O,{onClick:o,variant:"outline",className:"w-full",size:"lg",children:"Maybe Later"})]}),n.jsx("p",{className:"text-xs text-center text-gray-500",children:"Sharing is caring! Help your friends stay organized."})]})]})})}function oz(){const[,e]=Zt(),{toast:t}=yt(),r=Jt(),[s,a]=h.useState(""),[i,o]=h.useState(!1),[l,c]=h.useState(!1),[d,m]=h.useState(!1),[p,f]=h.useState(!1),[x,v]=h.useState(!1),[y,N]=h.useState(null),[b,g]=h.useState(null),[w,S]=h.useState(null),{data:j=[]}=We({queryKey:["/api/vehicles"],queryFn:()=>{const A=localStorage.getItem("currentUserId")||localStorage.getItem("userId")||"1";return Pe("GET",`/api/vehicles?userId=${A}`).then(U=>U.json())}}),k=j.length>=4,R=j.length>=2,F=Ir({resolver:Yr(XE),defaultValues:{make:"",model:"",year:new Date().getFullYear(),color:"",licensePlate:"",chassisNumber:"",engineNumber:"",ownerName:"",ownerPhone:"",vehicleType:"4-wheeler",fuelType:"",userType:"Private"}}),B=F.watch("make"),_=F.watch("vehicleType"),C={...F.watch(),thumbnailPath:b?"photo-selected":null},P=px(C),z=A=>{F.setValue("vehicleType",A),F.setValue("make",""),F.setValue("model",""),a(""),o(!1),c(!1)},W=(A,U)=>{a(A),A==="Other"?(o(!0),F.setValue("make",""),U&&U("")):(o(!1),F.setValue("make",A),U&&U(A)),F.setValue("model",""),c(!1)},M=(A,U)=>{A==="Other"?(c(!0),F.setValue("model",""),U&&U("")):(c(!1),F.setValue("model",A),U&&U(A))},$=A=>{A==="Other"?(m(!0),F.setValue("color","")):(m(!1),F.setValue("color",A))},L=rt({mutationFn:async A=>{var G,ne,oe,ge,Z;let U=null;if(b){const be=new FormData;be.append("file",b),be.append("type","thumbnail"),U=(await(await Pe("POST","/api/upload",be)).json()).filePath}const te=localStorage.getItem("currentUserId")||localStorage.getItem("userId")||"1",fe={...A,userId:parseInt(te),thumbnailPath:U,chassisNumber:((G=A.chassisNumber)==null?void 0:G.trim())||null,engineNumber:((ne=A.engineNumber)==null?void 0:ne.trim())||null,ownerPhone:((oe=A.ownerPhone)==null?void 0:oe.trim())||null,fuelType:((ge=A.fuelType)==null?void 0:ge.trim())||null,userType:((Z=A.userType)==null?void 0:Z.trim())||"Private",year:Number(A.year)},pe=await Pe("POST","/api/vehicles",fe);if(!pe.ok){const be=await pe.json();throw be.requiresSubscription?new Error(be.message):new Error(be.message||"Failed to add vehicle")}return pe.json()},onSuccess:async A=>{r.invalidateQueries({queryKey:["/api/vehicles"]}),r.invalidateQueries({queryKey:["/api/stats"]}),N(A.id),v(!0)},onError:A=>{A.message.includes("Subscribe for just 100/-")?t({title:"Subscription Required",description:A.message,variant:"destructive",action:n.jsx(O,{size:"sm",variant:"outline",onClick:()=>e("/subscribe"),children:"Subscribe Now"})}):t({title:"Error",description:A.message||"Failed to add vehicle",variant:"destructive"})}}),D=A=>{L.mutate(A)},u=A=>{var te;const U=(te=A.target.files)==null?void 0:te[0];if(U&&U.type.startsWith("image/")){g(U);const fe=new FileReader;fe.onload=pe=>{var G;S((G=pe.target)==null?void 0:G.result)},fe.readAsDataURL(U)}},T=()=>{g(null),S(null)};return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"header-gradient-border shadow-lg relative z-10",children:n.jsx("div",{className:"px-3 py-3",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(O,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-red-50 p-1",onClick:()=>e("/"),children:n.jsx(Pt,{className:"w-4 h-4"})}),n.jsx("img",{src:bt,alt:"Myymotto Logo",className:"w-12 h-12 rounded-lg"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-base font-bold",children:n.jsx(dt,{})}),n.jsx("p",{className:"text-xs text-red-600",children:"Add Vehicle"})]})]})})})}),n.jsx("div",{className:"p-3 pb-20 bg-warm-pattern",children:n.jsxs(re,{className:"card-hover shadow-orange border-l-4 border-l-red-500",children:[n.jsx(Me,{className:"bg-gradient-to-r from-red-50 to-orange-50 rounded-t-lg py-2",children:n.jsxs(Fe,{className:"flex items-center space-x-2 text-gray-800 text-sm",children:[n.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx(_t,{className:"w-3 h-3 text-red-600"})}),n.jsx("span",{children:"Vehicle Details"})]})}),n.jsxs(se,{className:"pt-3",children:[k&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(fr,{className:"w-5 h-5 text-red-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-red-800",children:"Vehicle Limit Reached"}),n.jsx("p",{className:"text-xs text-red-700",children:"You can add a maximum of 4 vehicles per account."})]})]})}),R&&!k&&n.jsx("div",{className:"mb-4 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(fr,{className:"w-5 h-5 text-orange-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-orange-800",children:"Subscription Required"}),n.jsx("p",{className:"text-xs text-orange-700",children:"To add more than 2 vehicles, subscribe for just 100/- per year and add up to 4 vehicles."}),n.jsx(O,{type:"button",size:"sm",className:"mt-2 bg-orange-600 hover:bg-orange-700 text-white",onClick:()=>e("/subscribe"),children:"Subscribe Now - 100/- per year"})]})]})}),n.jsx(re,{className:"shadow-lg border border-orange-300 bg-white mb-4",children:n.jsxs(se,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(po,{className:"w-4 h-4 text-orange-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Form Completion"})]}),n.jsxs("span",{className:"text-lg font-bold text-orange-600",children:[P.percentage,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:n.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-amber-500 h-2 rounded-full transition-all duration-300",style:{width:`${P.percentage}%`}})}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-600",children:[n.jsxs("span",{children:[P.completedFields,"/",P.totalFields," fields completed"]}),n.jsx("span",{className:"text-orange-600 font-medium",children:P.percentage>=90?"Almost done!":P.percentage>=50?"Keep going":"Getting started"})]})]})}),n.jsx(cs,{...F,children:n.jsxs("form",{onSubmit:F.handleSubmit(D),className:"space-y-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-xs font-medium",children:"Vehicle Photo"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[w?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:w,alt:"Vehicle thumbnail",className:"w-20 h-20 object-cover rounded-lg border-2 border-gray-200"}),n.jsx(O,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0",onClick:T,children:""})]}):n.jsx("div",{className:"w-20 h-20 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center",children:n.jsx(Da,{className:"w-8 h-8 text-gray-400"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs(O,{type:"button",variant:"outline",onClick:()=>{var A;return(A=document.getElementById("vehicle-photo-input"))==null?void 0:A.click()},className:"w-full h-12 flex items-center justify-center border-blue-300 text-blue-700 hover:bg-blue-50",children:[n.jsx(Rr,{className:"w-4 h-4 mr-2"}),n.jsx("span",{className:"text-sm",children:"Photos & Documents"})]}),n.jsx("input",{id:"vehicle-photo-input",type:"file",accept:".jpg,.jpeg,.png,.gif,.bmp,.webp,.pdf,.doc,.docx,.txt,.rtf,.odt,.xls,.xlsx,.ppt,.pptx",onChange:u,className:"hidden"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1 text-center",children:" Choose photos and documents from storage"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsx(De,{control:F.control,name:"vehicleType",render:({field:A})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs font-medium",children:"Vehicle Type *"}),n.jsx(ke,{children:n.jsxs(Ot,{onValueChange:z,value:A.value,children:[n.jsx(Dt,{className:"h-9",children:n.jsx(Lt,{placeholder:"Select vehicle type"})}),n.jsxs(It,{children:[n.jsx(ie,{value:"2-wheeler",children:"2-Wheeler"}),n.jsx(ie,{value:"3-wheeler",children:"3-Wheeler"}),n.jsx(ie,{value:"4-wheeler",children:"4-Wheeler"})]})]})}),n.jsx(_e,{})]})}),n.jsx(De,{control:F.control,name:"userType",render:({field:A})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs font-medium",children:"User Type *"}),n.jsx(ke,{children:n.jsxs(Ot,{onValueChange:A.onChange,value:A.value,children:[n.jsx(Dt,{className:"h-9",children:n.jsx(Lt,{placeholder:"Select user type"})}),n.jsxs(It,{children:[n.jsx(ie,{value:"Private",children:"Private"}),n.jsx(ie,{value:"Commercial",children:"Commercial"}),n.jsx(ie,{value:"Taxi services",children:"Taxi services"})]})]})}),n.jsx(_e,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsx(De,{control:F.control,name:"make",render:({field:A})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs font-medium",children:"Make *"}),n.jsx(ke,{children:i?n.jsx(de,{placeholder:"Enter make manually",className:"h-9",...A,onChange:U=>A.onChange(U.target.value.toUpperCase())}):n.jsxs(Ot,{onValueChange:U=>W(U,A.onChange),value:A.value,children:[n.jsx(Dt,{className:"h-9",children:n.jsx(Lt,{placeholder:"Select make"})}),n.jsxs(It,{children:[su(_||"4-wheeler").map(U=>n.jsx(ie,{value:U,children:U.toUpperCase()},U)),n.jsx(ie,{value:"Other",children:"Other (Enter manually)"})]})]})}),i&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n.jsx("button",{type:"button",onClick:()=>{o(!1),a(""),F.setValue("make","")},className:"text-blue-600 hover:text-blue-800",children:" Back to dropdown"})}),n.jsx(_e,{})]})}),n.jsx(De,{control:F.control,name:"model",render:({field:A})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs font-medium",children:"Model *"}),n.jsx(ke,{children:l?n.jsx(de,{placeholder:"Enter model manually",className:"h-9",...A,onChange:U=>A.onChange(U.target.value.toUpperCase())}):n.jsxs(Ot,{onValueChange:U=>M(U,A.onChange),value:A.value,disabled:!B&&!i,children:[n.jsx(Dt,{className:"h-9",children:n.jsx(Lt,{placeholder:"Select model"})}),n.jsxs(It,{children:[nu(B,_||"4-wheeler").map(U=>n.jsx(ie,{value:U,children:U},U)),n.jsx(ie,{value:"Other",children:"Other (Enter manually)"})]})]})}),l&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n.jsx("button",{type:"button",onClick:()=>{c(!1),F.setValue("model","")},className:"text-blue-600 hover:text-blue-800",children:" Back to dropdown"})}),n.jsx(_e,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsx(De,{control:F.control,name:"year",render:({field:A})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs font-medium",children:"Year * (e.g. 2020)"}),n.jsx(ke,{children:n.jsx(de,{type:"month",placeholder:"2020-01",className:"h-9",min:"1900-01",max:`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}`,value:A.value?`${A.value}-01`:"",onChange:U=>{const te=U.target.value;if(te){const fe=parseInt(te.split("-")[0]);A.onChange(fe)}else A.onChange("")}})}),n.jsx(_e,{})]})}),n.jsx(De,{control:F.control,name:"color",render:({field:A})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs font-medium",children:"Color"}),n.jsx(ke,{children:d?n.jsx(de,{placeholder:"Enter color manually",className:"h-9",...A,onChange:U=>A.onChange(U.target.value.trim())}):n.jsxs(Ot,{onValueChange:$,value:A.value,children:[n.jsx(Dt,{className:"h-9",children:n.jsx(Lt,{placeholder:"Select color"})}),n.jsx(It,{children:Op().map(U=>n.jsx(ie,{value:U,children:U},U))})]})}),d&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n.jsx("button",{type:"button",onClick:()=>{m(!1),F.setValue("color","")},className:"text-blue-600 hover:text-blue-800",children:" Back to dropdown"})}),n.jsx(_e,{})]})}),n.jsx(De,{control:F.control,name:"licensePlate",render:({field:A})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs font-medium",children:"License Plate *"}),n.jsx(ke,{children:n.jsx(de,{placeholder:"DL 01 AB 1234",className:"h-9",...A,onChange:U=>A.onChange(U.target.value.toUpperCase())})}),n.jsx(_e,{})]})})]}),n.jsx("div",{className:"grid grid-cols-1 gap-3",children:n.jsx(De,{control:F.control,name:"fuelType",render:({field:A})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs font-medium",children:"Fuel Type"}),n.jsx(ke,{children:n.jsxs(Ot,{onValueChange:A.onChange,value:A.value||"",children:[n.jsx(Dt,{className:"h-9",children:n.jsx(Lt,{placeholder:"Select fuel type"})}),n.jsxs(It,{children:[n.jsx(ie,{value:"petrol",children:"Petrol"}),n.jsx(ie,{value:"diesel",children:"Diesel"}),n.jsx(ie,{value:"electric",children:"Electric (EV)"}),n.jsx(ie,{value:"hybrid",children:"Hybrid"})]})]})}),n.jsx(_e,{})]})})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsx(De,{control:F.control,name:"chassisNumber",render:({field:A})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-sm font-medium",children:"Chassis Number"}),n.jsx(ke,{children:n.jsx(de,{placeholder:"MAT123456789",className:"h-9",...A,value:A.value||"",onChange:U=>A.onChange(U.target.value.toUpperCase())})}),n.jsx(_e,{})]})}),n.jsx(De,{control:F.control,name:"engineNumber",render:({field:A})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-sm font-medium",children:"Engine Number"}),n.jsx(ke,{children:n.jsx(de,{placeholder:"ENG987654321",className:"h-9",...A,value:A.value||"",onChange:U=>A.onChange(U.target.value.toUpperCase())})}),n.jsx(_e,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsx(De,{control:F.control,name:"ownerName",render:({field:A})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-sm font-medium",children:"Owner Name *"}),n.jsx(ke,{children:n.jsx(de,{placeholder:"John Doe",className:"h-9",...A,onChange:U=>A.onChange(U.target.value.toUpperCase())})}),n.jsx(_e,{})]})}),n.jsx(De,{control:F.control,name:"ownerPhone",render:({field:A})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-sm font-medium",children:"Phone Number"}),n.jsx(ke,{children:n.jsx(de,{placeholder:"+91 98765 43210",className:"h-9",...A,value:A.value||"",onChange:U=>A.onChange(U.target.value.toUpperCase())})}),n.jsx(_e,{})]})})]}),n.jsxs("div",{className:"flex space-x-2 pt-2",children:[n.jsx(O,{type:"button",variant:"outline",className:"flex-1 h-9",onClick:()=>e("/"),children:"Cancel"}),n.jsx(O,{type:"submit",className:"flex-1 h-9 bg-gradient-to-r from-red-500 to-orange-500 hover:from-red-600 hover:to-orange-600",disabled:L.isPending,children:L.isPending?"Adding...":"Add Vehicle"})]})]})})]})]})}),n.jsx(rc,{open:x,onOpenChange:v,children:n.jsxs(So,{className:"w-[95%] max-w-sm mx-auto bg-white/95 backdrop-blur-sm border-0 shadow-2xl shadow-orange-500/20 rounded-xl",children:[n.jsxs(Co,{className:"text-center pb-2",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-red-500 rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg",children:n.jsx(Tt,{className:"w-8 h-8 text-white"})}),n.jsx(Po,{className:"text-lg font-bold text-gray-900 leading-tight",children:"Complete Your Vehicle Profile"}),n.jsx(To,{className:"text-sm text-gray-600 leading-relaxed mt-2 px-2",children:"Your vehicle has been added successfully! Complete your profile by uploading essential documents like insurance policy, RC book, and emission certificate."})]}),n.jsxs(ko,{className:"flex-col gap-3 pt-4",children:[n.jsx(Eo,{onClick:()=>{v(!1),y&&e(`/vehicle/${y}/upload`)},className:"w-full h-11 bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white font-semibold rounded-lg shadow-lg transition-all duration-200 text-base",children:"Upload Documents Now"}),n.jsx(_o,{onClick:()=>{v(!1),f(!0)},className:"w-full h-10 bg-gray-100 hover:bg-gray-200 text-gray-700 border-0 rounded-lg transition-all duration-200 text-sm",children:"Skip for Now"})]})]})}),n.jsx(iz,{open:p,onOpenChange:A=>{f(A),A||e("/")}})]})}function lz(){const[,e]=Zt(),t=qa(),r=parseInt(t.id||"0"),{toast:s}=yt(),a=Jt(),[i,o]=h.useState(""),[l,c]=h.useState(!1),[d,m]=h.useState(!1),[p,f]=h.useState(!1),[x,v]=h.useState(!1),[y,N]=h.useState(null),[b,g]=h.useState(null),{data:w,isLoading:S}=We({queryKey:["/api/vehicles",r],queryFn:async()=>{const M=localStorage.getItem("currentUserId")||localStorage.getItem("userId")||"1";return(await Pe("GET",`/api/vehicles/${r}?userId=${M}`)).json()},enabled:!!r}),j=Ir({resolver:Yr(XE),defaultValues:{make:"",model:"",year:new Date().getFullYear(),color:"",licensePlate:"",chassisNumber:"",engineNumber:"",ownerName:"",ownerPhone:"",vehicleType:"",fuelType:"",userType:"Private"}});h.useEffect(()=>{if(w){console.log("Resetting form with vehicle data:",w.make,w.model,w.vehicleType),j.reset({make:w.make||"",model:w.model||"",year:w.year||new Date().getFullYear(),color:w.color||"",licensePlate:w.licensePlate||"",chassisNumber:w.chassisNumber||"",engineNumber:w.engineNumber||"",ownerName:w.ownerName||"",ownerPhone:w.ownerPhone||"",vehicleType:w.vehicleType||"",fuelType:w.fuelType||"",userType:w.userType||"Private"});const M=w.vehicleType||"4-wheeler",$=su(M),L=w.make||"",D=w.model||"";L&&!$.includes(L)?(c(!0),o("")):(c(!1),o(L)),D&&L&&!nu(L,M).includes(D)?m(!0):m(!1);const u=Op();w.color&&!u.includes(w.color)?f(!0):f(!1),w.thumbnailPath&&g(w.thumbnailPath),o(w.make||""),console.log("Form values after reset:",j.getValues()),console.log("Available makes for type:",w.vehicleType,su(w.vehicleType)),console.log("Available models for make:",w.make,nu(w.make||"",w.vehicleType||"4-wheeler"))}},[w,j]);const k=j.watch("make");j.watch("vehicleType");const R=M=>{j.setValue("vehicleType",M),j.setValue("make",""),j.setValue("model",""),o(""),c(!1),m(!1)},F=(M,$)=>{o(M),M==="Other"?(c(!0),j.setValue("make",""),$&&$("")):(c(!1),j.setValue("make",M),$&&$(M)),j.setValue("model",""),m(!1)},B=(M,$)=>{M==="Other"?(m(!0),j.setValue("model",""),$&&$("")):(m(!1),j.setValue("model",M),$&&$(M))},_=M=>{M==="Other"?(f(!0),j.setValue("color","")):(f(!1),j.setValue("color",M))},X=M=>{var L;const $=(L=M.target.files)==null?void 0:L[0];if($&&$.type.startsWith("image/")){N($);const D=new FileReader;D.onload=u=>{var T;g((T=u.target)==null?void 0:T.result)},D.readAsDataURL($)}},C=()=>{N(null),g((w==null?void 0:w.thumbnailPath)||null)},P=rt({mutationFn:async M=>{var T;let $=(w==null?void 0:w.thumbnailPath)||null;if(y){const A=new FormData;A.append("file",y),A.append("type","thumbnail"),$=(await(await Pe("POST","/api/upload",A)).json()).filePath}const L={...M,thumbnailPath:$,userType:((T=M.userType)==null?void 0:T.trim())||"Private"},D=localStorage.getItem("currentUserId")||localStorage.getItem("userId")||"1";return(await Pe("PUT",`/api/vehicles/${r}?userId=${D}`,L)).json()},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/vehicles"]}),a.invalidateQueries({queryKey:["/api/vehicles",r]}),a.invalidateQueries({queryKey:["/api/stats"]}),v(!0)},onError:M=>{s({title:"Error",description:M.message||"Failed to update vehicle",variant:"destructive"})}}),z=M=>{P.mutate(M)},W=w?px(w):null;return S?n.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(_t,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4 animate-pulse"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading vehicle details..."})]})}):w?n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"header-gradient-border shadow-lg relative z-10",children:n.jsx("div",{className:"px-3 py-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(O,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-red-50 p-1",onClick:()=>e("/"),children:n.jsx(Pt,{className:"w-4 h-4"})}),n.jsx("img",{src:bt,alt:"Myymotto Logo",className:"w-10 h-10 rounded-lg"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-base font-bold",children:n.jsx(dt,{})}),n.jsx("p",{className:"text-xs text-red-600",children:"Edit Vehicle"})]})]}),n.jsx("div",{className:"flex items-center space-x-1",children:n.jsx(O,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-red-50 p-1",children:n.jsx(sr,{className:"w-4 h-4"})})})]})})}),n.jsx("div",{className:"p-3 pb-20 bg-warm-pattern",children:n.jsxs(re,{className:"card-hover shadow-orange",children:[n.jsx(Me,{className:"bg-gradient-to-r from-red-50 to-orange-50 rounded-t-lg py-3",children:n.jsxs(Fe,{className:"flex items-center space-x-2 text-gray-800 text-base",children:[n.jsx(_t,{className:"w-4 h-4 text-red-600"}),n.jsx("span",{children:"Edit Vehicle Details"})]})}),n.jsxs(se,{children:[W&&n.jsxs("div",{className:"mb-4 p-3 bg-gradient-to-r from-orange-50 to-amber-50 rounded-lg border border-orange-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-1.5",children:[n.jsx(po,{className:"w-4 h-4 text-orange-500"}),n.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:"Vehicle Info"})]}),n.jsxs("span",{className:"text-base font-bold text-orange-600",children:[W.percentage,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:n.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-orange-600 h-2 rounded-full transition-all duration-500",style:{width:`${W.percentage}%`}})}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 mb-2",children:[n.jsxs("span",{children:[W.completedFields,"/",W.totalFields," fields completed"]}),n.jsx("span",{children:"Vehicle information completeness"})]}),W.missingFields.length>0&&W.percentage<100&&n.jsxs("div",{className:"pt-2 border-t border-orange-200",children:[n.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[n.jsx(ul,{className:"w-3.5 h-3.5 text-amber-500"}),n.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Missing:"})]}),n.jsxs("div",{className:"text-[10px] text-gray-600 leading-tight",children:[W.missingFields.slice(0,4).map((M,$)=>M.name).join(", "),W.missingFields.length>4&&` +${W.missingFields.length-4} more`]})]}),W.percentage>=90&&n.jsx("div",{className:"pt-2 border-t border-green-200 bg-green-50 rounded p-1.5 mt-2",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Pn,{className:"w-3.5 h-3.5 text-green-600"}),n.jsx("span",{className:"text-xs font-medium text-green-800",children:W.percentage===100?"Complete Vehicle Info!":"Almost complete!"})]})})]}),n.jsx(cs,{...j,children:n.jsxs("form",{onSubmit:j.handleSubmit(z),className:"space-y-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-xs font-medium",children:"Vehicle Photo"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[b?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:b,alt:"Vehicle thumbnail",className:"w-20 h-20 object-cover rounded-lg border-2 border-gray-200"}),n.jsx(O,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0",onClick:C,children:""})]}):n.jsx("div",{className:"w-20 h-20 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center",children:n.jsx(Da,{className:"w-8 h-8 text-gray-400"})}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"flex justify-center",children:n.jsxs("label",{className:"block w-full",children:[n.jsx("input",{type:"file",accept:".jpg,.jpeg,.png,.gif,.bmp,.webp,.pdf,.doc,.docx,.txt",onChange:X,className:"hidden"}),n.jsxs(O,{type:"button",variant:"outline",size:"sm",className:"h-8 text-xs px-3 w-full",onClick:M=>{var $,L;M.preventDefault(),(L=($=M.target.parentElement)==null?void 0:$.querySelector("input"))==null||L.click()},children:[n.jsx(Rr,{className:"w-3 h-3 mr-1"}),"Photos & Documents"]})]})}),n.jsx("p",{className:"text-xs text-gray-500",children:"Choose photos and documents from storage"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4",children:[n.jsx(De,{control:j.control,name:"vehicleType",render:({field:M})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs font-semibold",children:"Vehicle Type *"}),n.jsx(ke,{children:n.jsxs(Ot,{onValueChange:R,value:M.value,children:[n.jsx(Dt,{className:"h-8",children:n.jsx(Lt,{placeholder:"Select vehicle type"})}),n.jsx(It,{children:fV().map($=>n.jsx(ie,{value:$,children:$},$))})]})}),n.jsx(_e,{})]})}),n.jsx(De,{control:j.control,name:"userType",render:({field:M})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs font-semibold",children:"User Type *"}),n.jsx(ke,{children:n.jsxs(Ot,{onValueChange:M.onChange,value:M.value,children:[n.jsx(Dt,{className:"h-8",children:n.jsx(Lt,{placeholder:"Select user type"})}),n.jsxs(It,{children:[n.jsx(ie,{value:"Private",children:"Private"}),n.jsx(ie,{value:"Commercial",children:"Commercial"}),n.jsx(ie,{value:"Taxi services",children:"Taxi services"})]})]})}),n.jsx(_e,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(De,{control:j.control,name:"make",render:({field:M})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs",children:"Make *"}),n.jsx(ke,{children:l?n.jsx(de,{placeholder:"Enter make manually",className:"h-8",...M,onChange:$=>M.onChange($.target.value.toUpperCase())}):n.jsxs(Ot,{onValueChange:$=>F($,M.onChange),value:M.value,children:[n.jsx(Dt,{className:"h-8",children:n.jsx(Lt,{placeholder:"Select make"})}),n.jsxs(It,{children:[su((w==null?void 0:w.vehicleType)||"4-wheeler").map($=>n.jsx(ie,{value:$,children:$.toUpperCase()},$)),n.jsx(ie,{value:"Other",children:"Other (Enter manually)"})]})]})}),l&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n.jsx("button",{type:"button",onClick:()=>{c(!1),o(""),j.setValue("make","")},className:"text-blue-600 hover:text-blue-800",children:" Back to dropdown"})}),n.jsx(_e,{})]})}),n.jsx(De,{control:j.control,name:"model",render:({field:M})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs",children:"Model *"}),n.jsx(ke,{children:d?n.jsx(de,{placeholder:"Enter model manually",className:"h-8",...M,onChange:$=>M.onChange($.target.value.toUpperCase())}):n.jsxs(Ot,{onValueChange:$=>B($,M.onChange),value:M.value,disabled:!(k||w!=null&&w.make)&&!l,children:[n.jsx(Dt,{className:"h-8",children:n.jsx(Lt,{placeholder:"Select model"})}),n.jsxs(It,{children:[(k||(w==null?void 0:w.make))&&nu(k||(w==null?void 0:w.make)||"",(w==null?void 0:w.vehicleType)||"4-wheeler").map($=>n.jsx(ie,{value:$,children:$},$)),n.jsx(ie,{value:"Other",children:"Other (Enter manually)"})]})]})}),d&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n.jsx("button",{type:"button",onClick:()=>{m(!1),j.setValue("model","")},className:"text-blue-600 hover:text-blue-800",children:" Back to dropdown"})}),n.jsx(_e,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(De,{control:j.control,name:"year",render:({field:M})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs",children:"Year *"}),n.jsx(ke,{children:n.jsx(de,{type:"month",placeholder:"2024-01",className:"h-8",min:"1900-01",max:`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}`,value:M.value?`${M.value}-01`:"",onChange:$=>{const L=$.target.value;if(L){const D=parseInt(L.split("-")[0]);M.onChange(D)}else M.onChange("")}})}),n.jsx(_e,{})]})}),n.jsx(De,{control:j.control,name:"color",render:({field:M})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs",children:"Color *"}),n.jsx(ke,{children:p?n.jsx(de,{placeholder:"Enter color manually",className:"h-8",...M,onChange:$=>M.onChange($.target.value.trim())}):n.jsxs(Ot,{onValueChange:_,value:M.value,children:[n.jsx(Dt,{className:"h-8",children:n.jsx(Lt,{placeholder:"Select color"})}),n.jsx(It,{children:Op().map($=>n.jsx(ie,{value:$,children:$},$))})]})}),p&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n.jsx("button",{type:"button",onClick:()=>{f(!1),j.setValue("color","")},className:"text-blue-600 hover:text-blue-800",children:" Back to dropdown"})}),n.jsx(_e,{})]})})]}),n.jsx(De,{control:j.control,name:"licensePlate",render:({field:M})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs",children:"License Plate *"}),n.jsx(ke,{children:n.jsx(de,{placeholder:"DL 01 AB 1234",className:"h-8",...M,onChange:$=>M.onChange($.target.value.toUpperCase())})}),n.jsx(_e,{})]})}),n.jsx(De,{control:j.control,name:"fuelType",render:({field:M})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs",children:"Fuel Type"}),n.jsx(ke,{children:n.jsxs(Ot,{onValueChange:M.onChange,value:M.value||"",children:[n.jsx(Dt,{className:"h-8",children:n.jsx(Lt,{placeholder:"Select fuel type"})}),n.jsxs(It,{children:[n.jsx(ie,{value:"petrol",children:"Petrol"}),n.jsx(ie,{value:"diesel",children:"Diesel"}),n.jsx(ie,{value:"electric",children:"Electric (EV)"}),n.jsx(ie,{value:"hybrid",children:"Hybrid"})]})]})}),n.jsx(_e,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(De,{control:j.control,name:"chassisNumber",render:({field:M})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs",children:"Chassis Number"}),n.jsx(ke,{children:n.jsx(de,{placeholder:"MAT123456789",className:"h-8",...M,value:M.value||"",onChange:$=>M.onChange($.target.value.toUpperCase())})}),n.jsx(_e,{})]})}),n.jsx(De,{control:j.control,name:"engineNumber",render:({field:M})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs",children:"Engine Number"}),n.jsx(ke,{children:n.jsx(de,{placeholder:"ENG987654321",className:"h-8",...M,value:M.value||"",onChange:$=>M.onChange($.target.value.toUpperCase())})}),n.jsx(_e,{})]})})]}),n.jsx(De,{control:j.control,name:"ownerName",render:({field:M})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs",children:"Owner Name *"}),n.jsx(ke,{children:n.jsx(de,{placeholder:"John Doe",className:"h-8",...M,onChange:$=>M.onChange($.target.value.toUpperCase())})}),n.jsx(_e,{})]})}),n.jsx(De,{control:j.control,name:"ownerPhone",render:({field:M})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs",children:"Phone Number"}),n.jsx(ke,{children:n.jsx(de,{placeholder:"+1 234 567 8900",className:"h-8",...M,value:M.value||"",onChange:$=>M.onChange($.target.value.toUpperCase())})}),n.jsx(_e,{})]})}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx(O,{type:"button",variant:"outline",className:"flex-1 h-8",onClick:()=>e("/"),children:"Cancel"}),n.jsxs(O,{type:"submit",className:"flex-1 h-8",disabled:P.isPending,children:[n.jsx(fC,{className:"w-3 h-3 mr-1"}),P.isPending?"Updating...":"Update Vehicle"]})]})]})})]})]})}),n.jsx(rc,{open:x,onOpenChange:v,children:n.jsxs(So,{className:"w-[95%] max-w-sm mx-auto bg-white/95 backdrop-blur-sm border-0 shadow-2xl shadow-orange-500/20 rounded-xl",children:[n.jsxs(Co,{className:"text-center pb-2",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg",children:n.jsx(Pn,{className:"w-8 h-8 text-white"})}),n.jsx(Po,{className:"text-lg font-bold text-gray-900 leading-tight",children:"Vehicle Updated Successfully"}),n.jsx(To,{className:"text-sm text-gray-600 leading-relaxed mt-2 px-2",children:"Keep your vehicle profile current by reviewing and updating your documents. Ensure insurance, RC book, and emission certificates are up to date."})]}),n.jsxs(ko,{className:"flex-col gap-3 pt-4",children:[n.jsx(Eo,{onClick:()=>{v(!1),e(`/vehicle/${r}/upload`)},className:"w-full h-11 bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white font-semibold rounded-lg shadow-lg transition-all duration-200 text-base",children:"Review Documents"}),n.jsx(_o,{onClick:()=>{v(!1),e("/")},className:"w-full h-10 bg-gray-100 hover:bg-gray-200 text-gray-700 border-0 rounded-lg transition-all duration-200 text-sm",children:"Return to Dashboard"})]})]})})]}):n.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(_t,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Vehicle not found"}),n.jsx(O,{className:"mt-4",onClick:()=>e("/"),children:"Go Back to Dashboard"})]})})}var cz={exports:{}};(function(e){var t=function(r){var s=Object.prototype,a=s.hasOwnProperty,i=Object.defineProperty||function(D,u,T){D[u]=T.value},o,l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",d=l.asyncIterator||"@@asyncIterator",m=l.toStringTag||"@@toStringTag";function p(D,u,T){return Object.defineProperty(D,u,{value:T,enumerable:!0,configurable:!0,writable:!0}),D[u]}try{p({},"")}catch{p=function(u,T,A){return u[T]=A}}function f(D,u,T,A){var U=u&&u.prototype instanceof w?u:w,te=Object.create(U.prototype),fe=new M(A||[]);return i(te,"_invoke",{value:C(D,T,fe)}),te}r.wrap=f;function x(D,u,T){try{return{type:"normal",arg:D.call(u,T)}}catch(A){return{type:"throw",arg:A}}}var v="suspendedStart",y="suspendedYield",N="executing",b="completed",g={};function w(){}function S(){}function j(){}var k={};p(k,c,function(){return this});var R=Object.getPrototypeOf,F=R&&R(R($([])));F&&F!==s&&a.call(F,c)&&(k=F);var B=j.prototype=w.prototype=Object.create(k);S.prototype=j,i(B,"constructor",{value:j,configurable:!0}),i(j,"constructor",{value:S,configurable:!0}),S.displayName=p(j,m,"GeneratorFunction");function _(D){["next","throw","return"].forEach(function(u){p(D,u,function(T){return this._invoke(u,T)})})}r.isGeneratorFunction=function(D){var u=typeof D=="function"&&D.constructor;return u?u===S||(u.displayName||u.name)==="GeneratorFunction":!1},r.mark=function(D){return Object.setPrototypeOf?Object.setPrototypeOf(D,j):(D.__proto__=j,p(D,m,"GeneratorFunction")),D.prototype=Object.create(B),D},r.awrap=function(D){return{__await:D}};function X(D,u){function T(te,fe,pe,G){var ne=x(D[te],D,fe);if(ne.type==="throw")G(ne.arg);else{var oe=ne.arg,ge=oe.value;return ge&&typeof ge=="object"&&a.call(ge,"__await")?u.resolve(ge.__await).then(function(Z){T("next",Z,pe,G)},function(Z){T("throw",Z,pe,G)}):u.resolve(ge).then(function(Z){oe.value=Z,pe(oe)},function(Z){return T("throw",Z,pe,G)})}}var A;function U(te,fe){function pe(){return new u(function(G,ne){T(te,fe,G,ne)})}return A=A?A.then(pe,pe):pe()}i(this,"_invoke",{value:U})}_(X.prototype),p(X.prototype,d,function(){return this}),r.AsyncIterator=X,r.async=function(D,u,T,A,U){U===void 0&&(U=Promise);var te=new X(f(D,u,T,A),U);return r.isGeneratorFunction(u)?te:te.next().then(function(fe){return fe.done?fe.value:te.next()})};function C(D,u,T){var A=v;return function(te,fe){if(A===N)throw new Error("Generator is already running");if(A===b){if(te==="throw")throw fe;return L()}for(T.method=te,T.arg=fe;;){var pe=T.delegate;if(pe){var G=P(pe,T);if(G){if(G===g)continue;return G}}if(T.method==="next")T.sent=T._sent=T.arg;else if(T.method==="throw"){if(A===v)throw A=b,T.arg;T.dispatchException(T.arg)}else T.method==="return"&&T.abrupt("return",T.arg);A=N;var ne=x(D,u,T);if(ne.type==="normal"){if(A=T.done?b:y,ne.arg===g)continue;return{value:ne.arg,done:T.done}}else ne.type==="throw"&&(A=b,T.method="throw",T.arg=ne.arg)}}}function P(D,u){var T=u.method,A=D.iterator[T];if(A===o)return u.delegate=null,T==="throw"&&D.iterator.return&&(u.method="return",u.arg=o,P(D,u),u.method==="throw")||T!=="return"&&(u.method="throw",u.arg=new TypeError("The iterator does not provide a '"+T+"' method")),g;var U=x(A,D.iterator,u.arg);if(U.type==="throw")return u.method="throw",u.arg=U.arg,u.delegate=null,g;var te=U.arg;if(!te)return u.method="throw",u.arg=new TypeError("iterator result is not an object"),u.delegate=null,g;if(te.done)u[D.resultName]=te.value,u.next=D.nextLoc,u.method!=="return"&&(u.method="next",u.arg=o);else return te;return u.delegate=null,g}_(B),p(B,m,"Generator"),p(B,c,function(){return this}),p(B,"toString",function(){return"[object Generator]"});function z(D){var u={tryLoc:D[0]};1 in D&&(u.catchLoc=D[1]),2 in D&&(u.finallyLoc=D[2],u.afterLoc=D[3]),this.tryEntries.push(u)}function W(D){var u=D.completion||{};u.type="normal",delete u.arg,D.completion=u}function M(D){this.tryEntries=[{tryLoc:"root"}],D.forEach(z,this),this.reset(!0)}r.keys=function(D){var u=Object(D),T=[];for(var A in u)T.push(A);return T.reverse(),function U(){for(;T.length;){var te=T.pop();if(te in u)return U.value=te,U.done=!1,U}return U.done=!0,U}};function $(D){if(D){var u=D[c];if(u)return u.call(D);if(typeof D.next=="function")return D;if(!isNaN(D.length)){var T=-1,A=function U(){for(;++T<D.length;)if(a.call(D,T))return U.value=D[T],U.done=!1,U;return U.value=o,U.done=!0,U};return A.next=A}}return{next:L}}r.values=$;function L(){return{value:o,done:!0}}return M.prototype={constructor:M,reset:function(D){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(W),!D)for(var u in this)u.charAt(0)==="t"&&a.call(this,u)&&!isNaN(+u.slice(1))&&(this[u]=o)},stop:function(){this.done=!0;var D=this.tryEntries[0],u=D.completion;if(u.type==="throw")throw u.arg;return this.rval},dispatchException:function(D){if(this.done)throw D;var u=this;function T(G,ne){return te.type="throw",te.arg=D,u.next=G,ne&&(u.method="next",u.arg=o),!!ne}for(var A=this.tryEntries.length-1;A>=0;--A){var U=this.tryEntries[A],te=U.completion;if(U.tryLoc==="root")return T("end");if(U.tryLoc<=this.prev){var fe=a.call(U,"catchLoc"),pe=a.call(U,"finallyLoc");if(fe&&pe){if(this.prev<U.catchLoc)return T(U.catchLoc,!0);if(this.prev<U.finallyLoc)return T(U.finallyLoc)}else if(fe){if(this.prev<U.catchLoc)return T(U.catchLoc,!0)}else if(pe){if(this.prev<U.finallyLoc)return T(U.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(D,u){for(var T=this.tryEntries.length-1;T>=0;--T){var A=this.tryEntries[T];if(A.tryLoc<=this.prev&&a.call(A,"finallyLoc")&&this.prev<A.finallyLoc){var U=A;break}}U&&(D==="break"||D==="continue")&&U.tryLoc<=u&&u<=U.finallyLoc&&(U=null);var te=U?U.completion:{};return te.type=D,te.arg=u,U?(this.method="next",this.next=U.finallyLoc,g):this.complete(te)},complete:function(D,u){if(D.type==="throw")throw D.arg;return D.type==="break"||D.type==="continue"?this.next=D.arg:D.type==="return"?(this.rval=this.arg=D.arg,this.method="return",this.next="end"):D.type==="normal"&&u&&(this.next=u),g},finish:function(D){for(var u=this.tryEntries.length-1;u>=0;--u){var T=this.tryEntries[u];if(T.finallyLoc===D)return this.complete(T.completion,T.afterLoc),W(T),g}},catch:function(D){for(var u=this.tryEntries.length-1;u>=0;--u){var T=this.tryEntries[u];if(T.tryLoc===D){var A=T.completion;if(A.type==="throw"){var U=A.arg;W(T)}return U}}throw new Error("illegal catch attempt")},delegateYield:function(D,u,T){return this.delegate={iterator:$(D),resultName:u,nextLoc:T},this.method==="next"&&(this.arg=o),g}},r}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(cz);var Yx=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`;const dz=Yx;let Fv=0;var sD=({id:e,action:t,payload:r={}})=>{let s=e;return typeof s>"u"&&(s=dz("Job",Fv),Fv+=1),{id:s,action:t,payload:r}},yl={};let Gx=!1;yl.logging=Gx;yl.setLogging=e=>{Gx=e};yl.log=(...e)=>Gx?console.log.apply(void 0,e):null;const uz=sD,{log:Md}=yl,mz=Yx;let Ov=0;var hz=()=>{const e=mz("Scheduler",Ov),t={},r={};let s=[];Ov+=1;const a=()=>s.length,i=()=>Object.keys(t).length,o=()=>{if(s.length!==0){const p=Object.keys(t);for(let f=0;f<p.length;f+=1)if(typeof r[p[f]]>"u"){s[0](t[p[f]]);break}}},l=(p,f)=>new Promise((x,v)=>{const y=uz({action:p,payload:f});s.push(async N=>{s.shift(),r[N.id]=y;try{x(await N[p].apply(void 0,[...f,y.id]))}catch(b){v(b)}finally{delete r[N.id],o()}}),Md(`[${e}]: Add ${y.id} to JobQueue`),Md(`[${e}]: JobQueue length=${s.length}`),o()});return{addWorker:p=>(t[p.id]=p,Md(`[${e}]: Add ${p.id}`),Md(`[${e}]: Number of workers=${i()}`),o(),p.id),addJob:async(p,...f)=>{if(i()===0)throw Error(`[${e}]: You need to have at least one worker before adding jobs`);return l(p,f)},terminate:async()=>{Object.keys(t).forEach(async p=>{await t[p].terminate()}),s=[]},getQueueLen:a,getNumWorkers:i}};function fz(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pz=e=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof fz=="function"&&(t.type="node"),typeof e>"u"?t:t[e]};const gz=pz("type")==="browser",xz=gz?e=>new URL(e,window.location.href).href:e=>e;var yz=e=>{const t={...e};return["corePath","workerPath","langPath"].forEach(r=>{e[r]&&(t[r]=xz(t[r]))}),t},aD={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const vz="tesseract.js",wz="6.0.1",bz="Pure Javascript Multilingual OCR",jz="src/index.js",Nz="commonjs",Sz="src/index.d.ts",Cz="dist/tesseract.min.js",kz="dist/tesseract.min.js",Pz={start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.min.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser test:node:all","test:browser":"karma start karma.conf.js","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.mjs","test:node:all":"npm run test:node -- ./tests/*.test.mjs",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},Tz={"./src/worker/node/index.js":"./src/worker/browser/index.js"},Ez="",_z=["jeromewu"],Dz="Apache-2.0",Iz={"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","npm-run-all":"^4.1.5",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-firefox-launcher":"^2.1.2","karma-mocha":"^2.0.1","karma-webpack":"^5.0.0",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},Az={"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^6.0.0","wasm-feature-detect":"^1.2.11",zlibjs:"^0.3.1"},Rz={"@rollup/pluginutils":"^5.0.2"},Mz={type:"git",url:"https://github.com/naptha/tesseract.js.git"},Fz={url:"https://github.com/naptha/tesseract.js/issues"},Oz="https://github.com/naptha/tesseract.js",Lz={type:"opencollective",url:"https://opencollective.com/tesseractjs"},$z={name:vz,version:wz,description:bz,main:jz,type:Nz,types:Sz,unpkg:Cz,jsdelivr:kz,scripts:Pz,browser:Tz,author:Ez,contributors:_z,license:Dz,devDependencies:Iz,dependencies:Az,overrides:Rz,repository:Mz,bugs:Fz,homepage:Oz,collective:Lz};var Vz={workerBlobURL:!0,logger:()=>{}};const zz=$z.version,Uz=Vz;var Bz={...Uz,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${zz}/dist/worker.min.js`},qz=({workerPath:e,workerBlobURL:t})=>{let r;if(Blob&&URL&&t){const s=new Blob([`importScripts("${e}");`],{type:"application/javascript"});r=new Worker(URL.createObjectURL(s))}else r=new Worker(e);return r},Yz=e=>{e.terminate()},Gz=(e,t)=>{e.onmessage=({data:r})=>{t(r)}},Wz=async(e,t)=>{e.postMessage(t)};const Jh=e=>new Promise((t,r)=>{const s=new FileReader;s.onload=()=>{t(s.result)},s.onerror=({target:{error:{code:a}}})=>{r(Error(`File could not be read! Code=${a}`))},s.readAsArrayBuffer(e)}),Bp=async e=>{let t=e;if(typeof e>"u")return"undefined";if(typeof e=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e)?t=atob(e.split(",")[1]).split("").map(r=>r.charCodeAt(0)):t=await(await fetch(e)).arrayBuffer();else if(typeof HTMLElement<"u"&&e instanceof HTMLElement)e.tagName==="IMG"&&(t=await Bp(e.src)),e.tagName==="VIDEO"&&(t=await Bp(e.poster)),e.tagName==="CANVAS"&&await new Promise(r=>{e.toBlob(async s=>{t=await Jh(s),r()})});else if(typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas){const r=await e.convertToBlob();t=await Jh(r)}else(e instanceof File||e instanceof Blob)&&(t=await Jh(e));return new Uint8Array(t)};var Xz=Bp;const Hz=Bz,Kz=qz,Qz=Yz,Zz=Gz,Jz=Wz,eU=Xz;var tU={defaultOptions:Hz,spawnWorker:Kz,terminateWorker:Qz,onMessage:Zz,send:Jz,loadImage:eU};const rU=yz,es=sD,{log:Lv}=yl,nU=Yx,Xa=aD,{defaultOptions:sU,spawnWorker:aU,terminateWorker:iU,onMessage:oU,loadImage:$v,send:lU}=tU;let Vv=0;var iD=async(e="eng",t=Xa.LSTM_ONLY,r={},s={})=>{const a=nU("Worker",Vv),{logger:i,errorHandler:o,...l}=rU({...sU,...r}),c={},d=typeof e=="string"?e.split("+"):e;let m=t,p=s;const f=[Xa.DEFAULT,Xa.LSTM_ONLY].includes(t)&&!l.legacyCore;let x,v;const y=new Promise(($,L)=>{v=$,x=L}),N=$=>{x($.message)};let b=aU(l);b.onerror=N,Vv+=1;const g=({id:$,action:L,payload:D})=>new Promise((u,T)=>{Lv(`[${a}]: Start ${$}, action=${L}`);const A=`${L}-${$}`;c[A]={resolve:u,reject:T},lU(b,{workerId:a,jobId:$,action:L,payload:D})}),w=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),S=$=>g(es({id:$,action:"load",payload:{options:{lstmOnly:f,corePath:l.corePath,logging:l.logging}}})),j=($,L,D)=>g(es({id:D,action:"FS",payload:{method:"writeFile",args:[$,L]}})),k=($,L)=>g(es({id:L,action:"FS",payload:{method:"readFile",args:[$,{encoding:"utf8"}]}})),R=($,L)=>g(es({id:L,action:"FS",payload:{method:"unlink",args:[$]}})),F=($,L,D)=>g(es({id:D,action:"FS",payload:{method:$,args:L}})),B=($,L)=>g(es({id:L,action:"loadLanguage",payload:{langs:$,options:{langPath:l.langPath,dataPath:l.dataPath,cachePath:l.cachePath,cacheMethod:l.cacheMethod,gzip:l.gzip,lstmOnly:[Xa.DEFAULT,Xa.LSTM_ONLY].includes(m)&&!l.legacyLang}}})),_=($,L,D,u)=>g(es({id:u,action:"initialize",payload:{langs:$,oem:L,config:D}})),X=($="eng",L,D,u)=>{if(f&&[Xa.TESSERACT_ONLY,Xa.TESSERACT_LSTM_COMBINED].includes(L))throw Error("Legacy model requested but code missing.");const T=L||m;m=T;const A=D||p;p=A;const te=(typeof $=="string"?$.split("+"):$).filter(fe=>!d.includes(fe));return d.push(...te),te.length>0?B(te,u).then(()=>_($,T,A,u)):_($,T,A,u)},C=($={},L)=>g(es({id:L,action:"setParameters",payload:{params:$}})),P=async($,L={},D={text:!0},u)=>g(es({id:u,action:"recognize",payload:{image:await $v($),options:L,output:D}})),z=async($,L)=>{if(f)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return g(es({id:L,action:"detect",payload:{image:await $v($)}}))},W=async()=>(b!==null&&(iU(b),b=null),Promise.resolve());oU(b,({workerId:$,jobId:L,status:D,action:u,data:T})=>{const A=`${u}-${L}`;if(D==="resolve")Lv(`[${$}]: Complete ${L}`),c[A].resolve({jobId:L,data:T}),delete c[A];else if(D==="reject")if(c[A].reject(T),delete c[A],u==="load"&&x(T),o)o(T);else throw Error(T);else D==="progress"&&i({...T,userJobId:L})});const M={id:a,worker:b,load:w,writeText:j,readText:k,removeFile:R,FS:F,reinitialize:X,setParameters:C,recognize:P,detect:z,terminate:W};return S().then(()=>B(e)).then(()=>_(e,t,s)).then(()=>v(M)).catch(()=>{}),y};const oD=iD,cU=async(e,t,r)=>{const s=await oD(t,1,r);return s.recognize(e).finally(async()=>{await s.terminate()})},dU=async(e,t)=>{const r=await oD("osd",0,t);return r.detect(e).finally(async()=>{await r.terminate()})};var uU={recognize:cU,detect:dU},mU={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},hU={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const fU=hz,pU=iD,gU=uU,xU=mU,yU=aD,vU=hU,{setLogging:wU}=yl;var bU={languages:xU,OEM:yU,PSM:vU,createScheduler:fU,createWorker:pU,setLogging:wU,...gU};class jU{constructor(){this.worker=null}async initialize(){return this.worker||(this.worker=await bU.createWorker("eng")),this.worker}async extractText(t){try{const r=await this.initialize(),{data:{text:s}}=await r.recognize(t);return s}catch(r){throw console.error("OCR Error:",r),new Error("Failed to extract text from image")}}parseInsurancePolicyData(t){const r={},s=t.split(`
`).map(f=>f.trim()).filter(f=>f.length>0),a=[/(?:HDFC\s*ERGO|hdfc\s*ergo)/i,/(?:ICICI\s*Lombard|icici\s*lombard)/i,/(?:Bajaj\s*Allianz|bajaj\s*allianz)/i,/(?:TATA\s*AIG|tata\s*aig)/i,/(?:New\s*India\s*Assurance|new\s*india\s*assurance)/i,/(?:Oriental\s*Insurance|oriental\s*insurance)/i,/(?:United\s*India\s*Insurance|united\s*india\s*insurance)/i,/(?:National\s*Insurance|national\s*insurance)/i,/(?:Royal\s*Sundaram|royal\s*sundaram)/i,/(?:Reliance\s*General|reliance\s*general)/i];for(const f of s){for(const x of a){const v=f.match(x);if(v){r.provider=v[0].replace(/\s+/g," ").trim();break}}if(r.provider)break}const i=[/(?:Policy\s*No\.?|Policy\s*Number|Certificate\s*No\.?)\s*:?\s*([A-Z0-9\/\-]+)/i,/(?:^|\s)([A-Z]{2,4}[\/\-]?\d{6,12}[\/\-]?[A-Z0-9]*)/];for(const f of s){for(const x of i){const v=f.match(x);if(v){r.policyNumber=v[1]||v[0];break}}if(r.policyNumber)break}const o=[/(\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4})/g,/(\d{1,2}\s+(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)[a-z]*\s+\d{2,4})/gi,/(\d{2,4}[\/\-]\d{1,2}[\/\-]\d{1,2})/g],l=[];for(const f of s){if(/(?:issue|start|from|effective|inception)/i.test(f))for(const x of o){const v=f.match(x);if(v){r.insuredDate=this.formatDate(v[0]);break}}if(/(?:expir|valid|until|to|end)/i.test(f))for(const x of o){const v=f.match(x);if(v){r.expiryDate=this.formatDate(v[0]);break}}for(const x of o){const v=f.match(x);v&&l.push(...v.map(y=>this.formatDate(y)))}}!r.insuredDate&&!r.expiryDate&&l.length>=2&&(r.insuredDate=l[0],r.expiryDate=l[1]);const c=[/(?:Sum\s*Insured|IDV|Insured\s*Declared\s*Value)\s*:?\s*(?:Rs\.?|)?\s*([\d,]+(?:\.\d{2})?)/i,/(?:Rs\.?|)\s*([\d,]+(?:\.\d{2})?)\s*(?:Sum\s*Insured|IDV)/i,/(?:Coverage|Limit)\s*:?\s*(?:Rs\.?|)?\s*([\d,]+(?:\.\d{2})?)/i];for(const f of s){for(const x of c){const v=f.match(x);if(v){r.sumInsured=`${v[1].replace(/,/g,"")}`;break}}if(r.sumInsured)break}const d=[/(?:Premium|Total\s*Premium)\s*:?\s*(?:Rs\.?|)?\s*([\d,]+(?:\.\d{2})?)/i,/(?:Rs\.?|)\s*([\d,]+(?:\.\d{2})?)\s*(?:Premium|Total)/i];for(const f of s){for(const x of d){const v=f.match(x);if(v){r.premiumAmount=`${v[1].replace(/,/g,"")}`;break}}if(r.premiumAmount)break}const m=[/(?:Vehicle\s*No\.?|Registration\s*No\.?|Reg\.?\s*No\.?)\s*:?\s*([A-Z]{2}\s*\d{1,2}\s*[A-Z]{1,2}\s*\d{1,4})/i,/([A-Z]{2}\d{2}[A-Z]{1,2}\d{4})/,/([A-Z]{2}\s*\d{2}\s*[A-Z]{1,2}\s*\d{4})/];for(const f of s){for(const x of m){const v=f.match(x);if(v){r.vehicleNumber=v[1].replace(/\s+/g,"").toUpperCase();break}}if(r.vehicleNumber)break}const p=[/(?:Insured\s*Name|Policy\s*Holder|Name)\s*:?\s*([A-Z\s]{3,50})/i,/(?:Mr\.?|Mrs\.?|Ms\.?)\s*([A-Z\s]{3,50})/i];for(const f of s){for(const x of p){const v=f.match(x);if(v){r.insuredName=v[1].trim();break}}if(r.insuredName)break}return r}formatDate(t){try{let r;if(t.includes("/")){const s=t.split("/");s.length===3?parseInt(s[0])>12?r=new Date(parseInt(s[2]),parseInt(s[1])-1,parseInt(s[0])):r=new Date(parseInt(s[2]),parseInt(s[0])-1,parseInt(s[1])):r=new Date(t)}else t.includes("-")?r=new Date(t):r=new Date(t);return isNaN(r.getTime())?t:r.toISOString().split("T")[0]}catch{return t}}async terminate(){this.worker&&(await this.worker.terminate(),this.worker=null)}}const zv=new jU;function NU({onDataExtracted:e,onClose:t}){const[r,s]=h.useState(!1),[a,i]=h.useState(null),[o,l]=h.useState(""),[c,d]=h.useState(null),[m,p]=h.useState(null),f=N=>{var g;const b=(g=N.target.files)==null?void 0:g[0];if(b&&b.type.startsWith("image/")){d(b);const w=URL.createObjectURL(b);p(w),i(null),l("")}else ni({title:"Invalid File",description:"Please select an image file (JPG, PNG, etc.)",variant:"destructive"})},x=async()=>{if(!c){ni({title:"No Image Selected",description:"Please select an insurance policy image first",variant:"destructive"});return}s(!0);try{const N=await zv.extractText(c);l(N);const b=zv.parseInsurancePolicyData(N);i(b),ni({title:"OCR Complete",description:"Insurance policy data extracted successfully"})}catch(N){console.error("OCR Error:",N),ni({title:"OCR Failed",description:"Failed to extract text from image. Please try a clearer image.",variant:"destructive"})}finally{s(!1)}},v=()=>{a&&(e(a),t())},y=(N,b)=>{a&&i({...a,[N]:b})};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs(re,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(Me,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Fe,{className:"text-lg flex items-center gap-2",children:[n.jsx(pp,{className:"w-5 h-5"}),"Insurance Policy Scanner"]}),n.jsx(O,{variant:"ghost",size:"sm",onClick:t,children:""})]})}),n.jsxs(se,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(Re,{className:"text-sm font-medium",children:"Select Insurance Policy Image"}),n.jsx("div",{className:"flex justify-center",children:n.jsxs("div",{className:"relative w-full",children:[n.jsxs(O,{variant:"outline",size:"sm",className:"flex items-center gap-2 w-full",onClick:()=>{var N;return(N=document.getElementById("ocr-file-input"))==null?void 0:N.click()},children:[n.jsx(Rr,{className:"w-4 h-4"}),"Photos & Documents"]}),n.jsx("input",{id:"ocr-file-input",type:"file",accept:".jpg,.jpeg,.png,.gif,.bmp,.webp,.pdf,.doc,.docx,.txt",onChange:f,className:"hidden"})]})})]}),m&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Re,{className:"text-sm font-medium",children:"Selected Image"}),n.jsx("img",{src:m,alt:"Insurance policy preview",className:"w-full max-h-48 object-contain rounded-lg border"}),n.jsx(O,{onClick:x,disabled:r,className:"w-full",children:r?n.jsxs(n.Fragment,{children:[n.jsx(ro,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing Image..."]}):n.jsxs(n.Fragment,{children:[n.jsx(pp,{className:"w-4 h-4 mr-2"}),"Extract Insurance Data"]})})]}),r&&n.jsx(re,{className:"bg-blue-50 border-blue-200",children:n.jsx(se,{className:"p-3",children:n.jsxs("div",{className:"flex items-center gap-2 text-blue-700",children:[n.jsx(ro,{className:"w-4 h-4 animate-spin"}),n.jsx("span",{className:"text-sm",children:"Scanning document and extracting policy information..."})]})})}),a&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pn,{className:"w-5 h-5 text-green-600"}),n.jsx(Re,{className:"text-sm font-medium",children:"Extracted Insurance Data"}),n.jsx(ct,{variant:"secondary",children:"Editable"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx(Re,{className:"text-xs",children:"Insurance Provider"}),n.jsx(de,{value:a.provider||"",onChange:N=>y("provider",N.target.value),placeholder:"e.g., HDFC ERGO",className:"h-8"})]}),n.jsxs("div",{children:[n.jsx(Re,{className:"text-xs",children:"Policy Number"}),n.jsx(de,{value:a.policyNumber||"",onChange:N=>y("policyNumber",N.target.value),placeholder:"Policy number",className:"h-8"})]}),n.jsxs("div",{children:[n.jsx(Re,{className:"text-xs",children:"Insured Date"}),n.jsx(de,{type:"text",placeholder:"dd/mm/yyyy",value:a.insuredDate||"",onChange:N=>y("insuredDate",N.target.value),className:"h-8",maxLength:10})]}),n.jsxs("div",{children:[n.jsx(Re,{className:"text-xs",children:"Expiry Date"}),n.jsx(de,{type:"text",placeholder:"dd/mm/yyyy",value:a.expiryDate||"",onChange:N=>y("expiryDate",N.target.value),className:"h-8",maxLength:10})]}),n.jsxs("div",{children:[n.jsx(Re,{className:"text-xs",children:"Sum Insured"}),n.jsx(de,{value:a.sumInsured||"",onChange:N=>y("sumInsured",N.target.value),placeholder:"e.g., 500,000",className:"h-8"})]}),n.jsxs("div",{children:[n.jsx(Re,{className:"text-xs",children:"Premium Amount"}),n.jsx(de,{value:a.premiumAmount||"",onChange:N=>y("premiumAmount",N.target.value),placeholder:"e.g., 12,000",className:"h-8"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(Re,{className:"text-xs",children:"Insured Name"}),n.jsx(de,{value:a.insuredName||"",onChange:N=>y("insuredName",N.target.value),placeholder:"Policy holder name",className:"h-8"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(Re,{className:"text-xs",children:"Vehicle Number"}),n.jsx(de,{value:a.vehicleNumber||"",onChange:N=>y("vehicleNumber",N.target.value),placeholder:"e.g., KA01AB1234",className:"h-8"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(O,{onClick:v,className:"flex-1",children:[n.jsx(Pn,{className:"w-4 h-4 mr-2"}),"Use This Data"]}),n.jsx(O,{variant:"outline",onClick:()=>i(null),children:"Scan Again"})]})]}),o&&n.jsxs("details",{className:"space-y-2",children:[n.jsxs("summary",{className:"text-sm font-medium cursor-pointer flex items-center gap-2",children:[n.jsx(ul,{className:"w-4 h-4"}),"View Raw Extracted Text"]}),n.jsx(Hn,{value:o,readOnly:!0,className:"h-32 text-xs font-mono",placeholder:"Extracted text will appear here..."})]})]})]})})}function SU({file:e,onRename:t,onRemove:r}){const[s,a]=h.useState(!1),i=e.customName||e.name,[o,l]=h.useState(()=>{const f=i,x=f.lastIndexOf(".");return x>0?f.substring(0,x):f}),c=()=>{const f=i,x=f.lastIndexOf(".");l(x>0?f.substring(0,x):f),a(!0)},d=()=>{o.trim()&&(t(o.trim()),a(!1))},m=()=>{a(!1);const f=i,x=f.lastIndexOf(".");l(x>0?f.substring(0,x):f)},p=f=>{f.key==="Enter"?d():f.key==="Escape"&&m()};return n.jsxs("div",{className:"flex items-center justify-between p-1.5 bg-orange-50 border border-orange-100 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-1.5 flex-1 min-w-0",children:[n.jsx("div",{className:"w-5 h-5 bg-orange-100 rounded flex items-center justify-center shrink-0",children:n.jsx(Tt,{className:"w-2.5 h-2.5 text-orange-600"})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[s?n.jsx(de,{value:o,onChange:f=>l(f.target.value),onKeyDown:p,className:"h-6 text-xs font-medium p-1 border-orange-200 focus:border-orange-400",autoFocus:!0,onFocus:f=>f.target.select()}):n.jsx("p",{className:"text-xs font-medium truncate cursor-pointer",onClick:c,children:i}),n.jsxs("p",{className:"text-[10px] text-gray-500",children:[(e.size/1024/1024).toFixed(1)," MB"]})]})]}),n.jsx("div",{className:"flex items-center space-x-1 shrink-0",children:s?n.jsxs(n.Fragment,{children:[n.jsx(O,{type:"button",variant:"ghost",size:"sm",onClick:d,className:"text-green-600 hover:text-green-700 h-5 w-5 p-0",title:"Confirm rename",children:n.jsx(nn,{className:"w-2.5 h-2.5"})}),n.jsx(O,{type:"button",variant:"ghost",size:"sm",onClick:m,className:"text-gray-600 hover:text-gray-700 h-5 w-5 p-0",title:"Cancel rename",children:n.jsx(Kr,{className:"w-2.5 h-2.5"})})]}):n.jsxs(n.Fragment,{children:[n.jsx(O,{type:"button",variant:"ghost",size:"sm",onClick:c,className:"text-blue-600 hover:text-blue-700 h-5 w-5 p-0",title:"Rename file",children:n.jsx(hC,{className:"w-2.5 h-2.5"})}),n.jsx(O,{type:"button",variant:"ghost",size:"sm",onClick:r,className:"text-red-600 hover:text-red-700 h-5 w-5 p-0",title:"Remove file",children:""})]})})]})}function Uv(){var cr;const[,e]=Zt(),t=qa(),r=parseInt(t.id||"0");Oe.useEffect(()=>{const q=new URLSearchParams(window.location.search).get("edit");q&&qt.isUniqueDocumentType(q)&&(o(q),ge(!0))},[]);const{toast:s}=yt(),a=Jt(),[i,o]=h.useState("insurance"),[l,c]=h.useState([]),[d,m]=h.useState(""),[p,f]=h.useState(""),[x,v]=h.useState(""),[y,N]=h.useState(""),[b,g]=h.useState(""),[w,S]=h.useState(""),[j,k]=h.useState(""),[R,F]=h.useState(""),[B,_]=h.useState(""),[X,C]=h.useState(""),[P,z]=h.useState(""),[W,M]=h.useState(""),[$,L]=h.useState(""),[D,u]=h.useState(""),[T,A]=h.useState("");h.useState(!1);const[U,te]=h.useState(!1);h.useState(!1);const[fe,pe]=h.useState(null),[G,ne]=h.useState(null),[oe,ge]=h.useState(!1),{data:Z,isLoading:be}=We({queryKey:["/api/vehicles",r],queryFn:async()=>{const E=localStorage.getItem("currentUserId")||localStorage.getItem("userId")||"1";return(await Pe("GET",`/api/vehicles/${r}?userId=${E}`)).json()},enabled:!!r}),qe=async E=>{var q,I,H,J,ee,xe,Xe;if(qt.isUniqueDocumentType(E)){const He=await qt.getExistingDocumentByType(r,E);ne(He||null),He&&He.metadata&&(m(He.metadata.expiryDate||""),f(He.metadata.documentName||""),v(((q=He.metadata.billAmount)==null?void 0:q.toString())||""),N(((I=He.metadata.taxAmount)==null?void 0:I.toString())||""),g(((H=He.metadata.permitFee)==null?void 0:H.toString())||""),S(((J=He.metadata.rechargeAmount)==null?void 0:J.toString())||""),k(He.metadata.insuranceExpiryDate||""),F(He.metadata.insuranceIssuedDate||""),_(((ee=He.metadata.sumInsured)==null?void 0:ee.toString())||""),C(((xe=He.metadata.insurancePremium)==null?void 0:xe.toString())||""),z(He.metadata.insuranceProvider||""),M(He.metadata.receiptDate||""),L(He.metadata.claimInsuranceProvider||""),u(He.metadata.claimSettlementDate||""),A(((Xe=He.metadata.claimAmount)==null?void 0:Xe.toString())||""))}else ne(null)};Oe.useEffect(()=>{r&&i&&qe(i)},[r,i]);const he=[{value:"emission",label:"Emission Certificate",icon:Tt,requiresExpiry:!0},{value:"insurance",label:"Insurance Copy",icon:Tt,requiresExpiry:!0},{value:"rc",label:"RC Book Copy",icon:Tt,requiresExpiry:!0},{value:"fuel",label:"Fuel Bills",icon:Rn,requiresExpiry:!1},{value:"road_tax",label:"Road Tax",icon:Tt,requiresExpiry:!0},{value:"travel_permits",label:"Travel Permits",icon:Tt,requiresExpiry:!0},{value:"fitness_certificate",label:"Fitness Certificate",icon:Tt,requiresExpiry:!0},{value:"fast_tag_renewals",label:"Fast Tag Renewals",icon:Tt,requiresExpiry:!0},{value:"parking_receipts",label:"Parking Receipts",icon:Tt,requiresExpiry:!1},{value:"claims_on_insurance",label:"Claims on Insurance",icon:Tt,requiresExpiry:!1},{value:"miscellaneous",label:"Miscellaneous",icon:Oy,requiresExpiry:!1}],le=he.find(E=>E.value===i),Ge=async E=>{pe(E),E.expiryDate&&m(E.expiryDate);try{const q=localStorage.getItem("currentUserId")||localStorage.getItem("userId")||"1";await Pe("PUT",`/api/vehicles/${r}/ocr-data?userId=${q}`,{ocrPolicyNumber:E.policyNumber,ocrSumInsured:E.sumInsured,ocrPremiumAmount:E.premiumAmount,ocrInsuredName:E.insuredName}),s({title:"Insurance Data Extracted",description:"Policy information has been automatically extracted and saved."})}catch(q){console.error("Failed to save OCR data:",q)}},at=E=>{c(q=>q.filter((I,H)=>H!==E))},ht=(E,q)=>{c(I=>I.map((H,J)=>{if(J===E){const ee=H.name.split(".").pop()||"",xe=q.endsWith(`.${ee}`)?q:`${q}.${ee}`,Xe=H;return Xe.customName=xe,Xe}return H}))},Ye=rt({mutationFn:async()=>{if(l.length===0&&i!=="fast_tag_renewals"&&i!=="insurance"&&i!=="claims_on_insurance")throw new Error("Please select at least one file to upload");const E=[];if(l.length===0&&(i==="fast_tag_renewals"||i==="insurance")){const q={};i==="fast_tag_renewals"?(d&&(q.expiryDate=d),w&&(q.rechargeAmount=parseFloat(w))):i==="insurance"&&(j&&(q.insuranceExpiryDate=j),B&&(q.sumInsured=parseFloat(B)),X&&(q.insurancePremium=parseFloat(X)),P&&(q.insuranceProvider=P));const I=await qt.storeOrReplaceDocument(r,i,null,q,i==="fast_tag_renewals"?`Fast Tag Recharge - ${new Date().toLocaleDateString()}`:`Insurance Details - ${new Date().toLocaleDateString()}`);E.push(I)}for(const q of l){const I={};i==="fuel"&&d?(I.billDate=d,x&&(I.billAmount=parseFloat(x))):i==="road_tax"?(d&&(I.expiryDate=d),y&&(I.taxAmount=parseFloat(y))):i==="travel_permits"?(d&&(I.expiryDate=d),b&&(I.permitFee=parseFloat(b))):i==="fast_tag_renewals"?(d&&(I.expiryDate=d),w&&(I.rechargeAmount=parseFloat(w))):i==="insurance"?(j&&(I.insuranceExpiryDate=j),R&&(I.insuranceIssuedDate=R),B&&(I.sumInsured=parseFloat(B)),X&&(I.insurancePremium=parseFloat(X)),P&&(I.insuranceProvider=P)):i==="parking_receipts"&&W?I.receiptDate=W:i==="claims_on_insurance"?($&&(I.claimInsuranceProvider=$),D&&(I.claimSettlementDate=D),T&&(I.claimAmount=parseFloat(T))):i==="miscellaneous"&&p?I.documentName=p:le!=null&&le.requiresExpiry&&d&&(I.expiryDate=d);let H=q;const J=q.customName;let ee;oe&&G&&qt.isUniqueDocumentType(i)?ee=await qt.updateDocument(G.id,H,I,J):ee=await qt.storeOrReplaceDocument(r,i,H,I,J),E.push(ee)}return E},onSuccess:async()=>{a.invalidateQueries({queryKey:["local-documents",r]}),a.invalidateQueries({queryKey:["/api/vehicles"]}),a.invalidateQueries({queryKey:["/api/stats"]});const E=oe&&G?"updated":"saved",q=l.length===0&&i==="fast_tag_renewals"?"metadata entry":`${l.length} document(s)`;s({title:`Document${l.length===1?"":"s"} ${E.charAt(0).toUpperCase()+E.slice(1)}`,description:`Successfully ${E} ${q} on your device.`}),c([]),m(""),f(""),v(""),N(""),g(""),S(""),M(""),L(""),u(""),A(""),ge(!1),await qe(i),e(`/vehicle/${r}/local-documents`)},onError:E=>{s({title:"Save Failed",description:E.message||"Failed to save documents locally",variant:"destructive"})}}),xt=()=>{Ye.mutate()};return be?n.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Rr,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4 animate-pulse"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading vehicle details..."})]})}):Z?n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"header-gradient-border shadow-lg relative z-10",children:n.jsx("div",{className:"px-3 py-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(O,{variant:"ghost",size:"icon",className:"text-gray-600 hover:bg-red-50 h-8 w-8",onClick:()=>e("/"),children:n.jsx(Pt,{className:"w-4 h-4"})}),n.jsx("img",{src:bt,alt:"Myymotto Logo",className:"w-8 h-8 rounded-lg"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-bold",children:n.jsx(dt,{})}),n.jsx("p",{className:"text-xs text-red-600",children:"Upload Documents"})]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(O,{variant:"ghost",size:"icon",className:"text-gray-600 hover:bg-red-50 h-8 w-8",children:n.jsx(jr,{className:"w-4 h-4"})}),n.jsx(Be,{href:"/settings",children:n.jsx(O,{variant:"ghost",size:"icon",className:"text-gray-600 hover:bg-red-50 h-8 w-8",children:n.jsx(sr,{className:"w-4 h-4"})})})]})]})})}),n.jsxs("div",{className:"p-2 pb-20 bg-warm-pattern",children:[n.jsx(re,{className:"mb-2 shadow-orange border-l-4 border-l-blue-500",children:n.jsx(se,{className:"p-2",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[Z.thumbnailPath?n.jsx("img",{src:Z.thumbnailPath,alt:`${Z.make} ${Z.model}`,className:"w-8 h-8 object-cover rounded-lg shadow-md"}):n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center shadow-md",children:n.jsx(Tt,{className:"w-4 h-4 text-white"})}),n.jsxs("div",{children:[n.jsxs("h3",{className:"font-medium text-gray-800 text-xs",children:[(cr=Z.make)==null?void 0:cr.toUpperCase()," ",Z.model," (",Z.year,")"]}),n.jsx("p",{className:"text-[10px] text-gray-600",children:Z.licensePlate})]})]})})}),G&&qt.isUniqueDocumentType(i)&&n.jsxs(re,{className:"card-hover shadow-blue border-l-4 border-l-blue-500",children:[n.jsx(Me,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-t-lg py-1.5",children:n.jsxs(Fe,{className:"flex items-center justify-between text-gray-800 text-xs",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-5 h-5 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(Tt,{className:"w-3 h-3 text-blue-600"})}),n.jsxs("span",{children:["Existing ",le==null?void 0:le.label]})]}),n.jsxs(O,{type:"button",variant:"ghost",size:"sm",onClick:()=>ge(!oe),className:"text-blue-600 hover:text-blue-700 h-6 text-xs px-2",children:[n.jsx(hC,{className:"w-3 h-3 mr-1"}),oe?"Cancel Edit":"Edit"]})]})}),n.jsxs(se,{className:"p-2",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-2",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"text-xs font-medium text-blue-800",children:G.fileName}),n.jsxs("span",{className:"text-[10px] text-blue-600",children:[(G.fileSize/1024/1024).toFixed(1)," MB"]})]}),G.metadata&&n.jsxs("div",{className:"text-[10px] text-blue-700 space-y-0.5",children:[G.metadata.expiryDate&&n.jsxs("p",{children:["Expiry: ",new Date(G.metadata.expiryDate).toLocaleDateString()]}),G.metadata.insuranceProvider&&n.jsxs("p",{children:["Provider: ",G.metadata.insuranceProvider]}),G.metadata.insuranceExpiryDate&&n.jsxs("p",{children:["Insurance Expiry: ",new Date(G.metadata.insuranceExpiryDate).toLocaleDateString()]}),G.metadata.sumInsured&&n.jsxs("p",{children:["Sum Insured: ",G.metadata.sumInsured.toLocaleString()]}),G.metadata.insurancePremium&&n.jsxs("p",{children:["Premium: ",G.metadata.insurancePremium.toLocaleString()]}),G.metadata.taxAmount&&n.jsxs("p",{children:["Tax Amount: ",G.metadata.taxAmount.toLocaleString()]}),G.metadata.permitFee&&n.jsxs("p",{children:["Permit Fee: ",G.metadata.permitFee.toLocaleString()]})]}),n.jsxs("p",{className:"text-[9px] text-blue-600 mt-1",children:["Uploaded: ",new Date(G.uploadedAt).toLocaleDateString()]})]}),!oe&&n.jsxs("p",{className:"text-xs text-blue-700 mt-2 text-center",children:["Only one ",le==null?void 0:le.label," allowed per vehicle. Click Edit to update."]})]})]}),(!qt.isUniqueDocumentType(i)||!G||oe)&&n.jsxs(re,{className:"card-hover shadow-orange border-l-4 border-l-orange-500",children:[n.jsx(Me,{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-t-lg py-1.5",children:n.jsxs(Fe,{className:"flex items-center space-x-2 text-gray-800 text-xs",children:[n.jsx("div",{className:"w-5 h-5 bg-orange-100 rounded-full flex items-center justify-center",children:n.jsx(Rr,{className:"w-3 h-3 text-orange-600"})}),n.jsx("span",{children:oe&&G?`Update ${le==null?void 0:le.label}`:"Upload Documents"})]})}),n.jsxs(se,{className:"p-2 space-y-2",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(Re,{htmlFor:"document-type",className:"text-xs font-medium",children:"Document Type"}),n.jsxs(Ot,{value:i,onValueChange:E=>{o(E),ge(!1),m(""),f(""),v(""),N(""),g(""),S(""),k(""),F(""),_(""),C(""),z(""),M(""),L(""),u(""),A("")},children:[n.jsx(Dt,{className:"h-8",children:n.jsx(Lt,{placeholder:"Select document type"})}),n.jsx(It,{children:he.map(E=>n.jsx(ie,{value:E.value,children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(E.icon,{className:"w-4 h-4"}),n.jsx("span",{children:E.label})]})},E.value))})]})]}),(le==null?void 0:le.requiresExpiry)&&i!=="insurance"&&n.jsxs("div",{className:"space-y-1",children:[n.jsx(Re,{htmlFor:"expiry-date",className:"text-xs font-medium",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Ft,{className:"w-3 h-3"}),n.jsx("span",{children:i==="emission"?"Emission Certificate Expiry Date":"Expiry Date"})]})}),n.jsx(de,{id:"expiry-date",type:"date",className:"h-8",value:d,onChange:E=>m(E.target.value),max:void 0})]}),i==="insurance"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(Re,{htmlFor:"insurance-provider",className:"text-xs font-medium",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Tt,{className:"w-3 h-3"}),n.jsx("span",{children:"Insurance Provider"})]})}),n.jsxs(Ot,{value:P,onValueChange:z,children:[n.jsx(Dt,{className:"h-8",children:n.jsx(Lt,{placeholder:"Select insurance provider"})}),n.jsxs(It,{children:[n.jsx(ie,{value:"HDFC ERGO",children:"HDFC ERGO General Insurance"}),n.jsx(ie,{value:"ICICI Lombard",children:"ICICI Lombard General Insurance"}),n.jsx(ie,{value:"Bajaj Allianz",children:"Bajaj Allianz General Insurance"}),n.jsx(ie,{value:"New India Assurance",children:"New India Assurance"}),n.jsx(ie,{value:"National Insurance",children:"National Insurance Company"}),n.jsx(ie,{value:"Oriental Insurance",children:"Oriental Insurance"}),n.jsx(ie,{value:"United India Insurance",children:"United India Insurance"}),n.jsx(ie,{value:"TATA AIG",children:"TATA AIG General Insurance"}),n.jsx(ie,{value:"Reliance General",children:"Reliance General Insurance"}),n.jsx(ie,{value:"Royal Sundaram",children:"Royal Sundaram General Insurance"}),n.jsx(ie,{value:"Future Generali",children:"Future Generali India Insurance"}),n.jsx(ie,{value:"Kotak Mahindra",children:"Kotak Mahindra General Insurance"}),n.jsx(ie,{value:"Bharti AXA",children:"Bharti AXA General Insurance"}),n.jsx(ie,{value:"Cholamandalam MS",children:"Cholamandalam MS General Insurance"}),n.jsx(ie,{value:"Liberty General",children:"Liberty General Insurance"}),n.jsx(ie,{value:"SBI General",children:"SBI General Insurance"}),n.jsx(ie,{value:"Digit Insurance",children:"Digit General Insurance"}),n.jsx(ie,{value:"Go Digit",children:"Go Digit General Insurance"}),n.jsx(ie,{value:"Acko General",children:"ACKO General Insurance"}),n.jsx(ie,{value:"Magma HDI",children:"Magma HDI General Insurance"}),n.jsx(ie,{value:"Universal Sompo",children:"Universal Sompo General Insurance"}),n.jsx(ie,{value:"Iffco Tokio",children:"IFFCO Tokio General Insurance"}),n.jsx(ie,{value:"Shriram General",children:"Shriram General Insurance"}),n.jsx(ie,{value:"Raheja QBE",children:"Raheja QBE General Insurance"}),n.jsx(ie,{value:"L&T General",children:"L&T General Insurance"}),n.jsx(ie,{value:"Other",children:"Other"})]})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Re,{htmlFor:"insurance-issued-date",className:"text-xs font-medium",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Ft,{className:"w-3 h-3"}),n.jsx("span",{children:"Insured Date"})]})}),n.jsx(de,{id:"insurance-issued-date",type:"date",className:"h-8",value:R,onChange:E=>F(E.target.value),max:new Date().toISOString().split("T")[0]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Re,{htmlFor:"insurance-expiry-date",className:"text-xs font-medium",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Ft,{className:"w-3 h-3"}),n.jsx("span",{children:"Insurance Expiry Date"})]})}),n.jsx(de,{id:"insurance-expiry-date",type:"date",className:"h-8",value:j,onChange:E=>k(E.target.value)})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Re,{htmlFor:"sum-insured",className:"text-xs font-medium",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Rn,{className:"w-3 h-3"}),n.jsx("span",{children:"Sum Insured For ()"})]})}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-xs",children:""}),n.jsx(de,{id:"sum-insured",type:"number",className:"h-8 pl-8",value:B,onChange:E=>_(E.target.value),placeholder:"Enter sum insured amount",min:"0",step:"1"})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Re,{htmlFor:"insurance-premium",className:"text-xs font-medium",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Rn,{className:"w-3 h-3"}),n.jsx("span",{children:"Insurance Premium ()"})]})}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-xs",children:""}),n.jsx(de,{id:"insurance-premium",type:"number",className:"h-8 pl-8",value:X,onChange:E=>C(E.target.value),placeholder:"Enter premium amount",min:"0",step:"0.01"})]})]})]}),i==="fuel"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(Re,{htmlFor:"bill-date",className:"text-xs font-medium",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Ft,{className:"w-3 h-3"}),n.jsx("span",{children:"Bill Date"})]})}),n.jsx(de,{id:"bill-date",type:"date",className:"h-8",value:d,onChange:E=>m(E.target.value),max:new Date().toISOString().split("T")[0]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Re,{htmlFor:"bill-amount",className:"text-xs font-medium",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Rn,{className:"w-3 h-3"}),n.jsx("span",{children:"Bill Amount ()"})]})}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-xs",children:""}),n.jsx(de,{id:"bill-amount",type:"number",className:"h-8 pl-8",value:x,onChange:E=>v(E.target.value),placeholder:"Enter bill amount",min:"0",step:"0.01"})]})]})]}),i==="road_tax"&&n.jsxs("div",{className:"space-y-1",children:[n.jsx(Re,{htmlFor:"tax-amount",className:"text-xs font-medium",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Rn,{className:"w-3 h-3"}),n.jsx("span",{children:"Tax Amount ()"})]})}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-xs",children:""}),n.jsx(de,{id:"tax-amount",type:"number",className:"h-8 pl-8",value:y,onChange:E=>N(E.target.value),placeholder:"Enter tax amount paid",min:"0",step:"0.01"})]})]}),i==="travel_permits"&&n.jsxs("div",{className:"space-y-1",children:[n.jsx(Re,{htmlFor:"permit-fee",className:"text-xs font-medium",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Rn,{className:"w-3 h-3"}),n.jsx("span",{children:"Permit Fee ()"})]})}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-xs",children:""}),n.jsx(de,{id:"permit-fee",type:"number",className:"h-8 pl-8",value:b,onChange:E=>g(E.target.value),placeholder:"Enter permit fee paid",min:"0",step:"0.01"})]})]}),i==="fast_tag_renewals"&&n.jsxs("div",{className:"space-y-1",children:[n.jsx(Re,{htmlFor:"recharge-amount",className:"text-xs font-medium",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Rn,{className:"w-3 h-3"}),n.jsx("span",{children:"Recharge Amount ()"})]})}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-xs",children:""}),n.jsx(de,{id:"recharge-amount",type:"number",className:"h-8 pl-8",value:w,onChange:E=>S(E.target.value),placeholder:"Enter recharge amount",min:"0",step:"0.01"})]})]}),i==="parking_receipts"&&n.jsxs("div",{className:"space-y-1",children:[n.jsx(Re,{htmlFor:"receipt-date",className:"text-xs font-medium",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Ft,{className:"w-3 h-3"}),n.jsx("span",{children:"Receipt Date"})]})}),n.jsx(de,{id:"receipt-date",type:"date",className:"h-8",value:W,onChange:E=>M(E.target.value),max:new Date().toISOString().split("T")[0]})]}),i==="claims_on_insurance"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(Re,{htmlFor:"claim-insurance-provider",className:"text-xs font-medium",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Tt,{className:"w-3 h-3"}),n.jsx("span",{children:"Insurance Provider (Who settled the claim)"})]})}),n.jsxs(Ot,{value:$,onValueChange:L,children:[n.jsx(Dt,{className:"h-8",children:n.jsx(Lt,{placeholder:"Select insurance provider"})}),n.jsxs(It,{children:[n.jsx(ie,{value:"HDFC ERGO",children:"HDFC ERGO General Insurance"}),n.jsx(ie,{value:"ICICI Lombard",children:"ICICI Lombard General Insurance"}),n.jsx(ie,{value:"Bajaj Allianz",children:"Bajaj Allianz General Insurance"}),n.jsx(ie,{value:"New India Assurance",children:"New India Assurance"}),n.jsx(ie,{value:"National Insurance",children:"National Insurance Company"}),n.jsx(ie,{value:"Oriental Insurance",children:"Oriental Insurance"}),n.jsx(ie,{value:"United India Insurance",children:"United India Insurance"}),n.jsx(ie,{value:"TATA AIG",children:"TATA AIG General Insurance"}),n.jsx(ie,{value:"Reliance General",children:"Reliance General Insurance"}),n.jsx(ie,{value:"Royal Sundaram",children:"Royal Sundaram General Insurance"}),n.jsx(ie,{value:"Future Generali",children:"Future Generali India Insurance"}),n.jsx(ie,{value:"Kotak Mahindra",children:"Kotak Mahindra General Insurance"}),n.jsx(ie,{value:"Bharti AXA",children:"Bharti AXA General Insurance"}),n.jsx(ie,{value:"Cholamandalam MS",children:"Cholamandalam MS General Insurance"}),n.jsx(ie,{value:"Liberty General",children:"Liberty General Insurance"}),n.jsx(ie,{value:"SBI General",children:"SBI General Insurance"}),n.jsx(ie,{value:"Digit Insurance",children:"Digit General Insurance"}),n.jsx(ie,{value:"Go Digit",children:"Go Digit General Insurance"}),n.jsx(ie,{value:"Acko General",children:"ACKO General Insurance"}),n.jsx(ie,{value:"Magma HDI",children:"Magma HDI General Insurance"}),n.jsx(ie,{value:"Universal Sompo",children:"Universal Sompo General Insurance"}),n.jsx(ie,{value:"Iffco Tokio",children:"IFFCO Tokio General Insurance"}),n.jsx(ie,{value:"Shriram General",children:"Shriram General Insurance"}),n.jsx(ie,{value:"Raheja QBE",children:"Raheja QBE General Insurance"}),n.jsx(ie,{value:"L&T General",children:"L&T General Insurance"}),n.jsx(ie,{value:"Other",children:"Other"})]})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Re,{htmlFor:"claim-settlement-date",className:"text-xs font-medium",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Ft,{className:"w-3 h-3"}),n.jsx("span",{children:"Claim Settlement Date"})]})}),n.jsx(de,{id:"claim-settlement-date",type:"date",className:"h-8",value:D,onChange:E=>u(E.target.value),max:new Date().toISOString().split("T")[0]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Re,{htmlFor:"claim-amount",className:"text-xs font-medium",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Rn,{className:"w-3 h-3"}),n.jsx("span",{children:"Claim / Settlement Amount ()"})]})}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-xs",children:""}),n.jsx(de,{id:"claim-amount",type:"number",className:"h-8 pl-8",value:T,onChange:E=>A(E.target.value),placeholder:"Enter claim amount",min:"0",step:"0.01"})]})]})]}),i==="miscellaneous"&&n.jsxs("div",{className:"space-y-1",children:[n.jsx(Re,{htmlFor:"document-name",className:"text-xs font-medium",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Oy,{className:"w-3 h-3"}),n.jsx("span",{children:"Document Type/Name"})]})}),n.jsx(de,{id:"document-name",type:"text",className:"h-8",value:p,onChange:E=>f(E.target.value),placeholder:"Enter document type or name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Re,{className:"text-xs font-medium",children:["Upload Files ",(i==="fast_tag_renewals"||i==="insurance"||i==="claims_on_insurance")&&n.jsx("span",{className:"text-gray-500",children:"(Optional)"})]}),n.jsx("div",{className:"flex justify-center",children:n.jsxs(O,{type:"button",variant:"outline",onClick:()=>{const E=document.createElement("input");E.type="file",E.accept=".jpg,.jpeg,.png,.gif,.bmp,.webp,.pdf,.doc,.docx,.txt,.rtf,.odt,.xls,.xlsx,.ppt,.pptx",E.multiple=!0,E.onchange=q=>{const I=q.target.files;if(I){const H=Array.from(I);c(J=>[...J,...H])}},E.click()},className:"h-10 flex items-center justify-center border-green-300 text-green-700 hover:bg-green-50 w-full",children:[n.jsx(Rr,{className:"w-4 h-4 mr-2"}),n.jsx("span",{className:"text-xs",children:"Photos & Documents"})]})}),i==="insurance"&&n.jsxs(O,{type:"button",variant:"outline",onClick:()=>te(!0),className:"h-8 flex items-center justify-center w-full bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200 mt-2",children:[n.jsx(pp,{className:"w-3 h-3 mr-1"}),n.jsx("span",{className:"text-xs",children:"Scan Policy"})]}),n.jsx("p",{className:"text-[10px] text-gray-500 text-center",children:"Supported: JPEG, PNG, WebP, PDF  Max: 10MB per file"})]}),l.length>0&&n.jsxs("div",{className:"space-y-1",children:[n.jsxs(Re,{className:"text-xs font-medium",children:["Selected Files (",l.length,")"]}),n.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:l.map((E,q)=>n.jsx(SU,{file:E,index:q,onRename:I=>ht(q,I),onRemove:()=>at(q)},q))})]}),n.jsxs("div",{className:"flex space-x-2 pt-1",children:[n.jsx(O,{type:"button",variant:"outline",className:"flex-1 h-8 text-xs",onClick:()=>e("/"),children:"Cancel"}),n.jsx(O,{onClick:xt,disabled:l.length===0&&i!=="fast_tag_renewals"&&i!=="insurance"&&i!=="claims_on_insurance"||Ye.isPending,className:"flex-1 h-8 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-xs",children:Ye.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Rr,{className:"w-3 h-3 mr-1 animate-spin"}),"Uploading..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Pn,{className:"w-3 h-3 mr-1"}),"Upload ",l.length||""," ",l.length===1?"File":"Files"]})})]})]})]})]}),U&&n.jsx(NU,{onDataExtracted:Ge,onClose:()=>te(!1)}),fe&&i==="insurance"&&n.jsxs(re,{className:"mt-2 mx-2 shadow-orange border-l-4 border-l-purple-500",children:[n.jsx(Me,{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-t-lg py-1.5",children:n.jsxs(Fe,{className:"flex items-center space-x-2 text-gray-800 text-xs",children:[n.jsx("div",{className:"w-5 h-5 bg-purple-100 rounded-full flex items-center justify-center",children:n.jsx(Pn,{className:"w-3 h-3 text-purple-600"})}),n.jsx("span",{children:"Extracted Insurance Data"})]})}),n.jsx(se,{className:"p-2",children:n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[fe.provider&&n.jsxs("div",{children:[n.jsx(Re,{className:"text-[10px] text-gray-600",children:"Provider"}),n.jsx("p",{className:"font-medium",children:fe.provider})]}),fe.policyNumber&&n.jsxs("div",{children:[n.jsx(Re,{className:"text-[10px] text-gray-600",children:"Policy Number"}),n.jsx("p",{className:"font-medium",children:fe.policyNumber})]}),fe.sumInsured&&n.jsxs("div",{children:[n.jsx(Re,{className:"text-[10px] text-gray-600",children:"Sum Insured"}),n.jsx("p",{className:"font-medium text-green-600",children:fe.sumInsured})]}),fe.premiumAmount&&n.jsxs("div",{children:[n.jsx(Re,{className:"text-[10px] text-gray-600",children:"Premium"}),n.jsx("p",{className:"font-medium text-blue-600",children:fe.premiumAmount})]}),fe.insuredName&&n.jsxs("div",{className:"col-span-2",children:[n.jsx(Re,{className:"text-[10px] text-gray-600",children:"Insured Name"}),n.jsx("p",{className:"font-medium",children:fe.insuredName})]})]})})]})]}):n.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Tt,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Vehicle not found"}),n.jsx(O,{className:"mt-4",onClick:()=>e("/"),children:"Go Back to Dashboard"})]})})}function CU(){var X;const[,e]=Zt(),t=qa(),r=parseInt(t.id||"0"),{toast:s}=yt(),[a,i]=h.useState([]),[o,l]=h.useState(!0),[c,d]=h.useState({used:0,available:0}),[m,p]=h.useState({fuel:!0,parking_receipts:!0});h.useState(null);const{data:f,isLoading:x}=We({queryKey:["/api/vehicles",r],queryFn:async()=>{const C=localStorage.getItem("currentUserId")||localStorage.getItem("userId")||"1";return(await Pe("GET",`/api/vehicles/${r}?userId=${C}`)).json()},enabled:!!r}),v={emission:{label:"Emission Certificates",color:"bg-green-500"},insurance:{label:"Insurance Documents",color:"bg-blue-500"},service:{label:"Service Invoices",color:"bg-orange-500"},rc:{label:"RC Book Copies",color:"bg-purple-500"},fuel:{label:"Fuel Bills",color:"bg-yellow-500"},parking_receipts:{label:"Parking Receipts",color:"bg-cyan-500"},claims_on_insurance:{label:"Claims on Insurance",color:"bg-emerald-500"},road_tax:{label:"Road Tax",color:"bg-red-500"},travel_permits:{label:"Travel Permits",color:"bg-indigo-500"},fitness_certificate:{label:"Fitness Certificate",color:"bg-teal-500"},fast_tag_renewals:{label:"Fast Tag Renewals",color:"bg-pink-500"},miscellaneous:{label:"Miscellaneous Documents",color:"bg-gray-500"}};h.useEffect(()=>{y(),N()},[r]);const y=async()=>{try{l(!0);const C=await qt.getDocumentsByVehicle(r);console.log("Loaded documents:",C.length,C),i(C)}catch(C){console.error("Error loading documents:",C),s({title:"Error",description:"Failed to load documents from local storage",variant:"destructive"})}finally{l(!1)}},N=async()=>{const C=await qt.getStorageInfo();d(C)},b=C=>{if(!C.fileData||C.fileData.byteLength===0){s({title:"View Document",description:"No file available to preview - this is a metadata-only entry",variant:"destructive"});return}try{console.log("Opening document:",{fileName:C.fileName,mimeType:C.mimeType,fileSize:C.fileSize,dataLength:C.fileData.byteLength,firstBytes:Array.from(new Uint8Array(C.fileData.slice(0,10))).map(L=>L.toString(16)).join(" ")});let P=C.mimeType||"application/octet-stream";const z=C.fileName.toLowerCase();z.endsWith(".pdf")?P="application/pdf":z.endsWith(".jpg")||z.endsWith(".jpeg")?P="image/jpeg":z.endsWith(".png")?P="image/png":z.endsWith(".gif")?P="image/gif":z.endsWith(".txt")&&(P="text/plain"),console.log("Using MIME type:",P);const W=new Blob([C.fileData],{type:P}),M=URL.createObjectURL(W);console.log("Created blob URL:",M);const $=window.open("","_blank");if($)$.location.href=M,s({title:"Document Opened",description:`${C.fileName} opened in new tab`});else{const L=window.document.createElement("a");L.href=M,L.download=C.fileName,L.style.display="none",window.document.body.appendChild(L),L.click(),setTimeout(()=>{window.document.body.removeChild(L)},100),s({title:"Download Started",description:`${C.fileName} is being downloaded`})}setTimeout(()=>{URL.revokeObjectURL(M)},3e4)}catch(P){console.error("Error opening document:",P),s({title:"Error Opening File",description:`Failed to open ${C.fileName}. Check console for details.`,variant:"destructive"})}},g=C=>{if(!C.fileData||C.fileData.byteLength===0){s({title:"Download Failed",description:"No file data available",variant:"destructive"});return}try{console.log("Downloading PDF:",C.fileName);const P=new Blob([C.fileData],{type:"application/pdf"}),z=URL.createObjectURL(P),W=window.document.createElement("a");W.href=z,W.download=C.fileName,W.style.display="none",window.document.body.appendChild(W),W.click(),window.document.body.removeChild(W),s({title:"Download Started",description:`${C.fileName} is being downloaded`}),setTimeout(()=>{URL.revokeObjectURL(z)},1e4)}catch(P){console.error("Error downloading PDF:",P),s({title:"Download Failed",description:"Failed to download PDF file",variant:"destructive"})}},w=async C=>{try{await qt.deleteDocument(C.id),i(P=>P.filter(z=>z.id!==C.id)),s({title:"Document Deleted",description:"Document removed from local storage"}),N()}catch{s({title:"Delete Failed",description:"Failed to delete document",variant:"destructive"})}},S=C=>{if(C===0)return"0 Bytes";const P=1024,z=["Bytes","KB","MB","GB"],W=Math.floor(Math.log(C)/Math.log(P));return parseFloat((C/Math.pow(P,W)).toFixed(2))+" "+z[W]},j=C=>new Date(C).toLocaleDateString(),k=C=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(C),R=C=>{const P=new Date().getFullYear();return C.reduce((z,W)=>{var M,$;return(M=W.metadata)!=null&&M.billDate&&(($=W.metadata)!=null&&$.billAmount)&&new Date(W.metadata.billDate).getFullYear()===P?z+W.metadata.billAmount:z},0)},F=C=>{if(!C)return{status:"unknown",color:"gray",text:"No expiry"};const P=new Date(C),z=new Date,W=Math.ceil((P.getTime()-z.getTime())/(1e3*60*60*24));return W<0?{status:"expired",color:"red",text:"Expired"}:W<=7?{status:"critical",color:"red",text:`${W}d left`}:W<=30?{status:"warning",color:"orange",text:`${W}d left`}:W<=90?{status:"due_soon",color:"yellow",text:`${W}d left`}:{status:"active",color:"green",text:`${W}d left`}},B=C=>{p(P=>({...P,[C]:!P[C]}))},_=a.reduce((C,P)=>(C[P.type]||(C[P.type]=[]),C[P.type].push(P),C),{});return o||x?n.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Tt,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4 animate-pulse"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading vehicle documents..."})]})}):f?n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"header-gradient-border sticky top-0 z-10 bg-white px-3 py-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(O,{variant:"ghost",size:"sm",onClick:()=>e("/"),className:"text-gray-600 hover:bg-red-50 p-1",children:n.jsx(Pt,{className:"w-4 h-4"})}),n.jsx("img",{src:bt,alt:"Myymotto Logo",className:"w-12 h-12 rounded-lg"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-base font-bold",children:n.jsx(dt,{})}),n.jsx("p",{className:"text-xs text-red-600",children:"Vehicle Documents"})]})]}),n.jsx("div",{className:"w-8"})]})}),n.jsxs("div",{className:"p-1.5 pb-20 bg-warm-pattern",children:[n.jsx(re,{className:"mb-1.5 shadow-orange border-l-4 border-l-blue-500",children:n.jsx(se,{className:"p-1.5",children:n.jsxs("div",{className:"flex items-center space-x-1.5",children:[f.thumbnailPath?n.jsx("img",{src:f.thumbnailPath,alt:`${f.make} ${f.model}`,className:"w-6 h-6 object-cover rounded-lg shadow-md"}):n.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center shadow-md",children:n.jsx(_t,{className:"w-3 h-3 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("h3",{className:"font-medium text-gray-800 text-base",children:[(X=f.make)==null?void 0:X.toUpperCase()," ",f.model," ",f.year&&`(${f.year})`]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-gray-600",children:f.licensePlate}),n.jsxs("div",{className:"text-sm text-blue-600",children:[n.jsx(Tt,{className:"w-3 h-3 inline mr-0.5"}),a.length," doc",a.length!==1?"s":""]})]})]})]})})}),n.jsx(re,{className:"mb-1.5 shadow-orange border-l-4 border-l-green-500",children:n.jsxs(se,{className:"p-1.5",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-1.5",children:[n.jsx("div",{className:"w-4 h-4 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(Em,{className:"w-2.5 h-2.5 text-green-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Device Storage"})]}),n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:"text-sm font-medium text-blue-600",children:[a.length," docs  ",S(c.used)]})})]}),n.jsxs("div",{className:"text-sm text-green-600 mt-0.5 flex items-center",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mr-1"}),"Secured locally"]})]})}),Object.keys(_).length===0?n.jsx(re,{className:"card-hover shadow-orange border-l-4 border-l-orange-500",children:n.jsxs(se,{className:"text-center py-3",children:[n.jsx(Tt,{className:"w-6 h-6 text-muted-foreground mx-auto mb-2"}),n.jsx("h3",{className:"text-sm font-semibold mb-1",children:"No Documents Stored"}),n.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Upload documents to store them securely"}),n.jsx(O,{onClick:()=>e(`/vehicle/${r}/upload`),className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 h-7 text-xs",children:"Upload Documents"})]})}):Object.entries(_).map(([C,P])=>{var z,W;return n.jsxs(re,{className:"card-hover shadow-orange border-l-4 border-l-purple-500 mb-1.5",children:[n.jsx(Me,{className:"pb-0.5 px-1.5 pt-1.5",children:n.jsxs(Fe,{className:`flex items-center space-x-1.5 text-xs ${C==="fuel"||C==="parking_receipts"?"cursor-pointer hover:bg-gray-50 rounded p-1 -m-1":""}`,onClick:C==="fuel"||C==="parking_receipts"?()=>B(C):void 0,children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${((z=v[C])==null?void 0:z.color)||"bg-gray-500"}`}),n.jsx("span",{children:((W=v[C])==null?void 0:W.label)||C}),n.jsx(ct,{variant:"secondary",className:"ml-auto text-xs h-4 px-1.5",children:P.length}),C==="fuel"&&n.jsxs("span",{className:"text-[10px] font-medium text-green-700 bg-green-50 px-1.5 py-0.5 rounded-sm border border-green-200 ml-1",children:[k(R(P))," this year"]}),(C==="fuel"||C==="parking_receipts")&&n.jsx(O,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 ml-1",children:m[C]?n.jsx(Tm,{className:"w-3 h-3"}):n.jsx(Jg,{className:"w-3 h-3"})})]})}),(!m[C]||C!=="fuel"&&C!=="parking_receipts")&&n.jsx(se,{className:"space-y-0.5 px-1.5 pb-1.5",children:P.map(M=>{var $,L,D,u,T,A,U,te,fe,pe,G,ne,oe,ge,Z,be,qe,he,le;return n.jsx("div",{className:"border rounded-lg p-1.5 space-y-1",children:n.jsxs("div",{className:"flex flex-col space-y-2",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-1 mb-0.5",children:[n.jsx("span",{className:"text-[10px] font-medium text-blue-600 bg-blue-50 px-1.5 py-0.5 rounded-sm",children:(($=v[M.type])==null?void 0:$.label)||M.type}),((L=M.metadata)==null?void 0:L.documentName)&&n.jsx("span",{className:"text-[10px] text-gray-600 bg-gray-50 px-1.5 py-0.5 rounded-sm",children:M.metadata.documentName}),(((D=M.metadata)==null?void 0:D.expiryDate)||((u=M.metadata)==null?void 0:u.insuranceExpiryDate))&&(()=>{var Ye,xt;const Ge=((Ye=M.metadata)==null?void 0:Ye.expiryDate)||((xt=M.metadata)==null?void 0:xt.insuranceExpiryDate);if(!Ge)return null;const at=F(Ge),ht={red:"text-red-700 bg-red-50 border-red-200",orange:"text-orange-700 bg-orange-50 border-orange-200",yellow:"text-yellow-700 bg-yellow-50 border-yellow-200",green:"text-green-700 bg-green-50 border-green-200",gray:"text-gray-700 bg-gray-50 border-gray-200"};return n.jsx("span",{className:`text-[9px] font-medium px-1 py-0.5 rounded-sm border ${ht[at.color]||ht.gray}`,children:at.text})})()]}),n.jsx("p",{className:"font-medium text-xs truncate",children:M.fileName}),n.jsxs("div",{className:"text-[10px] text-muted-foreground flex items-center space-x-1.5 mt-0.5",children:[M.fileSize>0&&n.jsxs("span",{children:[S(M.fileSize),"  ",j(M.uploadedAt)]}),M.fileSize===0&&n.jsxs("span",{children:["Added: ",j(M.uploadedAt)]}),((T=M.metadata)==null?void 0:T.billDate)&&n.jsxs("span",{className:"text-yellow-600",children:["Bill: ",j(M.metadata.billDate)]}),((A=M.metadata)==null?void 0:A.receiptDate)&&n.jsxs("span",{className:"text-cyan-600",children:["Receipt: ",j(M.metadata.receiptDate)]}),((U=M.metadata)==null?void 0:U.expiryDate)&&n.jsxs("span",{className:"text-green-600",children:["Expiry: ",j(M.metadata.expiryDate)]}),((te=M.metadata)==null?void 0:te.insuranceExpiryDate)&&n.jsxs("span",{className:"text-red-600",children:["Insurance Expiry: ",j(M.metadata.insuranceExpiryDate)]})]}),M.type==="insurance"&&n.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[((fe=M.metadata)==null?void 0:fe.insuranceProvider)&&n.jsxs("span",{className:"text-[10px] font-medium text-blue-700 bg-blue-50 px-1.5 py-0.5 rounded-sm border border-blue-200",children:["Provider: ",M.metadata.insuranceProvider]}),((pe=M.metadata)==null?void 0:pe.insuranceIssuedDate)&&n.jsxs("span",{className:"text-[10px] font-medium text-green-700 bg-green-50 px-1.5 py-0.5 rounded-sm border border-green-200",children:["Issued: ",j(M.metadata.insuranceIssuedDate)]}),((G=M.metadata)==null?void 0:G.sumInsured)&&n.jsxs("span",{className:"text-[10px] font-medium text-purple-700 bg-purple-50 px-1.5 py-0.5 rounded-sm border border-purple-200",children:["Sum Insured: ",k(M.metadata.sumInsured)]}),((ne=M.metadata)==null?void 0:ne.insurancePremium)&&n.jsxs("span",{className:"text-[10px] font-medium text-orange-700 bg-orange-50 px-1.5 py-0.5 rounded-sm border border-orange-200",children:["Premium: ",k(M.metadata.insurancePremium)]})]}),M.type==="claims_on_insurance"&&n.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[((oe=M.metadata)==null?void 0:oe.claimInsuranceProvider)&&n.jsxs("span",{className:"text-[10px] font-medium text-blue-700 bg-blue-50 px-1.5 py-0.5 rounded-sm border border-blue-200",children:["Provider: ",M.metadata.claimInsuranceProvider]}),((ge=M.metadata)==null?void 0:ge.claimSettlementDate)&&n.jsxs("span",{className:"text-[10px] font-medium text-green-700 bg-green-50 px-1.5 py-0.5 rounded-sm border border-green-200",children:["Settled: ",j(M.metadata.claimSettlementDate)]}),((Z=M.metadata)==null?void 0:Z.claimAmount)&&n.jsxs("span",{className:"text-[10px] font-medium text-orange-700 bg-orange-50 px-1.5 py-0.5 rounded-sm border border-orange-200",children:["Amount: ",k(M.metadata.claimAmount)]})]}),M.type!=="insurance"&&M.type!=="claims_on_insurance"&&n.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[((be=M.metadata)==null?void 0:be.billAmount)&&n.jsxs("span",{className:"text-[10px] font-medium text-green-700 bg-green-50 px-1.5 py-0.5 rounded-sm border border-green-200",children:["Bill: ",k(M.metadata.billAmount)]}),((qe=M.metadata)==null?void 0:qe.taxAmount)&&n.jsxs("span",{className:"text-[10px] font-medium text-red-700 bg-red-50 px-1.5 py-0.5 rounded-sm border border-red-200",children:["Tax: ",k(M.metadata.taxAmount)]}),((he=M.metadata)==null?void 0:he.permitFee)&&n.jsxs("span",{className:"text-[10px] font-medium text-indigo-700 bg-indigo-50 px-1.5 py-0.5 rounded-sm border border-indigo-200",children:["Permit Fee: ",k(M.metadata.permitFee)]}),((le=M.metadata)==null?void 0:le.rechargeAmount)&&n.jsxs("span",{className:"text-[10px] font-medium text-pink-700 bg-pink-50 px-1.5 py-0.5 rounded-sm border border-pink-200",children:["Recharge: ",k(M.metadata.rechargeAmount)]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-1",children:[qt.isUniqueDocumentType(M.type)&&n.jsx(O,{size:"sm",variant:"outline",onClick:()=>e(`/vehicle/${r}/upload?edit=${M.type}`),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 h-6 px-1.5 py-0",children:n.jsx(pC,{className:"w-2.5 h-2.5"})}),M.fileSize>0?n.jsxs("div",{className:"flex space-x-1",children:[n.jsxs("button",{onClick:()=>b(M),className:"flex items-center justify-center space-x-1 px-2 py-1 text-[10px] text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded",children:[n.jsx(ms,{className:"w-3 h-3"}),n.jsx("span",{children:"View"})]}),M.fileName.toLowerCase().endsWith(".pdf")&&n.jsxs("button",{onClick:()=>g(M),className:"flex items-center justify-center space-x-1 px-2 py-1 text-[10px] text-green-600 hover:text-green-700 hover:bg-green-50 rounded",children:[n.jsx(Si,{className:"w-2.5 h-2.5"}),n.jsx("span",{children:"Download"})]})]}):n.jsx("div",{className:"flex-1 text-center text-[10px] text-gray-500 py-1",children:"No file - Amount only"}),n.jsx(O,{size:"sm",variant:"outline",onClick:()=>w(M),className:"text-red-600 hover:text-red-700 hover:bg-red-50 h-6 px-1.5 py-0",children:n.jsx(qr,{className:"w-2.5 h-2.5"})})]})]})},M.id)})})]},C)}),n.jsx(O,{onClick:()=>e(`/vehicle/${r}/upload`),className:"w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 h-7 text-xs",children:"Upload More Documents"})]}),n.jsx("div",{className:"fixed bottom-20 right-3 z-50",children:n.jsx(O,{onClick:()=>e(`/vehicle/${r}/upload`),className:"h-10 w-10 rounded-full bg-gradient-to-br from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 shadow-lg hover:shadow-xl transition-all duration-200 border-2 border-white",size:"icon",children:n.jsx(Ar,{className:"h-4 w-4 text-white"})})})]}):n.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(_t,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Vehicle not found"}),n.jsx(O,{className:"mt-4",onClick:()=>e("/"),children:"Go Back to Dashboard"})]})})}const kU=["A+","A-","B+","B-","AB+","AB-","O+","O-"],qp={"Andhra Pradesh":["Visakhapatnam","Vijayawada","Guntur","Nellore","Kurnool","Rajahmundry","Tirupati","Kadapa"],Karnataka:["Bengaluru","Mysuru","Hubli","Mangaluru","Belagavi","Davangere","Ballari","Tumakuru"],Kerala:["Thiruvananthapuram","Kochi","Kozhikode","Thrissur","Alappuzha","Kollam","Palakkad","Kannur"],"Tamil Nadu":["Chennai","Coimbatore","Madurai","Tiruchirappalli","Salem","Tirunelveli","Tiruppur","Erode"],Telangana:["Hyderabad","Warangal","Nizamabad","Khammam","Karimnagar","Ramagundam","Mahbubnagar","Nalgonda"],Maharashtra:["Mumbai","Pune","Nagpur","Nashik","Aurangabad","Solapur","Kolhapur","Sangli"],Gujarat:["Ahmedabad","Surat","Vadodara","Rajkot","Bhavnagar","Jamnagar","Gandhinagar","Anand"],Delhi:["New Delhi","North Delhi","South Delhi","East Delhi","West Delhi","Central Delhi"],"West Bengal":["Kolkata","Howrah","Durgapur","Asansol","Siliguri","Malda","Bardhaman","Kharagpur"],Rajasthan:["Jaipur","Jodhpur","Udaipur","Kota","Bikaner","Ajmer","Bhilwara","Alwar"],"Uttar Pradesh":["Lucknow","Kanpur","Ghaziabad","Agra","Varanasi","Meerut","Allahabad","Bareilly"],"Madhya Pradesh":["Bhopal","Indore","Gwalior","Jabalpur","Ujjain","Sagar","Dewas","Satna"],Bihar:["Patna","Gaya","Bhagalpur","Muzaffarpur","Purnia","Darbhanga","Bihar Sharif","Arrah"],Odisha:["Bhubaneswar","Cuttack","Rourkela","Berhampur","Sambalpur","Puri","Balasore","Baripada"],Punjab:["Chandigarh","Ludhiana","Amritsar","Jalandhar","Patiala","Bathinda","Mohali","Firozpur"],Haryana:["Faridabad","Gurgaon","Panipat","Ambala","Yamunanagar","Rohtak","Hisar","Karnal"],Assam:["Guwahati","Silchar","Dibrugarh","Jorhat","Nagaon","Tinsukia","Tezpur","Bongaigaon"],Jharkhand:["Ranchi","Jamshedpur","Dhanbad","Bokaro","Deoghar","Phusro","Hazaribagh","Giridih"],"Himachal Pradesh":["Shimla","Dharamshala","Solan","Mandi","Palampur","Nahan","Kullu","Hamirpur"],Uttarakhand:["Dehradun","Haridwar","Roorkee","Haldwani","Rudrapur","Kashipur","Rishikesh","Kotdwar"],Goa:["Panaji","Vasco da Gama","Margao","Mapusa","Ponda","Bicholim","Curchorem","Sanquelim"],Chhattisgarh:["Raipur","Bhilai","Korba","Bilaspur","Durg","Rajnandgaon","Jagdalpur","Raigarh"],Tripura:["Agartala","Dharmanagar","Udaipur","Kailasahar","Belonia","Khowai","Bishramganj","Teliamura"],Manipur:["Imphal","Thoubal","Bishnupur","Churachandpur","Kakching","Ukhrul","Senapati","Tamenglong"],Meghalaya:["Shillong","Tura","Cherrapunji","Jowai","Nongstoin","Baghmara","Williamnagar","Resubelpara"],Mizoram:["Aizawl","Lunglei","Saiha","Champhai","Kolasib","Serchhip","Mamit","Lawngtlai"],Nagaland:["Kohima","Dimapur","Mokokchung","Tuensang","Wokha","Zunheboto","Phek","Kiphire"],"Arunachal Pradesh":["Itanagar","Naharlagun","Pasighat","Tezpur","Bomdila","Tawang","Ziro","Along"],Sikkim:["Gangtok","Namchi","Gyalshing","Mangan","Jorethang","Nayabazar","Rangpo","Singtam"],"Jammu and Kashmir":["Srinagar","Jammu","Anantnag","Baramulla","Sopore","Kathua","Udhampur","Punch"],Ladakh:["Leh","Kargil","Nubra","Changthang","Zanskar","Drass","Sankoo","Turtuk"]},PU=Object.keys(qp),TU=(e,t=0)=>{if(!e)return{percentage:0,completedFields:0,totalFields:0,missingFields:[]};const r=[{name:"Profile Picture",value:e.profilePicture,weight:10,category:"Basic Info"},{name:"Name",value:e.name,weight:15,category:"Basic Info"},{name:"Age",value:e.age,weight:10,category:"Basic Info"},{name:"Gender",value:e.gender,weight:5,category:"Basic Info"},{name:"Address",value:e.address,weight:10,category:"Contact Info"},{name:"City",value:e.city,weight:8,category:"Contact Info"},{name:"State",value:e.state,weight:8,category:"Contact Info"},{name:"Pin Code",value:e.pinCode,weight:5,category:"Contact Info"},{name:"Email",value:e.email,weight:10,category:"Contact Info"},{name:"Blood Group",value:e.bloodGroup,weight:5,category:"Health Info"},{name:"Alternate Phone",value:e.alternatePhone,weight:5,category:"Contact Info"},{name:"Driver's License Number",value:e.driversLicenseNumber,weight:8,category:"Documents"},{name:"Driver's License Copy",value:e.driversLicenseCopy,weight:6,category:"Documents"}],s=r.filter(m=>m.value&&m.value.toString().trim()!==""),a=r.reduce((m,p)=>m+p.weight,0),i=s.reduce((m,p)=>m+p.weight,0),o=Math.min(t*5,15),l=i/a*85,c=Math.min(Math.round(l+o),100),d=r.filter(m=>!m.value||m.value.toString().trim()==="");return{percentage:c,completedFields:s.length,totalFields:r.length,missingFields:d.map(m=>({name:m.name,category:m.category})),vehicleCount:t,vehicleBonus:o}};function EU(){const[,e]=Zt(),{toast:t}=yt(),r=Jt(),[s,a]=h.useState(!1),[i,o]=h.useState(null),[l,c]=h.useState(null),[d,m]=h.useState(null),[p,f]=h.useState(null),[x,v]=h.useState(!1),[y,N]=h.useState(!1),b=localStorage.getItem("currentUserId"),{data:g,isLoading:w}=We({queryKey:["/api/profile",b],queryFn:async()=>{var u;if(!b)return null;try{return(await Pe("GET",`/api/profile/${b}`)).json()}catch(T){if((u=T.message)!=null&&u.includes("404"))return null;throw T}},enabled:!!b}),{data:S=[]}=We({queryKey:["/api/vehicles"],enabled:!!b}),j=TU(g,S.length),k=Ir({resolver:Yr(tV),defaultValues:{name:"",age:void 0,gender:"",address:"",bloodGroup:"",state:"",city:"",pinCode:"",alternatePhone:"",email:"",driversLicenseNumber:"",driversLicenseValidTill:""}}),R=k.watch("state"),F=h.useMemo(()=>R?qp[R]||[]:[],[R]);h.useEffect(()=>{if(R){const u=k.getValues().city,T=qp[R]||[];u&&!T.includes(u)&&k.setValue("city","")}},[R,k]);const B=u=>{var A;const T=(A=u.target.files)==null?void 0:A[0];if(T){o(T);const U=new FileReader;U.onload=()=>{const te=U.result;c(te),console.log("Profile image uploaded, preview set")},U.readAsDataURL(T)}},_=u=>{var A;const T=(A=u.target.files)==null?void 0:A[0];if(T){o(T);const U=new FileReader;U.onload=()=>{const te=U.result;c(te),console.log("Profile camera image captured, preview set")},U.readAsDataURL(T),t({title:"Photo captured!",description:"Profile photo captured successfully from camera."}),u.target.value=""}},X=()=>{o(null),c(null)},C=u=>{var A;const T=(A=u.target.files)==null?void 0:A[0];if(T){m(T);const U=new FileReader;U.onload=()=>f(U.result),U.readAsDataURL(T),t({title:"License copy selected",description:"License image will be uploaded when you save your profile."})}u.target.value=""},P=u=>{var A;const T=(A=u.target.files)==null?void 0:A[0];if(T){m(T);const U=new FileReader;U.onload=()=>f(U.result),U.readAsDataURL(T),t({title:"Photo captured!",description:"License photo captured successfully from camera."}),u.target.value=""}},z=()=>{m(null),f(null)},W=u=>{if(!u)return"";try{const[T,A,U]=u.split("/");return`${U}-${A.padStart(2,"0")}-${T.padStart(2,"0")}`}catch{return""}},M=u=>{if(!u)return"";try{const[T,A,U]=u.split("-");return`${U}/${A}/${T}`}catch{return""}};h.useEffect(()=>{g&&s&&(k.reset({name:g.name,age:g.age,gender:g.gender||"",address:g.address,bloodGroup:g.bloodGroup,state:g.state,city:g.city,pinCode:g.pinCode,alternatePhone:g.alternatePhone||"",email:g.email||"",driversLicenseNumber:g.driversLicenseNumber||"",driversLicenseValidTill:g.driversLicenseValidTill||""}),g.profilePicture&&(c(g.profilePicture),console.log("Setting profile image preview in editing mode:",g.profilePicture)),g.driversLicenseCopy&&f(g.driversLicenseCopy))},[g,s,k]),h.useEffect(()=>{g&&(console.log("Profile loaded for viewing:",JSON.stringify(g,null,2)),console.log("Profile picture URL:",g.profilePicture),console.log("Profile drivers license copy:",g.driversLicenseCopy),g.profilePicture?(c(g.profilePicture),console.log("Setting profile image preview for viewing mode:",g.profilePicture)):console.log("No profile picture found in profile data"),g.driversLicenseCopy?(f(g.driversLicenseCopy),console.log("Setting license image preview for viewing mode:",g.driversLicenseCopy)):console.log("No license copy found in profile data"))},[g]);const $=rt({mutationFn:async u=>{const T=localStorage.getItem("currentUserId");if(console.log("Creating profile with userId:",T),!T)throw console.error("No currentUserId found in localStorage"),new Error("Not authenticated");let A;if(i){const pe=new FormData;pe.append("file",i);const G=await fetch("/api/upload",{method:"POST",body:pe});if(!G.ok)throw new Error("Failed to upload profile image");A=(await G.json()).filePath}let U;if(d){const pe=new FormData;pe.append("file",d);const G=await fetch("/api/upload",{method:"POST",body:pe});if(!G.ok)throw new Error("Failed to upload license copy");U=(await G.json()).filePath}const te={...u,profilePicture:A,driversLicenseCopy:U,age:typeof u.age=="number"?u.age:parseInt(String(u.age))||25,alternatePhone:u.alternatePhone||"",email:u.email,driversLicenseNumber:u.driversLicenseNumber||"",driversLicenseValidTill:u.driversLicenseValidTill&&u.driversLicenseValidTill.trim()!==""?Cp(u.driversLicenseValidTill):null};return(await Pe("POST",`/api/profile/${T}`,te)).json()},onSuccess:()=>{const u=localStorage.getItem("currentUserId");r.invalidateQueries({queryKey:["/api/profile",u]}),t({title:"Profile Created",description:"Your profile has been successfully created."}),a(!1)},onError:u=>{t({title:"Error",description:u.message||"Failed to create profile",variant:"destructive"})}}),L=rt({mutationFn:async u=>{const T=localStorage.getItem("currentUserId");if(console.log("Updating profile with userId:",T),!T)throw console.error("No currentUserId found in localStorage for update"),new Error("Not authenticated");let A=g==null?void 0:g.profilePicture;if(i){console.log("Uploading new profile image...");const pe=new FormData;pe.append("file",i);const G=await fetch("/api/upload",{method:"POST",body:pe});if(!G.ok)throw new Error("Failed to upload profile image");A=(await G.json()).filePath,console.log("Profile image uploaded successfully:",A)}let U=g==null?void 0:g.driversLicenseCopy;if(d){const pe=new FormData;pe.append("file",d);const G=await fetch("/api/upload",{method:"POST",body:pe});if(!G.ok)throw new Error("Failed to upload license copy");U=(await G.json()).filePath}const te={...u,profilePicture:A||null,driversLicenseCopy:U||null,age:typeof u.age=="number"?u.age:parseInt(String(u.age))||25,alternatePhone:u.alternatePhone||"",email:u.email,driversLicenseNumber:u.driversLicenseNumber||"",driversLicenseValidTill:u.driversLicenseValidTill&&u.driversLicenseValidTill.trim()!==""?Cp(u.driversLicenseValidTill):null};return console.log("Profile update data being sent:",te),console.log("Profile picture path being sent:",A),console.log("Profile image state:",i),console.log("Existing profile picture:",g==null?void 0:g.profilePicture),(await Pe("PUT",`/api/profile/${T}`,te)).json()},onSuccess:()=>{const u=localStorage.getItem("currentUserId");r.invalidateQueries({queryKey:["/api/profile",u]}),a(!1),t({title:"Profile Updated",description:"Your profile has been successfully updated."})},onError:u=>{t({title:"Error",description:u.message||"Failed to update profile",variant:"destructive"})}}),D=u=>{g?L.mutate(u):$.mutate(u)};return!w&&!g&&!s?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white flex items-center justify-center p-4",children:n.jsx(re,{className:"w-full max-w-lg shadow-xl border-0 bg-white/90 backdrop-blur-sm",children:n.jsxs(se,{className:"p-8 text-center space-y-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h1",{className:"text-3xl font-semibold text-gray-700",children:["Welcome to ",n.jsx(dt,{})]}),n.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-4 rounded-2xl w-28 h-28 mx-auto flex items-center justify-center shadow-md",children:n.jsx("img",{src:bt,alt:"MyyMotto Logo",className:"w-20 h-20 rounded-xl object-cover"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Create Your Profile"}),n.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Complete your profile to access personalized vehicle management features and timely care for your carrier."})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-4",children:n.jsx("p",{className:"text-blue-700 text-sm font-medium",children:"Please provide accurate information for the best experience"})}),n.jsx(O,{onClick:()=>a(!0),className:"w-full h-12 text-lg font-semibold bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white shadow-lg transition-all duration-200",children:"Get Started"})]})})}):n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"header-gradient-border shadow-lg relative z-10",children:n.jsx("div",{className:"px-3 py-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[g&&n.jsx(O,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-red-50 p-1",onClick:()=>e("/"),children:n.jsx(Pt,{className:"w-4 h-4"})}),n.jsx("img",{src:bt,alt:"MyyMotto Logo",className:"w-12 h-12 rounded-lg"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-base font-bold",children:n.jsx(dt,{})}),n.jsx("p",{className:"text-xs text-red-600",children:g?"Profile":"Create Profile"})]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[g&&!s&&n.jsx(O,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-red-50 h-6 text-xs px-2",onClick:()=>a(!0),children:"Edit"}),g&&n.jsxs(n.Fragment,{children:[n.jsx(Be,{href:"/settings",children:n.jsx(O,{variant:"ghost",size:"icon",className:"text-gray-600 hover:bg-red-50 w-8 h-8",children:n.jsx(sr,{className:"w-4 h-4"})})}),n.jsx(Sc,{})]})]})]})})}),n.jsxs("div",{className:"p-2 pb-20",children:[g&&n.jsx(re,{className:"shadow-orange mb-3",children:n.jsxs(se,{className:"p-2",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-1.5",children:[n.jsx(po,{className:"w-4 h-4 text-orange-500"}),n.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:"Profile"})]}),n.jsxs("span",{className:"text-base font-bold text-orange-600",children:[j.percentage,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:n.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-orange-600 h-2 rounded-full transition-all duration-500",style:{width:`${j.percentage}%`}})}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[n.jsxs("span",{children:[j.completedFields,"/",j.totalFields," fields"]}),n.jsxs("span",{children:[j.vehicleCount," vehicle",j.vehicleCount!==1?"s":""," (+",j.vehicleBonus,"%)"]})]}),j.missingFields.length>0&&j.percentage<100&&n.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[n.jsx(ul,{className:"w-3.5 h-3.5 text-amber-500"}),n.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Missing:"})]}),n.jsxs("div",{className:"text-[10px] text-gray-600 leading-tight",children:[j.missingFields.slice(0,3).map((u,T)=>u.name).join(", "),j.missingFields.length>3&&` +${j.missingFields.length-3} more`]})]}),j.percentage>=90&&n.jsx("div",{className:"mt-2 pt-2 border-t border-green-200 bg-green-50 rounded p-1.5",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Pn,{className:"w-3.5 h-3.5 text-green-600"}),n.jsx("span",{className:"text-xs font-medium text-green-800",children:j.percentage===100?"Complete!":"Almost done!"})]})})]})}),!g||s?n.jsxs(re,{className:"shadow-orange",children:[n.jsx(Me,{className:"p-2 pb-2",children:n.jsx(Fe,{className:"text-lg",children:g?"Edit Profile":"Create Profile"})}),n.jsx(se,{className:"p-2",children:n.jsx(cs,{...k,children:n.jsxs("form",{onSubmit:k.handleSubmit(D),className:"space-y-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Profile Picture"}),n.jsx("div",{className:"flex justify-center",children:l?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:l,alt:"Profile",className:"w-20 h-20 rounded-full object-cover shadow-md border-2 border-orange-200"}),n.jsx(O,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-1 -right-1 w-5 h-5 rounded-full",onClick:X,children:n.jsx(Kr,{className:"w-2.5 h-2.5"})})]}):n.jsx("div",{className:"w-20 h-20 rounded-full bg-muted flex items-center justify-center border-2 border-gray-200",children:n.jsx(vp,{className:"w-8 h-8 text-muted-foreground"})})}),n.jsxs("div",{className:"flex justify-center space-x-2",children:[n.jsxs(O,{type:"button",variant:"outline",size:"sm",className:"flex items-center gap-1.5 h-7 text-xs px-2",onClick:()=>{var u;return(u=document.getElementById("profile-upload"))==null?void 0:u.click()},children:[n.jsx(Rr,{className:"w-3 h-3"}),"Upload"]}),n.jsxs(O,{type:"button",variant:"outline",size:"sm",className:"flex items-center gap-1.5 h-7 text-xs px-2",onClick:()=>{var u;return(u=document.getElementById("profile-camera"))==null?void 0:u.click()},children:[n.jsx(Da,{className:"w-3 h-3"}),"Camera"]})]}),n.jsx("input",{id:"profile-upload",type:"file",accept:"image/*",onChange:B,className:"hidden"}),n.jsx("input",{id:"profile-camera",type:"file",accept:"image/*",capture:"user",onChange:_,className:"hidden"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Basic Information"}),n.jsx(De,{control:k.control,name:"name",render:({field:u})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs",children:"Full Name"}),n.jsx(ke,{children:n.jsx(de,{placeholder:"Enter your full name",className:"h-8 text-sm",...u,onChange:T=>{const A=T.target.value.replace(/[0-9]/g,"");u.onChange(A)}})}),n.jsx(_e,{className:"text-xs"})]})}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsx(De,{control:k.control,name:"age",render:({field:u})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs",children:"Age"}),n.jsx(ke,{children:n.jsx(de,{type:"number",placeholder:"Age",className:"h-8 text-sm",value:u.value||"",onChange:T=>{const A=T.target.value;u.onChange(A===""?void 0:parseInt(A)||void 0)}})}),n.jsx(_e,{className:"text-xs"})]})}),n.jsx(De,{control:k.control,name:"gender",render:({field:u})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs",children:"Gender"}),n.jsxs(Ot,{onValueChange:u.onChange,defaultValue:u.value,children:[n.jsx(ke,{children:n.jsx(Dt,{className:"h-8 text-sm",children:n.jsx(Lt,{placeholder:"Gender"})})}),n.jsxs(It,{children:[n.jsx(ie,{value:"male",children:"Male"}),n.jsx(ie,{value:"female",children:"Female"}),n.jsx(ie,{value:"other",children:"Other"})]})]}),n.jsx(_e,{className:"text-xs"})]})}),n.jsx(De,{control:k.control,name:"bloodGroup",render:({field:u})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs",children:"Blood Group"}),n.jsxs(Ot,{onValueChange:u.onChange,defaultValue:u.value,children:[n.jsx(ke,{children:n.jsx(Dt,{className:"h-8 text-sm",children:n.jsx(Lt,{placeholder:"Blood"})})}),n.jsx(It,{children:kU.map(T=>n.jsx(ie,{value:T,children:T},T))})]}),n.jsx(_e,{className:"text-xs"})]})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Address Information"}),n.jsx(De,{control:k.control,name:"address",render:({field:u})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs",children:"Complete Address"}),n.jsx(ke,{children:n.jsx(Hn,{placeholder:"Enter your complete address",className:"text-sm resize-none h-16",...u})}),n.jsx(_e,{className:"text-xs"})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx(De,{control:k.control,name:"state",render:({field:u})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs",children:"State"}),x?n.jsxs("div",{className:"space-y-1",children:[n.jsx(ke,{children:n.jsx(de,{placeholder:"Enter state manually",className:"h-8 text-sm",...u})}),n.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"h-6 text-xs px-2",onClick:()=>{v(!1),u.onChange(""),N(!1),k.setValue("city","")},children:"Use dropdown instead"})]}):n.jsx("div",{className:"space-y-1",children:n.jsxs(Ot,{onValueChange:T=>{T==="manual_entry"?(v(!0),u.onChange(""),N(!1),k.setValue("city","")):u.onChange(T)},defaultValue:u.value,children:[n.jsx(ke,{children:n.jsx(Dt,{className:"h-8 text-sm",children:n.jsx(Lt,{placeholder:"State"})})}),n.jsxs(It,{children:[PU.map(T=>n.jsx(ie,{value:T,children:T},T)),n.jsx(ie,{value:"manual_entry",className:"text-orange-600 font-medium",children:" Enter manually"})]})]})}),n.jsx(_e,{className:"text-xs"})]})}),n.jsx(De,{control:k.control,name:"city",render:({field:u})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs",children:"City"}),y?n.jsxs("div",{className:"space-y-1",children:[n.jsx(ke,{children:n.jsx(de,{placeholder:"Enter city manually",className:"h-8 text-sm",...u})}),n.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"h-6 text-xs px-2",onClick:()=>{N(!1),u.onChange("")},children:"Use dropdown instead"})]}):n.jsx("div",{className:"space-y-1",children:n.jsxs(Ot,{onValueChange:T=>{T==="manual_entry"?(N(!0),u.onChange("")):u.onChange(T)},defaultValue:u.value,disabled:!R&&!x,children:[n.jsx(ke,{children:n.jsx(Dt,{className:"h-8 text-sm",children:n.jsx(Lt,{placeholder:x||R?"Select City":"Select State first"})})}),n.jsxs(It,{children:[F.map(T=>n.jsx(ie,{value:T,children:T},T)),n.jsx(ie,{value:"manual_entry",className:"text-orange-600 font-medium",children:" Enter manually"})]})]})}),n.jsx(_e,{className:"text-xs"})]})})]}),n.jsx(De,{control:k.control,name:"pinCode",render:({field:u})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs",children:"Pin Code"}),n.jsx(ke,{children:n.jsx(de,{placeholder:"Pin code (numbers or text allowed)",className:"h-8 text-sm",...u})}),n.jsx(_e,{className:"text-xs"})]})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Contact Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx(De,{control:k.control,name:"alternatePhone",render:({field:u})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs",children:"Phone"}),n.jsx(ke,{children:n.jsx(de,{placeholder:"Alternate phone (numbers only)",className:"h-8 text-sm",...u,onChange:T=>{const A=T.target.value.replace(/[^0-9+\-() ]/g,"");u.onChange(A)}})}),n.jsx(_e,{className:"text-xs"})]})}),n.jsx(De,{control:k.control,name:"email",render:({field:u})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs",children:"Email"}),n.jsx(ke,{children:n.jsx(de,{type:"email",placeholder:"Email address",className:"h-8 text-sm",...u})}),n.jsx(_e,{className:"text-xs"})]})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Driver's License (Optional)"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx(De,{control:k.control,name:"driversLicenseNumber",render:({field:u})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs",children:"License Number"}),n.jsx(ke,{children:n.jsx(de,{placeholder:"License number",className:"h-8 text-sm",...u})}),n.jsx(_e,{className:"text-xs"})]})}),n.jsx(De,{control:k.control,name:"driversLicenseValidTill",render:({field:u})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs",children:"Valid Till"}),n.jsx(ke,{children:n.jsx(de,{type:"date",className:"h-8 text-sm",value:u.value?W(u.value):"",onChange:T=>{const A=T.target.value;u.onChange(A?M(A):"")}})}),n.jsx(_e,{className:"text-xs"})]})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-medium text-gray-700",children:"License Copy"}),p&&n.jsx("div",{className:"flex justify-center",children:n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:p,alt:"License Preview",className:"w-32 h-20 object-cover rounded border"}),n.jsx(O,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-1 -right-1 w-5 h-5 rounded-full",onClick:z,children:n.jsx(Kr,{className:"w-2.5 h-2.5"})})]})}),n.jsxs("div",{className:"flex justify-center space-x-2",children:[n.jsxs(O,{type:"button",variant:"outline",size:"sm",className:"flex items-center gap-1.5 h-7 text-xs px-2",onClick:()=>{var u;return(u=document.getElementById("license-upload"))==null?void 0:u.click()},children:[n.jsx(Rr,{className:"w-3 h-3"}),"Upload"]}),n.jsxs(O,{type:"button",variant:"outline",size:"sm",className:"flex items-center gap-1.5 h-7 text-xs px-2",onClick:()=>{var u;return(u=document.getElementById("license-camera"))==null?void 0:u.click()},children:[n.jsx(Da,{className:"w-3 h-3"}),"Camera"]})]}),n.jsx("input",{id:"license-upload",type:"file",accept:"image/*",onChange:C,className:"hidden"}),n.jsx("input",{id:"license-camera",type:"file",accept:"image/*",capture:"environment",onChange:P,className:"hidden"})]})]}),n.jsx("div",{className:"pt-2",children:n.jsx(O,{type:"submit",className:"w-full bg-orange-500 hover:bg-orange-600",disabled:$.isPending||L.isPending,children:$.isPending||L.isPending?"Saving...":g?"Update Profile":"Create Profile"})})]})})})]}):n.jsxs(re,{className:"shadow-orange",children:[n.jsx(Me,{className:"p-2 pb-2",children:n.jsx(Fe,{className:"text-lg",children:"Profile Information"})}),n.jsxs(se,{className:"p-2 space-y-3",children:[n.jsxs("div",{className:"flex justify-center",children:[g!=null&&g.profilePicture?n.jsx("img",{src:g.profilePicture.startsWith("/app_storage")?g.profilePicture:`/api/files/${g.profilePicture}`,alt:"Profile",className:"w-20 h-20 rounded-full object-cover shadow-md border-2 border-orange-200",onError:u=>{var T;console.log("Profile image failed to load:",g.profilePicture),u.currentTarget.style.display="none",(T=u.currentTarget.nextElementSibling)==null||T.classList.remove("hidden")}}):null,n.jsx("div",{className:`w-20 h-20 rounded-full bg-gray-100 flex items-center justify-center border-2 border-gray-200 ${g!=null&&g.profilePicture?"hidden":""}`,children:n.jsx(vp,{className:"w-8 h-8 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Name"}),n.jsx("p",{className:"font-medium",children:g.name})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Age"}),n.jsx("p",{className:"font-medium",children:g.age})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Gender"}),n.jsx("p",{className:"font-medium",children:g.gender||"Not specified"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Blood Group"}),n.jsx("p",{className:"font-medium",children:g.bloodGroup})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Address Information"}),n.jsxs("div",{className:"text-sm space-y-1",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Address"}),n.jsx("p",{className:"font-medium",children:g.address})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"City"}),n.jsx("p",{className:"font-medium",children:g.city})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"State"}),n.jsx("p",{className:"font-medium",children:g.state})]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Pin Code"}),n.jsx("p",{className:"font-medium",children:g.pinCode})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Contact Information"}),n.jsxs("div",{className:"text-sm space-y-1",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Email"}),n.jsx("p",{className:"font-medium",children:g.email})]}),g.alternatePhone&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Alternate Phone"}),n.jsx("p",{className:"font-medium",children:g.alternatePhone})]})]})]}),(g.driversLicenseNumber||g.driversLicenseCopy)&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Driver's License"}),n.jsxs("div",{className:"text-sm space-y-1",children:[g.driversLicenseNumber&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"License Number"}),n.jsx("p",{className:"font-medium",children:g.driversLicenseNumber})]}),g.driversLicenseValidTill&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Valid Till"}),n.jsx("p",{className:"font-medium",children:g.driversLicenseValidTill})]}),g.driversLicenseCopy&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"License Copy"}),n.jsx("div",{className:"mt-1",children:n.jsx("img",{src:g.driversLicenseCopy,alt:"License",className:"w-16 h-16 rounded object-cover border"})})]})]})]})]})]}),g&&!s&&n.jsx(re,{className:"shadow-orange mt-3",children:n.jsx(se,{className:"p-2",children:n.jsx(O,{onClick:()=>e("/"),variant:"outline",className:"w-full",children:"Continue to Dashboard"})})}),g&&s&&n.jsx(re,{className:"shadow-orange mt-3",children:n.jsx(se,{className:"p-2",children:n.jsx(O,{onClick:()=>a(!1),variant:"outline",className:"w-full",children:"Cancel"})})})]})]})}function _U(){const[,e]=Zt(),[t,r]=h.useState(!1),[s,a]=h.useState(!1),{toast:i}=yt(),o=Jt(),l=parseInt(localStorage.getItem("currentUserId")||"1"),{data:c,isLoading:d}=We({queryKey:["/api/emergency-contacts",l],queryFn:async()=>{const S=await fetch(`/api/emergency-contacts/${l}`);if(!S.ok)throw new Error("Failed to fetch emergency contacts");return S.json()}}),m=Ir({resolver:Yr(sV),defaultValues:{emergencyName:"",emergencyPhone:"",insuranceName:"",insurancePhone:"",roadsidePhone:"",serviceCentreName:"",serviceCentrePhone:"",sparePartsName:"",sparePartsPhone:""}});h.useEffect(()=>{c&&Object.keys(c).length>0&&m.reset({emergencyName:c.emergencyName||"",emergencyPhone:c.emergencyPhone||"",insuranceName:c.insuranceName||"",insurancePhone:c.insurancePhone||"",roadsidePhone:c.roadsidePhone||"",serviceCentreName:c.serviceCentreName||"",serviceCentrePhone:c.serviceCentrePhone||"",sparePartsName:c.sparePartsName||"",sparePartsPhone:c.sparePartsPhone||""})},[c,m]);const p=rt({mutationFn:async S=>(await Pe("POST",`/api/emergency-contacts/${l}`,S)).json(),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/emergency-contacts",l]}),i({title:"Emergency Contacts Saved",description:"Your emergency contacts have been successfully saved."}),r(!1)},onError:S=>{i({title:"Error",description:S.message||"Failed to save emergency contacts",variant:"destructive"})}}),f=rt({mutationFn:async S=>(await Pe("PUT",`/api/emergency-contacts/${l}`,S)).json(),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/emergency-contacts",l]}),i({title:"Emergency Contacts Updated",description:"Your emergency contacts have been successfully updated."}),r(!1)},onError:S=>{i({title:"Error",description:S.message||"Failed to update emergency contacts",variant:"destructive"})}}),x=S=>{c&&Object.keys(c).length>0?f.mutate(S):p.mutate(S)},v=c&&Object.keys(c).length>0,y=()=>{if(!c)return"";let S=` EMERGENCY CONTACTS - MyyMotto User

`;return(c.emergencyName||c.emergencyPhone)&&(S+=` Emergency Contact:
`,c.emergencyName&&(S+=`Name: ${c.emergencyName}
`),c.emergencyPhone&&(S+=`Phone: ${c.emergencyPhone}

`)),(c.insuranceName||c.insurancePhone)&&(S+=` Insurance Company:
`,c.insuranceName&&(S+=`Company: ${c.insuranceName}
`),c.insurancePhone&&(S+=`Phone: ${c.insurancePhone}

`)),c.roadsidePhone&&(S+=` Roadside Assistance:
`,S+=`Phone: ${c.roadsidePhone}

`),(c.serviceCentreName||c.serviceCentrePhone)&&(S+=` Service Centre:
`,c.serviceCentreName&&(S+=`Name: ${c.serviceCentreName}
`),c.serviceCentrePhone&&(S+=`Phone: ${c.serviceCentrePhone}

`)),(c.sparePartsName||c.sparePartsPhone)&&(S+=` Spare Parts:
`,c.sparePartsName&&(S+=`Name: ${c.sparePartsName}
`),c.sparePartsPhone&&(S+=`Phone: ${c.sparePartsPhone}

`)),S+=`---
Shared via MyyMotto - Vehicle Management App`,S},N=async()=>{const S=y();if(navigator.share)try{await navigator.share({title:"Emergency Contacts - MyyMotto",text:S}),i({title:"Shared Successfully",description:"Emergency contacts shared successfully"})}catch(j){j.name!=="AbortError"&&(console.error("Error sharing:",j),b(S))}else b(S)},b=async S=>{try{await navigator.clipboard.writeText(S),i({title:"Copied to Clipboard",description:"Emergency contacts copied. You can now paste and share via any app."})}catch(j){console.error("Error copying to clipboard:",j),i({title:"Copy Failed",description:"Unable to copy to clipboard. Please try again.",variant:"destructive"})}},g=()=>{const S=y(),j=`sms:?body=${encodeURIComponent(S)}`;window.open(j,"_blank"),i({title:"SMS Ready",description:"SMS app opened with emergency contacts ready to send"})},w=()=>{const S=y(),j=`https://wa.me/?text=${encodeURIComponent(S)}`;window.open(j,"_blank"),i({title:"WhatsApp Ready",description:"WhatsApp opened with emergency contacts ready to send"})};return d?n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"header-gradient-border shadow-lg relative z-10",children:n.jsx("div",{className:"px-3 py-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(O,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-red-50 p-1",onClick:()=>e("/"),children:n.jsx(Pt,{className:"w-4 h-4"})}),n.jsx("img",{src:bt,alt:"Myymotto Logo",className:"w-12 h-12 rounded-lg"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-base font-bold",children:n.jsx(dt,{})}),n.jsx("p",{className:"text-xs text-red-600",children:"Timely Care for your carrier"})]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Be,{href:"/settings",children:n.jsx(O,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-red-50 p-1",children:n.jsx(sr,{className:"w-4 h-4"})})}),n.jsx(Sc,{})]})]})})}),n.jsx("div",{className:"p-4 pb-20 bg-warm-pattern",children:n.jsxs("div",{className:"text-center py-8",children:[n.jsx(hs,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4 animate-pulse"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading emergency contacts..."})]})})]}):n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"header-gradient-border shadow-lg relative z-10",children:n.jsx("div",{className:"px-3 py-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(O,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-red-50 p-1",onClick:()=>e("/"),children:n.jsx(Pt,{className:"w-4 h-4"})}),n.jsx("img",{src:bt,alt:"Myymotto Logo",className:"w-12 h-12 rounded-lg"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-base font-bold",children:n.jsx(dt,{})}),n.jsx("p",{className:"text-xs text-red-600",children:"Timely Care for your carrier"})]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[v&&!t&&n.jsxs(n.Fragment,{children:[n.jsxs(O,{variant:"ghost",size:"sm",className:"text-green-600 hover:bg-green-50 p-1 font-medium",onClick:N,title:"One-tap emergency contact sharing",children:[n.jsx(no,{className:"w-4 h-4 mr-1"}),"Share"]}),n.jsx(O,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-red-50 p-1",onClick:()=>r(!0),children:"Edit"})]}),n.jsx(Be,{href:"/settings",children:n.jsx(O,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-red-50 p-1",children:n.jsx(sr,{className:"w-4 h-4"})})}),n.jsx(Sc,{})]})]})})}),n.jsxs("div",{className:"p-3 pb-20 bg-warm-pattern",children:[!t&&v?n.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[n.jsx(re,{className:"shadow-orange border-2 border-green-200 bg-gradient-to-r from-green-50 to-emerald-50",children:n.jsx(se,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(no,{className:"w-6 h-6 text-green-600"})}),n.jsx("h3",{className:"font-bold text-green-800 text-sm mb-2",children:"Emergency Contact Sharing"}),n.jsx("p",{className:"text-xs text-green-700 mb-4 leading-relaxed",children:"Share all your emergency contacts instantly in case of accidents or emergencies"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs(O,{onClick:N,className:"h-9 text-xs bg-green-600 hover:bg-green-700 text-white",children:[n.jsx(no,{className:"w-3 h-3 mr-1"}),"Quick Share"]}),n.jsxs(O,{onClick:()=>a(!0),variant:"outline",className:"h-9 text-xs border-green-300 text-green-700 hover:bg-green-50",children:[n.jsx(xp,{className:"w-3 h-3 mr-1"}),"More Options"]})]})]})})}),(c.emergencyName||c.emergencyPhone)&&n.jsx(re,{className:"shadow-orange border-l-4 border-l-red-500",children:n.jsx(se,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx(fr,{className:"w-5 h-5 text-red-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-gray-800 text-sm",children:"Emergency Contact"}),c.emergencyName&&n.jsx("p",{className:"text-xs text-gray-600",children:c.emergencyName})]})]}),c.emergencyPhone&&n.jsxs("a",{href:`tel:${c.emergencyPhone}`,className:"flex items-center space-x-1 bg-red-50 px-3 py-1 rounded-full text-red-600 hover:bg-red-100 transition-colors",children:[n.jsx(sa,{className:"w-3 h-3"}),n.jsx("span",{className:"text-xs font-medium",children:c.emergencyPhone})]})]})})}),(c.insuranceName||c.insurancePhone)&&n.jsx(re,{className:"shadow-orange border-l-4 border-l-blue-500",children:n.jsx(se,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(Xt,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-gray-800 text-sm",children:"Insurance Company"}),c.insuranceName&&n.jsx("p",{className:"text-xs text-gray-600",children:c.insuranceName})]})]}),c.insurancePhone&&n.jsxs("a",{href:`tel:${c.insurancePhone}`,className:"flex items-center space-x-1 bg-blue-50 px-3 py-1 rounded-full text-blue-600 hover:bg-blue-100 transition-colors",children:[n.jsx(sa,{className:"w-3 h-3"}),n.jsx("span",{className:"text-xs font-medium",children:c.insurancePhone})]})]})})}),c.roadsidePhone&&n.jsx(re,{className:"shadow-orange border-l-4 border-l-orange-500",children:n.jsx(se,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:n.jsx(sr,{className:"w-5 h-5 text-orange-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-gray-800 text-sm",children:"Roadside Assistance"}),n.jsx("p",{className:"text-xs text-gray-600",children:"24/7 Emergency Help"})]})]}),n.jsxs("a",{href:`tel:${c.roadsidePhone}`,className:"flex items-center space-x-1 bg-orange-50 px-3 py-1 rounded-full text-orange-600 hover:bg-orange-100 transition-colors",children:[n.jsx(sa,{className:"w-3 h-3"}),n.jsx("span",{className:"text-xs font-medium",children:c.roadsidePhone})]})]})})}),(c.serviceCentreName||c.serviceCentrePhone)&&n.jsx(re,{className:"shadow-orange border-l-4 border-l-green-500",children:n.jsx(se,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(fs,{className:"w-5 h-5 text-green-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-gray-800 text-sm",children:"Service Centre"}),c.serviceCentreName&&n.jsx("p",{className:"text-xs text-gray-600",children:c.serviceCentreName})]})]}),c.serviceCentrePhone&&n.jsxs("a",{href:`tel:${c.serviceCentrePhone}`,className:"flex items-center space-x-1 bg-green-50 px-3 py-1 rounded-full text-green-600 hover:bg-green-100 transition-colors",children:[n.jsx(sa,{className:"w-3 h-3"}),n.jsx("span",{className:"text-xs font-medium",children:c.serviceCentrePhone})]})]})})}),(c.sparePartsName||c.sparePartsPhone)&&n.jsx(re,{className:"shadow-orange border-l-4 border-l-purple-500",children:n.jsx(se,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:n.jsx(Vy,{className:"w-5 h-5 text-purple-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-gray-800 text-sm",children:"Spare Parts Provider"}),c.sparePartsName&&n.jsx("p",{className:"text-xs text-gray-600",children:c.sparePartsName})]})]}),c.sparePartsPhone&&n.jsxs("a",{href:`tel:${c.sparePartsPhone}`,className:"flex items-center space-x-1 bg-purple-50 px-3 py-1 rounded-full text-purple-600 hover:bg-purple-100 transition-colors",children:[n.jsx(sa,{className:"w-3 h-3"}),n.jsx("span",{className:"text-xs font-medium",children:c.sparePartsPhone})]})]})})})]}):n.jsxs(re,{className:"shadow-orange",children:[n.jsx(Me,{className:"pb-3",children:n.jsxs(Fe,{className:"flex items-center space-x-2 text-lg",children:[n.jsx(hs,{className:"w-5 h-5"}),n.jsx("span",{children:v?"Edit Emergency Contacts":"Add Emergency Contacts"})]})}),n.jsx(se,{className:"p-4",children:n.jsx(cs,{...m,children:n.jsxs("form",{onSubmit:m.handleSubmit(x),className:"space-y-5",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h3",{className:"text-base font-semibold text-red-600 flex items-center space-x-2",children:[n.jsx(fr,{className:"w-4 h-4"}),n.jsx("span",{children:"Emergency Contact"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(De,{control:m.control,name:"emergencyName",render:({field:S})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-sm font-medium",children:"Name"}),n.jsx(ke,{children:n.jsx(de,{placeholder:"Emergency contact name",...S,className:"h-10",onChange:j=>{const k=j.target.value.replace(/[^a-zA-Z\s]/g,"");S.onChange(k.toUpperCase())}})}),n.jsx(_e,{})]})}),n.jsx(De,{control:m.control,name:"emergencyPhone",render:({field:S})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-sm font-medium",children:"Phone Number"}),n.jsx(ke,{children:n.jsx(de,{placeholder:"e.g., +91 9876543210",...S,className:"h-10",type:"tel",onChange:j=>{const k=j.target.value.replace(/[^0-9+\-\s()]/g,"");S.onChange(k)}})}),n.jsx(_e,{})]})})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h3",{className:"text-base font-semibold text-blue-600 flex items-center space-x-2",children:[n.jsx(Xt,{className:"w-4 h-4"}),n.jsx("span",{children:"Insurance Company"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(De,{control:m.control,name:"insuranceName",render:({field:S})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-sm font-medium",children:"Company Name"}),n.jsx(ke,{children:n.jsx(de,{placeholder:"Insurance company name",...S,className:"h-10",onChange:j=>{const k=j.target.value.replace(/[^a-zA-Z\s]/g,"");S.onChange(k.toUpperCase())}})}),n.jsx(_e,{})]})}),n.jsx(De,{control:m.control,name:"insurancePhone",render:({field:S})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-sm font-medium",children:"Phone Number"}),n.jsx(ke,{children:n.jsx(de,{placeholder:"e.g., 1800-XXX-XXXX",...S,className:"h-10",type:"tel",onChange:j=>{const k=j.target.value.replace(/[^0-9+\-\s()]/g,"");S.onChange(k)}})}),n.jsx(_e,{})]})})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h3",{className:"text-base font-semibold text-orange-600 flex items-center space-x-2",children:[n.jsx(sr,{className:"w-4 h-4"}),n.jsx("span",{children:"Roadside Assistance"})]}),n.jsx(De,{control:m.control,name:"roadsidePhone",render:({field:S})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-sm font-medium",children:"Phone Number"}),n.jsx(ke,{children:n.jsx(de,{placeholder:"e.g., 1800-XXX-XXXX",...S,className:"h-10",type:"tel",onChange:j=>{const k=j.target.value.replace(/[^0-9+\-\s()]/g,"");S.onChange(k)}})}),n.jsx(_e,{})]})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h3",{className:"text-base font-semibold text-green-600 flex items-center space-x-2",children:[n.jsx(fs,{className:"w-4 h-4"}),n.jsx("span",{children:"Service Centre"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(De,{control:m.control,name:"serviceCentreName",render:({field:S})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-sm font-medium",children:"Centre Name"}),n.jsx(ke,{children:n.jsx(de,{placeholder:"Service centre name",...S,className:"h-10",onChange:j=>{const k=j.target.value.replace(/[^a-zA-Z\s]/g,"");S.onChange(k.toUpperCase())}})}),n.jsx(_e,{})]})}),n.jsx(De,{control:m.control,name:"serviceCentrePhone",render:({field:S})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-sm font-medium",children:"Phone Number"}),n.jsx(ke,{children:n.jsx(de,{placeholder:"e.g., +91 9876543210",...S,className:"h-10",type:"tel",onChange:j=>{const k=j.target.value.replace(/[^0-9+\-\s()]/g,"");S.onChange(k)}})}),n.jsx(_e,{})]})})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h3",{className:"text-base font-semibold text-purple-600 flex items-center space-x-2",children:[n.jsx(Vy,{className:"w-4 h-4"}),n.jsx("span",{children:"Spare Parts Provider"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(De,{control:m.control,name:"sparePartsName",render:({field:S})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-sm font-medium",children:"Provider Name"}),n.jsx(ke,{children:n.jsx(de,{placeholder:"Spare parts provider name",...S,className:"h-10",onChange:j=>{const k=j.target.value.replace(/[^a-zA-Z\s]/g,"");S.onChange(k.toUpperCase())}})}),n.jsx(_e,{})]})}),n.jsx(De,{control:m.control,name:"sparePartsPhone",render:({field:S})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-sm font-medium",children:"Phone Number"}),n.jsx(ke,{children:n.jsx(de,{placeholder:"e.g., +91 9876543210",...S,className:"h-10",type:"tel",onChange:j=>{const k=j.target.value.replace(/[^0-9+\-\s()]/g,"");S.onChange(k)}})}),n.jsx(_e,{})]})})]})]}),n.jsxs("div",{className:"flex flex-col space-y-2 pt-3",children:[n.jsx(O,{type:"submit",className:"w-full h-11",disabled:p.isPending||f.isPending,children:p.isPending||f.isPending?"Saving...":v?"Update Contacts":"Save Contacts"}),v&&n.jsx(O,{type:"button",variant:"outline",className:"w-full h-10",onClick:()=>r(!1),disabled:p.isPending||f.isPending,children:"Cancel"})]})]})})})]}),!v&&!t&&n.jsx(re,{className:"shadow-orange",children:n.jsxs(se,{className:"p-6 text-center",children:[n.jsx(hs,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Emergency Contacts"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Keep your important contacts handy for emergencies and vehicle-related services."}),n.jsx(O,{onClick:()=>r(!0),className:"w-full",children:"Add Emergency Contacts"})]})})]}),n.jsx(ln,{open:s,onOpenChange:a,children:n.jsxs(Hr,{className:"w-[90%] max-w-md rounded-xl",children:[n.jsx(Sn,{children:n.jsx(cn,{className:"text-center text-lg font-bold text-gray-800",children:"Share Emergency Contacts"})}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 p-4",children:[n.jsxs(O,{onClick:N,className:"h-12 bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center space-x-2",children:[n.jsx(no,{className:"w-5 h-5"}),n.jsx("span",{children:"Share via System (Recommended)"})]}),n.jsxs(O,{onClick:w,className:"h-12 bg-green-600 hover:bg-green-700 text-white flex items-center justify-center space-x-2",children:[n.jsx(xp,{className:"w-5 h-5"}),n.jsx("span",{children:"Share via WhatsApp"})]}),n.jsxs(O,{onClick:g,className:"h-12 bg-orange-600 hover:bg-orange-700 text-white flex items-center justify-center space-x-2",children:[n.jsx(sa,{className:"w-5 h-5"}),n.jsx("span",{children:"Share via SMS"})]}),n.jsxs(O,{onClick:()=>b(y()),variant:"outline",className:"h-12 border-gray-300 text-gray-700 hover:bg-gray-50 flex items-center justify-center space-x-2",children:[n.jsx(_M,{className:"w-5 h-5"}),n.jsx("span",{children:"Copy to Clipboard"})]}),n.jsx("div",{className:"mt-2 p-3 bg-amber-50 rounded-lg border border-amber-200",children:n.jsxs("p",{className:"text-xs text-amber-800 text-center leading-relaxed",children:[n.jsx(fr,{className:"w-4 h-4 inline mr-1"}),"Share your emergency contacts with trusted friends, family, or colleagues for quick access during emergencies."]})})]})]})}),n.jsx(Mm,{currentPath:"/emergency-contacts"})]})}function DU(){const[,e]=Zt(),{toast:t}=yt(),[r,s]=h.useState(!1),a=async()=>{s(!0);try{const i=await Pe("POST","/api/create-subscription"),{orderId:o,amount:l,currency:c}=await i.json(),d=document.createElement("script");d.src="https://checkout.razorpay.com/v1/checkout.js",d.onload=()=>{const m={key:void 0,amount:l,currency:c,name:"MyyMotto",description:"Annual Vehicle Management Subscription",order_id:o,handler:async f=>{try{if((await Pe("POST","/api/verify-subscription",{razorpay_order_id:f.razorpay_order_id,razorpay_payment_id:f.razorpay_payment_id,razorpay_signature:f.razorpay_signature})).ok)t({title:"Subscription Successful!",description:"You can now add up to 4 vehicles."}),e("/add-vehicle");else throw new Error("Payment verification failed")}catch{t({title:"Payment Verification Failed",description:"Please contact support.",variant:"destructive"})}},prefill:{name:"Vehicle Owner",email:"user@example.com"},theme:{color:"#dc2626"},modal:{ondismiss:()=>{s(!1)}}};new window.Razorpay(m).open()},document.body.appendChild(d)}catch{t({title:"Error",description:"Failed to initiate payment. Please try again.",variant:"destructive"}),s(!1)}};return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"header-gradient-border border-4 border-red-500 shadow-lg relative z-10",children:n.jsx("div",{className:"px-4 py-4",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(O,{variant:"ghost",size:"icon",className:"text-gray-600 hover:bg-red-50",onClick:()=>e("/add-vehicle"),children:n.jsx(Pt,{className:"w-5 h-5"})}),n.jsx("img",{src:bt,alt:"MyyMotto Logo",className:"w-14 h-14 rounded-lg"}),n.jsxs("div",{children:[n.jsx(dt,{}),n.jsx("p",{className:"text-sm text-red-600",children:"Subscribe to Premium"})]})]})})})}),n.jsx("div",{className:"p-4 pb-20 bg-warm-pattern",children:n.jsxs(re,{className:"card-hover shadow-orange max-w-md mx-auto",children:[n.jsx(Me,{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-t-lg text-center",children:n.jsxs(Fe,{className:"flex items-center justify-center space-x-2 text-gray-800",children:[n.jsx(Xt,{className:"w-6 h-6 text-orange-600"}),n.jsx("span",{children:"Premium Subscription"})]})}),n.jsxs(se,{className:"p-6",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"text-4xl font-bold text-gray-800 mb-2",children:"100"}),n.jsx("div",{className:"text-sm text-gray-600",children:"per year"})]}),n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(nn,{className:"w-4 h-4 text-green-600"})}),n.jsx("span",{className:"text-sm text-gray-700",children:"Add up to 4 vehicles"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(nn,{className:"w-4 h-4 text-green-600"})}),n.jsx("span",{className:"text-sm text-gray-700",children:"Complete document management"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(nn,{className:"w-4 h-4 text-green-600"})}),n.jsx("span",{className:"text-sm text-gray-700",children:"Smart renewal notifications"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(nn,{className:"w-4 h-4 text-green-600"})}),n.jsx("span",{className:"text-sm text-gray-700",children:"Service center locator"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(nn,{className:"w-4 h-4 text-green-600"})}),n.jsx("span",{className:"text-sm text-gray-700",children:"Emergency contacts management"})]})]}),n.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:n.jsxs("p",{className:"text-sm text-orange-800 text-center",children:[n.jsx("strong",{children:"Note:"})," Free users can add up to 2 vehicles. Subscribe to add more vehicles and access all premium features."]})}),n.jsxs(O,{onClick:a,disabled:r,className:"w-full bg-orange-600 hover:bg-orange-700 text-white",size:"lg",children:[n.jsx($l,{className:"w-5 h-5 mr-2"}),r?"Processing...":"Subscribe Now - 100/year"]}),n.jsxs("div",{className:"text-center mt-4",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Secure payment powered by Razorpay"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supports UPI, Cards, Net Banking & Wallets"})]})]})]})})]})}var IU=Object.defineProperty,AU=Object.defineProperties,RU=Object.getOwnPropertyDescriptors,tm=Object.getOwnPropertySymbols,lD=Object.prototype.hasOwnProperty,cD=Object.prototype.propertyIsEnumerable,Bv=(e,t,r)=>t in e?IU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,MU=(e,t)=>{for(var r in t||(t={}))lD.call(t,r)&&Bv(e,r,t[r]);if(tm)for(var r of tm(t))cD.call(t,r)&&Bv(e,r,t[r]);return e},FU=(e,t)=>AU(e,RU(t)),OU=(e,t)=>{var r={};for(var s in e)lD.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&tm)for(var s of tm(e))t.indexOf(s)<0&&cD.call(e,s)&&(r[s]=e[s]);return r};function LU(e){let t=setTimeout(e,0),r=setTimeout(e,10),s=setTimeout(e,50);return[t,r,s]}function $U(e){let t=h.useRef();return h.useEffect(()=>{t.current=e}),t.current}var VU=18,dD=40,zU=`${dD}px`,UU=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function BU({containerRef:e,inputRef:t,pushPasswordManagerStrategy:r,isFocused:s}){let[a,i]=h.useState(!1),[o,l]=h.useState(!1),[c,d]=h.useState(!1),m=h.useMemo(()=>r==="none"?!1:(r==="increase-width"||r==="experimental-no-flickering")&&a&&o,[a,o,r]),p=h.useCallback(()=>{let f=e.current,x=t.current;if(!f||!x||c||r==="none")return;let v=f,y=v.getBoundingClientRect().left+v.offsetWidth,N=v.getBoundingClientRect().top+v.offsetHeight/2,b=y-VU,g=N;document.querySelectorAll(UU).length===0&&document.elementFromPoint(b,g)===f||(i(!0),d(!0))},[e,t,c,r]);return h.useEffect(()=>{let f=e.current;if(!f||r==="none")return;function x(){let y=window.innerWidth-f.getBoundingClientRect().right;l(y>=dD)}x();let v=setInterval(x,1e3);return()=>{clearInterval(v)}},[e,r]),h.useEffect(()=>{let f=s||document.activeElement===t.current;if(r==="none"||!f)return;let x=setTimeout(p,0),v=setTimeout(p,2e3),y=setTimeout(p,5e3),N=setTimeout(()=>{d(!0)},6e3);return()=>{clearTimeout(x),clearTimeout(v),clearTimeout(y),clearTimeout(N)}},[t,s,r,p]),{hasPWMBadge:a,willPushPWMBadge:m,PWM_BADGE_SPACE_WIDTH:zU}}var uD=h.createContext({}),mD=h.forwardRef((e,t)=>{var r=e,{value:s,onChange:a,maxLength:i,textAlign:o="left",pattern:l,placeholder:c,inputMode:d="numeric",onComplete:m,pushPasswordManagerStrategy:p="increase-width",pasteTransformer:f,containerClassName:x,noScriptCSSFallback:v=qU,render:y,children:N}=r,b=OU(r,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),g,w,S,j,k;let[R,F]=h.useState(typeof b.defaultValue=="string"?b.defaultValue:""),B=s??R,_=$U(B),X=h.useCallback(he=>{a==null||a(he),F(he)},[a]),C=h.useMemo(()=>l?typeof l=="string"?new RegExp(l):l:null,[l]),P=h.useRef(null),z=h.useRef(null),W=h.useRef({value:B,onChange:X,isIOS:typeof window<"u"&&((w=(g=window==null?void 0:window.CSS)==null?void 0:g.supports)==null?void 0:w.call(g,"-webkit-touch-callout","none"))}),M=h.useRef({prev:[(S=P.current)==null?void 0:S.selectionStart,(j=P.current)==null?void 0:j.selectionEnd,(k=P.current)==null?void 0:k.selectionDirection]});h.useImperativeHandle(t,()=>P.current,[]),h.useEffect(()=>{let he=P.current,le=z.current;if(!he||!le)return;W.current.value!==he.value&&W.current.onChange(he.value),M.current.prev=[he.selectionStart,he.selectionEnd,he.selectionDirection];function Ge(){if(document.activeElement!==he){A(null),te(null);return}let Ye=he.selectionStart,xt=he.selectionEnd,cr=he.selectionDirection,E=he.maxLength,q=he.value,I=M.current.prev,H=-1,J=-1,ee;if(q.length!==0&&Ye!==null&&xt!==null){let Kt=Ye===xt,Jm=Ye===q.length&&q.length<E;if(Kt&&!Jm){let _n=Ye;if(_n===0)H=0,J=1,ee="forward";else if(_n===E)H=_n-1,J=_n,ee="backward";else if(E>1&&q.length>1){let Wa=0;if(I[0]!==null&&I[1]!==null){ee=_n<I[1]?"backward":"forward";let eh=I[0]===I[1]&&I[0]<E;ee==="backward"&&!eh&&(Wa=-1)}H=Wa+_n,J=Wa+_n+1}}H!==-1&&J!==-1&&H!==J&&P.current.setSelectionRange(H,J,ee)}let xe=H!==-1?H:Ye,Xe=J!==-1?J:xt,He=ee??cr;A(xe),te(Xe),M.current.prev=[xe,Xe,He]}if(document.addEventListener("selectionchange",Ge,{capture:!0}),Ge(),document.activeElement===he&&u(!0),!document.getElementById("input-otp-style")){let Ye=document.createElement("style");if(Ye.id="input-otp-style",document.head.appendChild(Ye),Ye.sheet){let xt="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Dl(Ye.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Dl(Ye.sheet,`[data-input-otp]:autofill { ${xt} }`),Dl(Ye.sheet,`[data-input-otp]:-webkit-autofill { ${xt} }`),Dl(Ye.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Dl(Ye.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let at=()=>{le&&le.style.setProperty("--root-height",`${he.clientHeight}px`)};at();let ht=new ResizeObserver(at);return ht.observe(he),()=>{document.removeEventListener("selectionchange",Ge,{capture:!0}),ht.disconnect()}},[]);let[$,L]=h.useState(!1),[D,u]=h.useState(!1),[T,A]=h.useState(null),[U,te]=h.useState(null);h.useEffect(()=>{LU(()=>{var he,le,Ge,at;(he=P.current)==null||he.dispatchEvent(new Event("input"));let ht=(le=P.current)==null?void 0:le.selectionStart,Ye=(Ge=P.current)==null?void 0:Ge.selectionEnd,xt=(at=P.current)==null?void 0:at.selectionDirection;ht!==null&&Ye!==null&&(A(ht),te(Ye),M.current.prev=[ht,Ye,xt])})},[B,D]),h.useEffect(()=>{_!==void 0&&B!==_&&_.length<i&&B.length===i&&(m==null||m(B))},[i,m,_,B]);let fe=BU({containerRef:z,inputRef:P,pushPasswordManagerStrategy:p,isFocused:D}),pe=h.useCallback(he=>{let le=he.currentTarget.value.slice(0,i);if(le.length>0&&C&&!C.test(le)){he.preventDefault();return}typeof _=="string"&&le.length<_.length&&document.dispatchEvent(new Event("selectionchange")),X(le)},[i,X,_,C]),G=h.useCallback(()=>{var he;if(P.current){let le=Math.min(P.current.value.length,i-1),Ge=P.current.value.length;(he=P.current)==null||he.setSelectionRange(le,Ge),A(le),te(Ge)}u(!0)},[i]),ne=h.useCallback(he=>{var le,Ge;let at=P.current;if(!f&&(!W.current.isIOS||!he.clipboardData||!at))return;let ht=he.clipboardData.getData("text/plain"),Ye=f?f(ht):ht;he.preventDefault();let xt=(le=P.current)==null?void 0:le.selectionStart,cr=(Ge=P.current)==null?void 0:Ge.selectionEnd,E=(xt!==cr?B.slice(0,xt)+Ye+B.slice(cr):B.slice(0,xt)+Ye+B.slice(xt)).slice(0,i);if(E.length>0&&C&&!C.test(E))return;at.value=E,X(E);let q=Math.min(E.length,i-1),I=E.length;at.setSelectionRange(q,I),A(q),te(I)},[i,X,C,B]),oe=h.useMemo(()=>({position:"relative",cursor:b.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[b.disabled]),ge=h.useMemo(()=>({position:"absolute",inset:0,width:fe.willPushPWMBadge?`calc(100% + ${fe.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:fe.willPushPWMBadge?`inset(0 ${fe.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:o,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[fe.PWM_BADGE_SPACE_WIDTH,fe.willPushPWMBadge,o]),Z=h.useMemo(()=>h.createElement("input",FU(MU({autoComplete:b.autoComplete||"one-time-code"},b),{"data-input-otp":!0,"data-input-otp-placeholder-shown":B.length===0||void 0,"data-input-otp-mss":T,"data-input-otp-mse":U,inputMode:d,pattern:C==null?void 0:C.source,"aria-placeholder":c,style:ge,maxLength:i,value:B,ref:P,onPaste:he=>{var le;ne(he),(le=b.onPaste)==null||le.call(b,he)},onChange:pe,onMouseOver:he=>{var le;L(!0),(le=b.onMouseOver)==null||le.call(b,he)},onMouseLeave:he=>{var le;L(!1),(le=b.onMouseLeave)==null||le.call(b,he)},onFocus:he=>{var le;G(),(le=b.onFocus)==null||le.call(b,he)},onBlur:he=>{var le;u(!1),(le=b.onBlur)==null||le.call(b,he)}})),[pe,G,ne,d,ge,i,U,T,b,C==null?void 0:C.source,B]),be=h.useMemo(()=>({slots:Array.from({length:i}).map((he,le)=>{var Ge;let at=D&&T!==null&&U!==null&&(T===U&&le===T||le>=T&&le<U),ht=B[le]!==void 0?B[le]:null,Ye=B[0]!==void 0?null:(Ge=c==null?void 0:c[le])!=null?Ge:null;return{char:ht,placeholderChar:Ye,isActive:at,hasFakeCaret:at&&ht===null}}),isFocused:D,isHovering:!b.disabled&&$}),[D,$,i,U,T,b.disabled,B]),qe=h.useMemo(()=>y?y(be):h.createElement(uD.Provider,{value:be},N),[N,be,y]);return h.createElement(h.Fragment,null,v!==null&&h.createElement("noscript",null,h.createElement("style",null,v)),h.createElement("div",{ref:z,"data-input-otp-container":!0,style:oe,className:x},qe,h.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Z)))});mD.displayName="Input";function Dl(e,t){try{e.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var qU=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const hD=h.forwardRef(({className:e,containerClassName:t,...r},s)=>n.jsx(mD,{ref:s,containerClassName:Se("flex items-center gap-2 has-[:disabled]:opacity-50",t),className:Se("disabled:cursor-not-allowed",e),...r}));hD.displayName="InputOTP";const fD=h.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Se("flex items-center",e),...t}));fD.displayName="InputOTPGroup";const Qa=h.forwardRef(({index:e,className:t,...r},s)=>{const a=h.useContext(uD),{char:i,hasFakeCaret:o,isActive:l}=a.slots[e];return n.jsxs("div",{ref:s,className:Se("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",l&&"z-10 ring-2 ring-ring ring-offset-background",t),...r,children:[i,o&&n.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});Qa.displayName="InputOTPSlot";const YU=h.forwardRef(({...e},t)=>n.jsx("div",{ref:t,role:"separator",...e,children:n.jsx(DM,{})}));YU.displayName="InputOTPSeparator";var Wx="Switch",[GU,u9]=fn(Wx),[WU,XU]=GU(Wx),pD=h.forwardRef((e,t)=>{const{__scopeSwitch:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:m,...p}=e,[f,x]=h.useState(null),v=st(t,w=>x(w)),y=h.useRef(!1),N=f?m||!!f.closest("form"):!0,[b=!1,g]=Us({prop:a,defaultProp:i,onChange:d});return n.jsxs(WU,{scope:r,checked:b,disabled:l,children:[n.jsx(Ve.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":yD(b),"data-disabled":l?"":void 0,disabled:l,value:c,...p,ref:v,onClick:ye(e.onClick,w=>{g(S=>!S),N&&(y.current=w.isPropagationStopped(),y.current||w.stopPropagation())})}),N&&n.jsx(HU,{control:f,bubbles:!y.current,name:s,value:c,checked:b,required:o,disabled:l,form:m,style:{transform:"translateX(-100%)"}})]})});pD.displayName=Wx;var gD="SwitchThumb",xD=h.forwardRef((e,t)=>{const{__scopeSwitch:r,...s}=e,a=XU(gD,r);return n.jsx(Ve.span,{"data-state":yD(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});xD.displayName=gD;var HU=e=>{const{control:t,checked:r,bubbles:s=!0,...a}=e,i=h.useRef(null),o=e_(r),l=OC(t);return h.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&p){const f=new Event("click",{bubbles:s});p.call(c,r),c.dispatchEvent(f)}},[o,r,s]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function yD(e){return e?"checked":"unchecked"}var vD=pD,KU=xD;const rm=h.forwardRef(({className:e,...t},r)=>n.jsx(vD,{className:Se("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:n.jsx(KU,{className:Se("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));rm.displayName=vD.displayName;var Xx="Tabs",[QU,m9]=fn(Xx,[$m]),wD=$m(),[ZU,Hx]=QU(Xx),bD=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,m=Fm(l),[p,f]=Us({prop:s,onChange:a,defaultProp:i});return n.jsx(ZU,{scope:r,baseId:qn(),value:p,onValueChange:f,orientation:o,dir:m,activationMode:c,children:n.jsx(Ve.div,{dir:m,"data-orientation":o,...d,ref:t})})});bD.displayName=Xx;var jD="TabsList",ND=h.forwardRef((e,t)=>{const{__scopeTabs:r,loop:s=!0,...a}=e,i=Hx(jD,r),o=wD(r);return n.jsx(dk,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:n.jsx(Ve.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});ND.displayName=jD;var SD="TabsTrigger",CD=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,disabled:a=!1,...i}=e,o=Hx(SD,r),l=wD(r),c=TD(o.baseId,s),d=ED(o.baseId,s),m=s===o.value;return n.jsx(uk,{asChild:!0,...l,focusable:!a,active:m,children:n.jsx(Ve.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":d,"data-state":m?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:ye(e.onMouseDown,p=>{!a&&p.button===0&&p.ctrlKey===!1?o.onValueChange(s):p.preventDefault()}),onKeyDown:ye(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(s)}),onFocus:ye(e.onFocus,()=>{const p=o.activationMode!=="manual";!m&&!a&&p&&o.onValueChange(s)})})})});CD.displayName=SD;var kD="TabsContent",PD=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,forceMount:a,children:i,...o}=e,l=Hx(kD,r),c=TD(l.baseId,s),d=ED(l.baseId,s),m=s===l.value,p=h.useRef(m);return h.useEffect(()=>{const f=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(f)},[]),n.jsx(Tn,{present:a||m,children:({present:f})=>n.jsx(Ve.div,{"data-state":m?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:f&&i})})});PD.displayName=kD;function TD(e,t){return`${e}-trigger-${t}`}function ED(e,t){return`${e}-content-${t}`}var JU=bD,_D=ND,DD=CD,ID=PD;const AD=JU,Kx=h.forwardRef(({className:e,...t},r)=>n.jsx(_D,{ref:r,className:Se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Kx.displayName=_D.displayName;const Es=h.forwardRef(({className:e,...t},r)=>n.jsx(DD,{ref:r,className:Se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Es.displayName=DD.displayName;const _s=h.forwardRef(({className:e,...t},r)=>n.jsx(ID,{ref:r,className:Se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));_s.displayName=ID.displayName;function e7(){const[,e]=Zt(),[t,r]=h.useState("signin"),[s,a]=h.useState(""),[i,o]=h.useState(null),[l,c]=h.useState(0),[d,m]=h.useState("otp"),[p,f]=h.useState(!1),{toast:x}=yt();Jt(),h.useEffect(()=>{const C=localStorage.getItem("lastUsedIdentifier"),P=localStorage.getItem("hasPin")==="true";C&&P&&(a(C),N.setValue("identifier",C),r("direct-pin"),f(!0))},[]);const v=Ir({resolver:Yr(Q$),defaultValues:{identifier:""}}),y=Ir({resolver:Yr(Z$),defaultValues:{identifier:"",otp:""}}),N=Ir({resolver:Yr(J$),defaultValues:{identifier:"",pin:""}}),b=Ir({mode:"onChange",defaultValues:{pin:"",confirmPin:""}});Ir({resolver:Yr(eV),defaultValues:{enabled:!1}}),h.useEffect(()=>{t==="set-pin"&&b.reset({pin:"",confirmPin:""})},[t,b]);const g=rt({mutationFn:async C=>(await Pe("POST","/api/auth/signin",C)).json(),onSuccess:C=>{a(v.getValues().identifier),y.setValue("identifier",v.getValues().identifier),r("verify-otp"),x({title:"OTP Sent",description:`Verification code sent to ${C.maskedIdentifier}`}),c(60);const P=setInterval(()=>{c(z=>z<=1?(clearInterval(P),0):z-1)},1e3)},onError:C=>{x({title:"Error",description:C.message||"Failed to send OTP",variant:"destructive"})}}),w=rt({mutationFn:async C=>(await Pe("POST","/api/auth/pin-login",C)).json(),onSuccess:C=>{o(C.userId),localStorage.setItem("currentUserId",C.userId.toString()),localStorage.setItem("userId",C.userId.toString()),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("authMethod","pin"),localStorage.setItem("lastUsedIdentifier",s),localStorage.setItem("hasPin","true"),localStorage.removeItem("notifications_last_fetched"),x({title:"Welcome Back!",description:"Successfully signed in with PIN"}),e("/")},onError:C=>{var P,z;if(console.log("PIN login error:",C),console.log("Error message:",C.message),console.log("Error type:",typeof C.message),(P=C.message)!=null&&P.includes("403"))try{const W=C.message.substring(4),M=JSON.parse(W);if(M.isBlocked){console.log("Blocked user detected, redirecting to /blocked-user"),localStorage.setItem("blockedUserInfo",JSON.stringify({reason:M.blockedReason,contactEmail:M.contactEmail})),e("/blocked-user");return}}catch(W){if(console.log("Failed to parse error response:",W),(z=C.message)!=null&&z.includes("Account access restricted")){console.log("Blocked user detected (fallback), redirecting to /blocked-user"),e("/blocked-user");return}}x({title:"PIN Login Failed",description:C.message||"Invalid PIN",variant:"destructive"})}}),S=rt({mutationFn:async C=>(await Pe("POST","/api/auth/set-pin",{pin:C.pin,confirmPin:C.confirmPin,userId:i})).json(),onSuccess:()=>{localStorage.setItem("currentUserId",i.toString()),localStorage.setItem("userId",i.toString()),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("authMethod","pin"),localStorage.setItem("lastUsedIdentifier",s),localStorage.setItem("hasPin","true"),localStorage.removeItem("notifications_last_fetched"),e("/profile")},onError:C=>{x({title:"Error",description:C.message||"Failed to set PIN",variant:"destructive"})}});rt({mutationFn:async C=>(await Pe("POST","/api/auth/biometric-setup",{enabled:C.enabled,userId:i})).json(),onSuccess:C=>{x({title:"Biometric Setup Complete",description:C.message}),localStorage.setItem("currentUserId",i.toString()),localStorage.setItem("userId",i.toString()),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("authMethod","biometric"),localStorage.removeItem("notifications_last_fetched");const P=localStorage.getItem("hasProfile")==="true";e(P?"/":"/profile")},onError:C=>{x({title:"Error",description:C.message||"Failed to setup biometric authentication",variant:"destructive"})}});const j=rt({mutationFn:async C=>(await Pe("POST","/api/auth/verify-otp",C)).json(),onSuccess:C=>{o(C.userId),localStorage.setItem("currentUserId",C.userId.toString()),localStorage.setItem("userId",C.userId.toString()),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("authMethod","otp"),localStorage.removeItem("notifications_last_fetched"),C.hasProfile?(x({title:"Login Successful",description:"Welcome back to Myymotto!"}),e("/")):(b.reset({pin:"",confirmPin:""}),r("set-pin"))},onError:C=>{var P,z;if(console.log("OTP verification error:",C),console.log("Error message:",C.message),console.log("Error type:",typeof C.message),(P=C.message)!=null&&P.includes("403"))try{const W=C.message.substring(4),M=JSON.parse(W);if(M.isBlocked){console.log("Blocked user detected, redirecting to /blocked-user"),localStorage.setItem("blockedUserInfo",JSON.stringify({reason:M.blockedReason,contactEmail:M.contactEmail})),e("/blocked-user");return}}catch(W){if(console.log("Failed to parse error response:",W),(z=C.message)!=null&&z.includes("Account access restricted")){console.log("Blocked user detected (fallback), redirecting to /blocked-user"),e("/blocked-user");return}}x({title:"Verification Failed",description:C.message||"Invalid OTP",variant:"destructive"})}}),k=rt({mutationFn:async()=>await Pe("POST","/api/auth/resend-otp",{identifier:s}),onSuccess:()=>{x({title:"OTP Resent",description:"New verification code sent successfully"}),c(60);const C=setInterval(()=>{c(P=>P<=1?(clearInterval(C),0):P-1)},1e3)},onError:C=>{x({title:"Error",description:C.message||"Failed to resend OTP",variant:"destructive"})}}),R=C=>{g.mutate(C)},F=C=>{j.mutate({identifier:s,otp:C.otp})},B=C=>{w.mutate({identifier:C.identifier,pin:C.pin})},_=C=>{if(C.pin!==C.confirmPin){x({title:"PIN Mismatch",description:"Please ensure both PIN entries match",variant:"destructive"});return}S.mutate({pin:C.pin,confirmPin:C.confirmPin})},X=C=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(C);return t==="register"?n.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center bg-warm-pattern",children:n.jsxs(re,{className:"w-full max-w-md card-hover shadow-orange",children:[n.jsxs(Me,{className:"text-center",children:[n.jsx("div",{className:"bg-white p-2 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center shadow-lg",children:n.jsx("img",{src:bt,alt:"Myymotto Logo",className:"w-16 h-16 rounded-full"})}),n.jsxs(Fe,{className:"text-2xl font-bold text-gray-800",children:["Welcome to ",n.jsx(dt,{})]}),n.jsx("p",{className:"text-gray-600",children:"Complete your registration to continue"})]}),n.jsx(se,{className:"space-y-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ct,{variant:"outline",className:"mb-4",children:"New User Registration"}),n.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Your mobile/email: ",n.jsx("strong",{children:s})]}),n.jsxs(O,{onClick:()=>{localStorage.setItem("currentUserId","temp"),e("/profile")},className:"w-full gradient-warm text-white border-0 hover:opacity-90",size:"lg",children:["Complete Registration",n.jsx(Ah,{className:"w-4 h-4 ml-2"})]})]})})]})}):t==="verify-otp"?n.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center bg-warm-pattern",children:n.jsxs(re,{className:"w-full max-w-md card-hover shadow-orange",children:[n.jsxs(Me,{className:"text-center",children:[n.jsx("div",{className:"bg-white p-2 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center shadow-lg",children:n.jsx("img",{src:bt,alt:"Myymotto Logo",className:"w-16 h-16 rounded-full"})}),n.jsx(Fe,{className:"text-2xl font-bold gradient-text",children:"Verify OTP"}),n.jsx("p",{className:"text-gray-600",children:"Enter the verification code sent to your device"})]}),n.jsx(se,{children:n.jsx(cs,{...y,children:n.jsxs("form",{onSubmit:y.handleSubmit(F),className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs(ct,{variant:"outline",className:"mb-4",children:["Code sent to: ",s]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:[n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:"Development Mode:"})," Check server console logs for the latest  OTP code."]}),n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Database-backed storage now prevents OTP loss on server restarts."})]})]}),n.jsx(De,{control:y.control,name:"otp",render:({field:C})=>n.jsxs(Te,{children:[n.jsxs(Ee,{className:"flex items-center",children:[n.jsx(Td,{className:"w-4 h-4 mr-2"}),"Verification Code"]}),n.jsx(ke,{children:n.jsx(hD,{maxLength:6,...C,children:n.jsxs(fD,{className:"gap-2 justify-center",children:[n.jsx(Qa,{index:0,className:"border-gray-400 focus:border-primary"}),n.jsx(Qa,{index:1,className:"border-gray-400 focus:border-primary"}),n.jsx(Qa,{index:2,className:"border-gray-400 focus:border-primary"}),n.jsx(Qa,{index:3,className:"border-gray-400 focus:border-primary"}),n.jsx(Qa,{index:4,className:"border-gray-400 focus:border-primary"}),n.jsx(Qa,{index:5,className:"border-gray-400 focus:border-primary"})]})})}),n.jsx(_e,{})]})}),n.jsx(O,{type:"submit",className:"w-full gradient-warm text-white border-0 hover:opacity-90",disabled:j.isPending,size:"lg",children:j.isPending?"Verifying...":"Verify & Continue"}),n.jsxs("div",{className:"text-center space-y-2",children:[l>0?n.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500",children:[n.jsx(HM,{className:"w-4 h-4 mr-1"}),"Resend in ",l,"s"]}):n.jsx(O,{type:"button",variant:"ghost",onClick:()=>k.mutate(),disabled:k.isPending,className:"text-primary hover:text-primary/80",children:k.isPending?"Sending...":"Resend OTP"}),n.jsx(O,{type:"button",variant:"ghost",onClick:()=>r("signin"),className:"w-full text-gray-500 hover:text-gray-700",children:"Back to Sign In"})]})]})})})]})}):t==="set-pin"?n.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center bg-warm-pattern",children:n.jsxs(re,{className:"w-full max-w-md card-hover shadow-orange",children:[n.jsxs(Me,{className:"text-center",children:[n.jsx("div",{className:"bg-white p-2 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center shadow-lg",children:n.jsx(Xt,{className:"w-12 h-12 text-primary"})}),n.jsx(Fe,{className:"text-2xl font-bold gradient-text",children:"Setup PIN"}),n.jsx("p",{className:"text-gray-600",children:"Create a 4-digit PIN for quick access"})]}),n.jsx(se,{children:n.jsx(cs,{...b,children:n.jsxs("form",{onSubmit:b.handleSubmit(_),className:"space-y-6",children:[n.jsx(De,{control:b.control,name:"pin",render:({field:C})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-gray-700",children:"Create PIN"}),n.jsx(ke,{children:n.jsxs("div",{className:"relative",children:[n.jsx(Td,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),n.jsx(de,{value:C.value||"",onChange:P=>{const z=P.target.value.replace(/\D/g,"").slice(0,4);C.onChange(z)},type:"text",inputMode:"numeric",placeholder:"Enter 4-digit PIN",maxLength:4,className:"h-12 pl-10 border-gray-300 focus:border-primary focus:ring-1 focus:ring-primary"})]})}),n.jsx(_e,{})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Confirm PIN"}),n.jsxs("div",{className:"relative",children:[n.jsx(Td,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),n.jsx(de,{value:b.watch("confirmPin")||"",onChange:C=>{const P=C.target.value.replace(/\D/g,"").slice(0,4);b.setValue("confirmPin",P)},type:"text",inputMode:"numeric",placeholder:"Confirm 4-digit PIN",maxLength:4,className:"h-12 pl-10 border-gray-300 focus:border-primary focus:ring-1 focus:ring-primary"})]})]}),n.jsxs(O,{type:"submit",className:"w-full h-12 gradient-warm text-white border-0 hover:opacity-90",size:"lg",disabled:S.isPending,children:[S.isPending?"Setting up...":"Create PIN",n.jsx(Xt,{className:"w-4 h-4 ml-2"})]}),n.jsx(O,{type:"button",variant:"ghost",onClick:()=>r("signin"),className:"w-full text-gray-500 hover:text-gray-700",children:"Back to Sign In"})]})})})]})}):n.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center bg-warm-pattern",children:n.jsxs(re,{className:"w-full max-w-md card-hover shadow-orange",children:[n.jsxs(Me,{className:"text-center",children:[n.jsx("div",{className:"bg-white p-2 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center shadow-lg",children:n.jsx("img",{src:bt,alt:"Myymotto Logo",className:"w-16 h-16 rounded-full"})}),n.jsxs(Fe,{className:"text-2xl font-bold text-gray-800",children:["Welcome to ",n.jsx(dt,{})]}),n.jsx("p",{className:"text-red-600 font-medium",children:"Timely Care for your carrier"})]}),n.jsx(se,{children:n.jsxs(AD,{value:d,onValueChange:C=>m(C),children:[n.jsxs(Kx,{className:"grid w-full grid-cols-2",children:[n.jsxs(Es,{value:"otp",className:"flex items-center gap-2",children:[n.jsx(fo,{className:"w-4 h-4"}),"OTP Login"]}),n.jsxs(Es,{value:"pin",className:"flex items-center gap-2",children:[n.jsx(LM,{className:"w-4 h-4"}),"PIN Login"]})]}),n.jsx(_s,{value:"otp",className:"mt-6",children:n.jsx(cs,{...v,children:n.jsxs("form",{onSubmit:v.handleSubmit(R),className:"space-y-6",children:[n.jsx(De,{control:v.control,name:"identifier",render:({field:C})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-gray-700",children:"Email or Mobile Number"}),n.jsx(ke,{children:n.jsxs("div",{className:"relative",children:[C.value&&n.jsx("div",{className:"absolute left-3 top-3 z-10",children:X(C.value)?n.jsx(fo,{className:"w-4 h-4 text-gray-400"}):n.jsx(yp,{className:"w-4 h-4 text-gray-400"})}),n.jsx(de,{...C,placeholder:"Enter your email or mobile number",className:`h-12 ${C.value?"pl-10":"pl-4"} border-gray-300 focus:border-primary focus:ring-1 focus:ring-primary`})]})}),n.jsx(_e,{})]})}),n.jsxs(O,{type:"submit",className:"w-full h-12 gradient-warm text-white border-0 hover:opacity-90",size:"lg",disabled:g.isPending,children:[g.isPending?"Sending...":"Send OTP",n.jsx(Ah,{className:"w-4 h-4 ml-2"})]})]})})}),n.jsx(_s,{value:"pin",className:"mt-6",children:n.jsx(cs,{...N,children:n.jsxs("form",{onSubmit:N.handleSubmit(B),className:"space-y-6",children:[n.jsx(De,{control:N.control,name:"identifier",render:({field:C})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-gray-700",children:"Email or Mobile Number"}),n.jsx(ke,{children:n.jsxs("div",{className:"relative",children:[C.value&&n.jsx("div",{className:"absolute left-3 top-3 z-10",children:X(C.value)?n.jsx(fo,{className:"w-4 h-4 text-gray-400"}):n.jsx(yp,{className:"w-4 h-4 text-gray-400"})}),n.jsx(de,{...C,placeholder:"Enter your email or mobile number",className:`h-12 ${C.value?"pl-10":"pl-4"} border-gray-300 focus:border-primary focus:ring-1 focus:ring-primary`})]})}),n.jsx(_e,{})]})}),n.jsx(De,{control:N.control,name:"pin",render:({field:C})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-gray-700",children:"PIN"}),n.jsx(ke,{children:n.jsxs("div",{className:"relative",children:[n.jsx(Td,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),n.jsx(de,{...C,type:"password",placeholder:"Enter your 4-digit PIN",maxLength:4,className:"h-12 pl-10 border-gray-300 focus:border-primary focus:ring-1 focus:ring-primary"})]})}),n.jsx(_e,{})]})}),n.jsxs(O,{type:"submit",className:"w-full h-12 gradient-warm text-white border-0 hover:opacity-90",size:"lg",disabled:w.isPending,children:[w.isPending?"Verifying...":"Sign In with PIN",n.jsx(Ah,{className:"w-4 h-4 ml-2"})]})]})})})]})})]})})}function En(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Va(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function t7(e,t){const r=En(e);return isNaN(t)?Va(e,NaN):(r.setDate(r.getDate()+t),r)}const RD=6048e5,r7=864e5;let n7={};function Zm(){return n7}function Vc(e,t){var l,c,d,m;const r=Zm(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((m=(d=r.locale)==null?void 0:d.options)==null?void 0:m.weekStartsOn)??0,a=En(e),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function nm(e){return Vc(e,{weekStartsOn:1})}function MD(e){const t=En(e),r=t.getFullYear(),s=Va(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=nm(s),i=Va(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=nm(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function qv(e){const t=En(e);return t.setHours(0,0,0,0),t}function Yv(e){const t=En(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function s7(e,t){const r=qv(e),s=qv(t),a=+r-Yv(r),i=+s-Yv(s);return Math.round((a-i)/r7)}function a7(e){const t=MD(e),r=Va(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),nm(r)}function i7(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function o7(e){if(!i7(e)&&typeof e!="number")return!1;const t=En(e);return!isNaN(Number(t))}function l7(e){const t=En(e),r=Va(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const c7={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},d7=(e,t,r)=>{let s;const a=c7[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function ef(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const u7={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},m7={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},h7={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},f7={date:ef({formats:u7,defaultWidth:"full"}),time:ef({formats:m7,defaultWidth:"full"}),dateTime:ef({formats:h7,defaultWidth:"full"})},p7={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},g7=(e,t,r,s)=>p7[e];function Il(e){return(t,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const x7={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},y7={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},v7={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},w7={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},b7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},j7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},N7=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},S7={ordinalNumber:N7,era:Il({values:x7,defaultWidth:"wide"}),quarter:Il({values:y7,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Il({values:v7,defaultWidth:"wide"}),day:Il({values:w7,defaultWidth:"wide"}),dayPeriod:Il({values:b7,defaultWidth:"wide",formattingValues:j7,defaultFormattingWidth:"wide"})};function Al(e){return(t,r={})=>{const s=r.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?k7(l,p=>p.test(o)):C7(l,p=>p.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const m=t.slice(o.length);return{value:d,rest:m}}}function C7(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function k7(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function P7(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const T7=/^(\d+)(th|st|nd|rd)?/i,E7=/\d+/i,_7={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},D7={any:[/^b/i,/^(a|c)/i]},I7={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},A7={any:[/1/i,/2/i,/3/i,/4/i]},R7={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},M7={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},F7={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},O7={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},L7={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$7={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},V7={ordinalNumber:P7({matchPattern:T7,parsePattern:E7,valueCallback:e=>parseInt(e,10)}),era:Al({matchPatterns:_7,defaultMatchWidth:"wide",parsePatterns:D7,defaultParseWidth:"any"}),quarter:Al({matchPatterns:I7,defaultMatchWidth:"wide",parsePatterns:A7,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Al({matchPatterns:R7,defaultMatchWidth:"wide",parsePatterns:M7,defaultParseWidth:"any"}),day:Al({matchPatterns:F7,defaultMatchWidth:"wide",parsePatterns:O7,defaultParseWidth:"any"}),dayPeriod:Al({matchPatterns:L7,defaultMatchWidth:"any",parsePatterns:$7,defaultParseWidth:"any"})},z7={code:"en-US",formatDistance:d7,formatLong:f7,formatRelative:g7,localize:S7,match:V7,options:{weekStartsOn:0,firstWeekContainsDate:1}};function U7(e){const t=En(e);return s7(t,l7(t))+1}function B7(e){const t=En(e),r=+nm(t)-+a7(t);return Math.round(r/RD)+1}function FD(e,t){var m,p,f,x;const r=En(e),s=r.getFullYear(),a=Zm(),i=(t==null?void 0:t.firstWeekContainsDate)??((p=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??a.firstWeekContainsDate??((x=(f=a.locale)==null?void 0:f.options)==null?void 0:x.firstWeekContainsDate)??1,o=Va(e,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=Vc(o,t),c=Va(e,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const d=Vc(c,t);return r.getTime()>=l.getTime()?s+1:r.getTime()>=d.getTime()?s:s-1}function q7(e,t){var l,c,d,m;const r=Zm(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(d=r.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??1,a=FD(e,t),i=Va(e,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),Vc(i,t)}function Y7(e,t){const r=En(e),s=+Vc(r,t)-+q7(r,t);return Math.round(s/RD)+1}function pt(e,t){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return r+s}const Js={y(e,t){const r=e.getFullYear(),s=r>0?r:1-r;return pt(t==="yy"?s%100:s,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):pt(r+1,2)},d(e,t){return pt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return pt(e.getHours()%12||12,t.length)},H(e,t){return pt(e.getHours(),t.length)},m(e,t){return pt(e.getMinutes(),t.length)},s(e,t){return pt(e.getSeconds(),t.length)},S(e,t){const r=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,r-3));return pt(a,t.length)}},Ui={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Gv={G:function(e,t,r){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return Js.y(e,t)},Y:function(e,t,r,s){const a=FD(e,s),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return pt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):pt(i,t.length)},R:function(e,t){const r=MD(e);return pt(r,t.length)},u:function(e,t){const r=e.getFullYear();return pt(r,t.length)},Q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return pt(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return pt(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){const s=e.getMonth();switch(t){case"M":case"MM":return Js.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return pt(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){const a=Y7(e,s);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):pt(a,t.length)},I:function(e,t,r){const s=B7(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):pt(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Js.d(e,t)},D:function(e,t,r){const s=U7(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):pt(s,t.length)},E:function(e,t,r){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return pt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return pt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return pt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const s=e.getHours();let a;switch(s===12?a=Ui.noon:s===0?a=Ui.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const s=e.getHours();let a;switch(s>=17?a=Ui.evening:s>=12?a=Ui.afternoon:s>=4?a=Ui.morning:a=Ui.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Js.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Js.H(e,t)},K:function(e,t,r){const s=e.getHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):pt(s,t.length)},k:function(e,t,r){let s=e.getHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):pt(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Js.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Js.s(e,t)},S:function(e,t){return Js.S(e,t)},X:function(e,t,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return Xv(s);case"XXXX":case"XX":return Za(s);case"XXXXX":case"XXX":default:return Za(s,":")}},x:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"x":return Xv(s);case"xxxx":case"xx":return Za(s);case"xxxxx":case"xxx":default:return Za(s,":")}},O:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Wv(s,":");case"OOOO":default:return"GMT"+Za(s,":")}},z:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Wv(s,":");case"zzzz":default:return"GMT"+Za(s,":")}},t:function(e,t,r){const s=Math.trunc(e.getTime()/1e3);return pt(s,t.length)},T:function(e,t,r){const s=e.getTime();return pt(s,t.length)}};function Wv(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),i=s%60;return i===0?r+String(a):r+String(a)+t+pt(i,2)}function Xv(e,t){return e%60===0?(e>0?"-":"+")+pt(Math.abs(e)/60,2):Za(e,t)}function Za(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=pt(Math.trunc(s/60),2),i=pt(s%60,2);return r+a+t+i}const Hv=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},OD=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},G7=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return Hv(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Hv(s,t)).replace("{{time}}",OD(a,t))},W7={p:OD,P:G7},X7=/^D+$/,H7=/^Y+$/,K7=["D","DD","YY","YYYY"];function Q7(e){return X7.test(e)}function Z7(e){return H7.test(e)}function J7(e,t,r){const s=eB(e,t,r);if(console.warn(s),K7.includes(e))throw new RangeError(s)}function eB(e,t,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const tB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nB=/^'([^]*?)'?$/,sB=/''/g,aB=/[a-zA-Z]/;function Do(e,t,r){var m,p,f,x;const s=Zm(),a=s.locale??z7,i=s.firstWeekContainsDate??((p=(m=s.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=s.weekStartsOn??((x=(f=s.locale)==null?void 0:f.options)==null?void 0:x.weekStartsOn)??0,l=En(e);if(!o7(l))throw new RangeError("Invalid time value");let c=t.match(rB).map(v=>{const y=v[0];if(y==="p"||y==="P"){const N=W7[y];return N(v,a.formatLong)}return v}).join("").match(tB).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const y=v[0];if(y==="'")return{isToken:!1,value:iB(v)};if(Gv[y])return{isToken:!0,value:v};if(y.match(aB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:v}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(v=>{if(!v.isToken)return v.value;const y=v.value;(Z7(y)||Q7(y))&&J7(y,t,String(e));const N=Gv[y[0]];return N(l,y,a.localize,d)}).join("")}function iB(e){const t=e.match(nB);return t?t[1].replace(sB,"'"):e}function oB(){const[e,t]=h.useState(null),[r,s]=h.useState(!1),{toast:a}=yt(),i=Jt(),{data:o,isLoading:l}=We({queryKey:["/api/vehicles"],staleTime:3e4}),{data:c,isLoading:d,refetch:m}=We({queryKey:[`/api/vehicles/${e==null?void 0:e.id}/violations`],enabled:!1,staleTime:5*60*1e3,gcTime:10*60*1e3});h.useEffect(()=>{o&&o.length>0&&!e&&t(o[0])},[o,e]);const p=rt({mutationFn:async N=>await Pe("POST",`/api/vehicles/${N}/check-violations`),onSuccess:N=>{var w,S;const b=N.stateCode||(e==null?void 0:e.licensePlate.substring(0,2)),g=((S=(w=N.message)==null?void 0:w.match(/(\d+) violations found/))==null?void 0:S[1])||"0";a({title:"Violations Checked",description:`Successfully checked ${b} state database. ${g} violations found.`}),m()},onError:N=>{a({title:"Error",description:N.message||"Failed to check violations",variant:"destructive"})},onSettled:()=>{s(!1)}}),f=rt({mutationFn:async({violationId:N,status:b,paymentDate:g})=>await Pe("PUT",`/api/violations/${N}/status`,{status:b,paymentDate:g}),onSuccess:()=>{a({title:"Status Updated",description:"Violation status has been updated."}),e&&i.invalidateQueries({queryKey:[`/api/vehicles/${e.id}/violations`]})},onError:N=>{a({title:"Error",description:N.message||"Failed to update status",variant:"destructive"})}}),x=async()=>{if(!e)return;const N=e.licensePlate.substring(0,2);s(!0),a({title:"Checking Violations",description:`Connecting to ${N} State Government API...`}),await p.mutateAsync(e.id)},v=N=>{f.mutate({violationId:N,status:"paid",paymentDate:new Date().toISOString()})},y=N=>{switch(N.toLowerCase()){case"paid":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return l?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx(ro,{className:"h-8 w-8 animate-spin text-orange-600"})}):!o||o.length===0?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(fr,{className:"h-16 w-16 text-orange-600 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No Vehicles Found"}),n.jsx("p",{className:"text-gray-600",children:"Add a vehicle first to check for traffic violations."})]})}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"header-gradient-border shadow-lg relative z-10",children:n.jsx("div",{className:"px-3 py-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Be,{href:"/",children:n.jsx(O,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-red-50 p-1",children:n.jsx(Pt,{className:"w-4 h-4"})})}),n.jsx("img",{src:bt,alt:"MyyMotto Logo",className:"w-12 h-12 rounded-lg"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-base font-bold",children:n.jsx(dt,{})}),n.jsx("p",{className:"text-xs text-red-600",children:"Traffic Violations"})]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Be,{href:"/settings",children:n.jsx(O,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-red-50 p-1",children:n.jsx(sr,{className:"w-4 h-4"})})}),n.jsx(O,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-red-50 p-1",children:n.jsx(jr,{className:"w-4 h-4"})}),n.jsx(Ux,{})]})]})})}),n.jsxs("div",{className:"max-w-md mx-auto px-3 pb-20",children:[n.jsxs(re,{className:"mb-6 shadow-lg shadow-orange-100",children:[n.jsx(Me,{className:"pb-3",children:n.jsxs(Fe,{className:"text-lg flex items-center gap-2",children:[n.jsx(gp,{className:"w-5 h-5 text-orange-600"}),"Select Vehicle"]})}),n.jsx(se,{children:n.jsx("div",{className:"grid gap-2",children:o.map(N=>{var b;return n.jsx(O,{variant:(e==null?void 0:e.id)===N.id?"default":"outline",onClick:()=>{t(N),m()},className:"justify-start h-auto p-3",children:n.jsxs("div",{className:"text-left",children:[n.jsxs("div",{className:"font-semibold",children:[(b=N.make)==null?void 0:b.toUpperCase()," ",N.model]}),n.jsxs("div",{className:"text-sm opacity-80",children:[N.licensePlate,"  ",N.licensePlate.substring(0,2)," State"]})]})},N.id)})})})]}),e&&n.jsxs(re,{className:"mb-6 shadow-lg shadow-orange-100",children:[n.jsxs(Me,{children:[n.jsxs(Fe,{className:"text-lg flex items-center gap-2",children:[n.jsx(Ia,{className:"w-5 h-5 text-blue-600"}),"Check ",e.licensePlate.substring(0,2)," State Database"]}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Connecting to ",e.licensePlate.substring(0,2)," State Government Traffic API"]})]}),n.jsxs(se,{children:[n.jsx(O,{onClick:x,disabled:r,className:"w-full bg-orange-600 hover:bg-orange-700 text-white h-12",children:r?n.jsxs(n.Fragment,{children:[n.jsx(ro,{className:"w-5 h-5 animate-spin mr-2"}),"Checking Government Database..."]}):n.jsxs(n.Fragment,{children:[n.jsx(gp,{className:"w-5 h-5 mr-2"}),"Check Traffic Violations"]})}),n.jsx("div",{className:"mt-3 text-xs text-gray-500 text-center",children:"Real-time data from official government sources"})]})]}),d?n.jsx(re,{className:"shadow-lg shadow-orange-100",children:n.jsx(se,{className:"pt-6",children:n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(ro,{className:"w-8 h-8 animate-spin text-orange-600"})})})}):c&&c.length>0?n.jsx("div",{className:"space-y-4",children:c.map(N=>n.jsxs(re,{className:"shadow-lg shadow-orange-100",children:[n.jsx(Me,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Fe,{className:"text-lg",children:N.challanNumber}),n.jsx(ct,{className:y(N.status),children:N.status.toUpperCase()})]})}),n.jsx(se,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(fr,{className:"w-4 h-4 mr-2"}),n.jsx("span",{className:"font-medium",children:N.offense})]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(Bs,{className:"w-4 h-4 mr-2"}),n.jsx("span",{children:Do(new Date(N.violationDate),"MMM dd, yyyy")})]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(Ta,{className:"w-4 h-4 mr-2"}),n.jsx("span",{children:N.location})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2",children:[n.jsxs("div",{className:"text-lg font-bold text-red-600",children:["",N.fineAmount]}),N.status==="pending"&&n.jsx(O,{onClick:()=>v(N.id),disabled:f.isPending,size:"sm",className:"bg-green-600 hover:bg-green-700",children:f.isPending?n.jsx(ro,{className:"w-4 h-4 animate-spin"}):"Mark as Paid"})]}),N.paymentDate&&n.jsxs("div",{className:"text-sm text-green-600",children:["Paid on ",Do(new Date(N.paymentDate),"MMM dd, yyyy")]})]})})]},N.id))}):n.jsx(re,{className:"shadow-lg shadow-orange-100",children:n.jsx(se,{className:"pt-6",children:n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Ia,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Violations Found"}),n.jsxs("p",{className:"text-gray-600",children:[e==null?void 0:e.licensePlate," has no traffic violations on record."]})]})})})]})]})}function lB(){const{toast:e}=yt(),[t,r]=h.useState({}),s=localStorage.getItem("currentUserId")||localStorage.getItem("userId")||"1",{data:a=[],isLoading:i}=We({queryKey:["/api/vehicles"],queryFn:async()=>(await Pe("GET",`/api/vehicles?userId=${s}`)).json()});h.useEffect(()=>{(async()=>{if(a.length>0){const x={};for(const v of a)try{const N=(await qt.getDocumentsByVehicle(v.id)).find(b=>b.type==="insurance");x[v.id]=N||null}catch(y){console.error(`Error fetching insurance documents for vehicle ${v.id}:`,y),x[v.id]=null}r(x)}})()},[a]);const o=a.filter(f=>{var y;const x=t[f.id];if(!x||!((y=x.metadata)!=null&&y.insuranceExpiryDate))return!0;const v=m(x.metadata.insuranceExpiryDate);return v.status==="expired"||v.status==="expiring"}),l=f=>{f.licensePlate&&navigator.clipboard.writeText(f.licensePlate).then(()=>{e({title:" Vehicle Number Copied!",description:`${f.licensePlate} is ready to paste (Ctrl+V / Cmd+V) on PolicyBazar form.`,duration:5e3})}).catch(()=>{e({title:"Manual Entry Required",description:`Please type vehicle number: ${f.licensePlate}`,duration:5e3})}),window.open("https://www.policybazaar.com/motor-insurance/car-insurance/","_blank")},c=()=>{window.open("https://www.acko.com/car-insurance/","_blank")},d=f=>{const x={"HDFC ERGO":{url:"https://www.hdfcergo.com/renew-hdfc-ergo-policy",name:"HDFC ERGO"},"ICICI LOMBARD":{url:"https://www.icicilombard.com/renew-policy-online",name:"ICICI Lombard"},"BAJAJ ALLIANZ":{url:"https://www.bajajallianz.com/quick-renew/",name:"Bajaj Allianz"},"TATA AIG":{url:"https://www.tataaig.com/motor-insurance/renew-car-insurance",name:"Tata AIG"},"NEW INDIA ASSURANCE":{url:"https://www.newindia.co.in/online-renewal",name:"New India Assurance"},"RELIANCE GENERAL":{url:"https://www.reliancegeneral.co.in/Insurance/motor-insurance-renewal.aspx",name:"Reliance General"},"ORIENTAL INSURANCE":{url:"https://www.orientalinsurance.org.in/motor-insurance",name:"Oriental Insurance"},"UNITED INDIA":{url:"https://www.uiic.co.in/renewal",name:"United India"},"NATIONAL INSURANCE":{url:"https://www.nationalinsurance.nic.co.in/motor-insurance",name:"National Insurance"},"SBI GENERAL":{url:"https://www.sbigeneral.in/motor-insurance/car-insurance-renewal",name:"SBI General"},"IFFCO TOKIO":{url:"https://www.iffcotokio.co.in/motor-insurance/car-insurance",name:"IFFCO Tokio"},"ROYAL SUNDARAM":{url:"https://www.royalsundaram.in/motor-insurance/car-insurance",name:"Royal Sundaram"},CHOLAMANDALAM:{url:"https://www.cholamandalam.com/motor-insurance/car-insurance-renewal.aspx",name:"Cholamandalam"},"LIBERTY GENERAL":{url:"https://www.libertyinsurance.in/motor-insurance/car-insurance",name:"Liberty General"},"FUTURE GENERALI":{url:"https://www.futuregenerali.in/motor-insurance/car-insurance",name:"Future Generali"},"DIGIT INSURANCE":{url:"https://www.godigit.com/motor-insurance/car-insurance-renewal",name:"Digit Insurance"},ACKO:{url:"https://www.acko.com/car-insurance/",name:"Acko"},"BHARTI AXA":{url:"https://www.bharti-axagi.co.in/motor-insurance/car-insurance",name:"Bharti AXA"}},v=f==null?void 0:f.toUpperCase().trim();return x[v]||{url:`https://www.google.com/search?q=${encodeURIComponent(f+" car insurance renewal")}`,name:f}},m=f=>{if(!f)return{status:"unknown",color:"gray"};const x=new Date(f),v=new Date,y=Math.ceil((x.getTime()-v.getTime())/(1e3*60*60*24));return y<0?{status:"expired",color:"red"}:y<=30?{status:"expiring",color:"orange"}:y<=60?{status:"due_soon",color:"yellow"}:{status:"active",color:"green"}},p=(f,x)=>{const v=d(x);f.licensePlate&&navigator.clipboard.writeText(f.licensePlate).then(()=>{e({title:"Vehicle Number Copied!",description:`${f.licensePlate} copied for ${v.name} renewal page.`})}).catch(()=>{e({title:"Ready for Renewal",description:`Use vehicle number: ${f.licensePlate}`})}),window.open(v.url,"_blank")};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"header-gradient-border border-4 border-red-500 shadow-lg relative z-10",children:n.jsx("div",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Be,{href:"/",children:n.jsx(O,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-red-50 p-2",children:n.jsx(Pt,{className:"w-5 h-5"})})}),n.jsx("img",{src:bt,alt:"Myymotto Logo",className:"w-14 h-14 rounded-lg"}),n.jsxs("div",{children:[n.jsx(dt,{}),n.jsx("p",{className:"text-sm text-red-600",children:"Timely Care for your carrier"})]})]}),n.jsx(Xt,{className:"w-8 h-8 text-blue-800 font-bold"})]})})}),n.jsxs("main",{className:"px-4 py-6 space-y-6",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Insurance Renewals"}),n.jsx("p",{className:"text-gray-600",children:"Compare and renew your vehicle insurance policies"})]}),i?n.jsx("div",{className:"space-y-4",children:[1,2,3].map(f=>n.jsx(re,{className:"shadow-lg shadow-orange-100 animate-pulse",children:n.jsx(se,{className:"p-6",children:n.jsx("div",{className:"h-20 bg-gray-200 rounded"})})},f))}):o.length===0?n.jsx(re,{className:"shadow-lg shadow-orange-100",children:n.jsx(se,{className:"pt-6",children:n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Xt,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"All Insurance Up to Date"}),n.jsx("p",{className:"text-gray-600",children:"All your vehicles have valid insurance policies."})]})})}):n.jsx("div",{className:"space-y-4",children:o.map(f=>{var b,g,w;const x=t[f.id],v=(b=x==null?void 0:x.metadata)==null?void 0:b.insuranceExpiryDate,y=(g=x==null?void 0:x.metadata)==null?void 0:g.insuranceProvider,N=v?m(v):{status:"unknown",color:"gray"};return n.jsxs(re,{className:"shadow-lg shadow-orange-100",children:[n.jsxs(Me,{className:"pb-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Fe,{className:"text-lg",children:[(w=f.make)==null?void 0:w.toUpperCase()," ",f.model," (",f.year,")"]}),n.jsx(ct,{className:N.status==="expired"?"bg-red-100 text-red-800":N.status==="expiring"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800",children:N.status==="expired"?"EXPIRED":N.status==="expiring"?"EXPIRING SOON":"NEEDS RENEWAL"})]}),n.jsx("p",{className:"text-sm text-gray-600",children:f.licensePlate})]}),n.jsx(se,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[N.status==="expired"?n.jsx(fr,{className:"w-4 h-4 text-red-600 mr-2"}):n.jsx(Bs,{className:"w-4 h-4 text-orange-600 mr-2"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Current Insurance"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Provider:"}),n.jsx("p",{className:"font-medium",children:y||"Not specified"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Expires:"}),n.jsx("p",{className:"font-medium",children:v?Do(new Date(v),"MMM dd, yyyy"):"Not set"})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-medium text-gray-800",children:"Compare & Renew Insurance"}),y&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Renew with Current Provider"}),n.jsxs(O,{onClick:()=>p(f,y),variant:"outline",className:"w-full border-green-200 bg-green-50 hover:bg-green-100 text-green-800 flex items-center justify-between p-3 h-auto",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(lC,{className:"w-4 h-4 mr-2"}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-medium",children:y}),n.jsx("div",{className:"text-xs opacity-80",children:"Vehicle number copied  Direct renewal"})]})]}),n.jsx(Ms,{className:"w-4 h-4"})]})]}),n.jsxs("div",{className:"text-xs text-blue-600 bg-blue-50 p-2 rounded-lg border border-blue-200",children:[" ",n.jsx("strong",{children:"How to use:"})," Click PolicyBazar  Vehicle number (",f.licensePlate,") copied  Paste (Ctrl+V / Cmd+V) in their form  Get quotes!"]}),n.jsxs(O,{onClick:()=>l(f),className:"w-full bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-between p-4 h-auto",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-8 h-8 bg-white rounded-full flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-blue-600 font-bold text-xs",children:"PB"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-semibold",children:"PolicyBazar"}),n.jsx("div",{className:"text-xs opacity-90",children:"Copies number  Paste manually  20+ insurers"})]})]}),n.jsx(Ms,{className:"w-4 h-4"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs(O,{onClick:c,variant:"outline",className:"flex items-center justify-center space-x-2 p-3 h-auto",children:[n.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-orange-600 font-bold text-xs",children:"A"})}),n.jsx("span",{className:"text-sm",children:"Acko"}),n.jsx(Ms,{className:"w-3 h-3"})]}),n.jsxs(O,{onClick:()=>window.open("https://www.bajajallianz.com/motor-insurance/car-insurance.html","_blank"),variant:"outline",className:"flex items-center justify-center space-x-2 p-3 h-auto",children:[n.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-red-600 font-bold text-xs",children:"BA"})}),n.jsx("span",{className:"text-sm",children:"Bajaj"}),n.jsx(Ms,{className:"w-3 h-3"})]})]}),n.jsx("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(Ft,{className:"w-4 h-4 text-blue-600 mt-0.5"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{className:"text-blue-800 font-medium",children:"Don't forget to update MyyMotto!"}),n.jsx("p",{className:"text-blue-600",children:"After renewing, update your insurance details in the vehicle edit page."})]})]})})]})]})})]},f.id)})}),n.jsxs(re,{className:"shadow-lg shadow-orange-100",children:[n.jsx(Me,{children:n.jsxs(Fe,{className:"text-lg flex items-center",children:[n.jsx(Xt,{className:"w-5 h-5 mr-2 text-blue-600"}),"Insurance Renewal Tips"]})}),n.jsx(se,{children:n.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[n.jsx("p",{children:" Start renewal process 15-30 days before expiry"}),n.jsx("p",{children:" Compare quotes from multiple insurers"}),n.jsx("p",{children:" Check for No Claim Bonus discounts"}),n.jsx("p",{children:" Review coverage limits and add-ons"}),n.jsx("p",{children:" Keep all documents ready: RC, previous policy, etc."})]})})]})]})]})}const cB={"HDFC ERGO":"https://www.hdfcergo.com/motor-insurance","ICICI Lombard":"https://www.icicilombard.com/motor-insurance","Bajaj Allianz":"https://www.bajajallianz.com/motor-insurance.html","TATA AIG":"https://www.tataaig.com/motor-insurance","New India Assurance":"https://www.newindia.co.in/content/motor-insurance","Oriental Insurance":"https://www.orientalinsurance.org.in/web/guest/motor-insurance","United India Insurance":"https://www.uiic.co.in/en/motor-insurance","National Insurance":"https://www.nationalinsurance.nic.co.in/en/motor-insurance","Reliance General":"https://www.reliancegeneral.co.in/Insurance/Motor-Insurance.aspx","Royal Sundaram":"https://www.royalsundaram.in/motor-insurance","Kotak Mahindra":"https://www.kotakgeneral.com/motor-insurance","SBI General":"https://www.sbigeneral.in/motor-insurance",Cholamandalam:"https://www.cholamandalam.com/motor-insurance.aspx","Bharti AXA":"https://www.bharti-axagi.co.in/motor-insurance","Future Generali":"https://www.futuregenerali.in/motor-insurance"};function dB(){const[,e]=Zt(),[t,r]=h.useState(null),[s,a]=h.useState({}),i=localStorage.getItem("currentUserId")||localStorage.getItem("userId")||"1",{data:o=[],isLoading:l}=We({queryKey:["/api/vehicles"],queryFn:async()=>(await Pe("GET",`/api/vehicles?userId=${i}`)).json()});h.useEffect(()=>{(async()=>{if(o.length>0){const v={};for(const y of o)try{const b=(await qt.getDocumentsByVehicle(y.id)).filter(g=>g.type==="insurance");v[y.id]=b}catch(N){console.error(`Error fetching insurance documents for vehicle ${y.id}:`,N),v[y.id]=[]}a(v)}})()},[o]);const c=x=>{r(t===x?null:x)},d=async x=>{try{if(x.fileData){const v=new Blob([x.fileData],{type:x.mimeType}),y=URL.createObjectURL(v);window.open(y,"_blank")}}catch(v){console.error("Error opening document:",v)}},m=x=>{if(!x)return null;try{const v=new Date(x);return t7(v,364)}catch{return null}},p=x=>{if(!x)return{status:"unknown",color:"gray"};const v=m(x);if(!v)return{status:"unknown",color:"gray"};const y=new Date,N=Math.ceil((v.getTime()-y.getTime())/(1e3*60*60*24));return N<0?{status:"Expired",color:"red"}:N<=30?{status:"Expiring Soon",color:"orange"}:N<=60?{status:"Due Soon",color:"yellow"}:{status:"Active",color:"green"}},f=x=>cB[x]||`https://www.google.com/search?q=${encodeURIComponent(x+" motor insurance")}`;return l?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-orange-500 border-t-transparent rounded-full"})}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"header-gradient-border shadow-lg relative z-10",children:n.jsx("div",{className:"px-3 py-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(O,{variant:"ghost",size:"sm",onClick:()=>e("/"),className:"text-gray-600 hover:bg-red-50 p-1",children:n.jsx(Pt,{className:"w-4 h-4"})}),n.jsx("img",{src:bt,alt:"Myymotto Logo",className:"w-12 h-12 rounded-lg"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-base font-bold",children:n.jsx(dt,{})}),n.jsx("p",{className:"text-xs text-red-600",children:"Timely Care For Your Carrier"})]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(O,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-red-50 p-1",children:n.jsx(sr,{className:"w-4 h-4"})}),n.jsx(Sc,{}),n.jsx(Ux,{})]})]})})}),n.jsxs("div",{className:"p-3",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Insurance Details"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Tap a vehicle to view insurance information and financial details"})]}),o.length===0?n.jsx(re,{className:"shadow-orange p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Xt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),n.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"No Vehicles Found"}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Add a vehicle first to view insurance details"}),n.jsx(O,{onClick:()=>e("/add-vehicle"),className:"bg-orange-500 hover:bg-orange-600 text-white h-9 text-sm",children:"Add Vehicle"})]})}):n.jsx("div",{className:"space-y-3",children:o.map(x=>{var g,w,S,j,k,R,F,B,_,X;const v=s[x.id]||[],y=v.length>0?v[0]:null,N=(g=y==null?void 0:y.metadata)!=null&&g.insuranceExpiryDate?p(y.metadata.insuranceExpiryDate):{status:"No Data",color:"gray"},b=t===x.id;return n.jsxs(re,{className:"shadow-orange transition-all",children:[n.jsx(se,{className:"p-3 cursor-pointer hover:bg-gray-50",onClick:()=>c(x.id),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:n.jsx(_t,{className:"w-4 h-4 text-orange-600"})}),n.jsxs("div",{children:[n.jsxs("div",{className:"font-medium text-base text-gray-900",children:[x.make.toUpperCase()," ",x.model]}),n.jsx("div",{className:"text-sm text-gray-600",children:x.licensePlate})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"text-right",children:[n.jsx(ct,{variant:"outline",className:`text-xs px-2 py-1 border-${N.color}-200 text-${N.color}-700 bg-${N.color}-50`,children:N.status}),((w=y==null?void 0:y.metadata)==null?void 0:w.insuranceProvider)&&n.jsx("div",{className:"text-xs text-gray-500 mt-1 max-w-24 truncate",children:y.metadata.insuranceProvider})]}),n.jsx("div",{className:"flex items-center",children:b?n.jsx(Jg,{className:"w-5 h-5 text-gray-400"}):n.jsx(Tm,{className:"w-5 h-5 text-gray-400"})})]})]})}),b&&n.jsxs("div",{className:"border-t border-gray-100 p-2 space-y-2",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsxs("div",{className:"bg-blue-50 p-2 rounded text-center",children:[n.jsx("div",{className:"text-xs text-blue-600 font-medium",children:"Issue"}),n.jsx("div",{className:"text-sm font-semibold",children:(S=y==null?void 0:y.metadata)!=null&&S.insuranceIssuedDate?Do(new Date(y.metadata.insuranceIssuedDate),"dd/MM/yy"):"N/A"})]}),n.jsxs("div",{className:"bg-red-50 p-2 rounded text-center",children:[n.jsx("div",{className:"text-xs text-red-600 font-medium",children:"Expires"}),n.jsx("div",{className:"text-sm font-semibold",children:(j=y==null?void 0:y.metadata)!=null&&j.insuranceExpiryDate?Do(new Date(y.metadata.insuranceExpiryDate),"dd/MM/yy"):"N/A"})]}),n.jsxs("div",{className:"bg-green-50 p-2 rounded text-center",children:[n.jsx("div",{className:"text-xs text-green-600 font-medium",children:"Provider"}),n.jsx("div",{className:"text-xs font-semibold truncate",children:(k=y==null?void 0:y.metadata)!=null&&k.insuranceProvider?y.metadata.insuranceProvider.split(" ")[0]:"N/A"})]})]}),(((R=y==null?void 0:y.metadata)==null?void 0:R.sumInsured)||((F=y==null?void 0:y.metadata)==null?void 0:F.insurancePremium))&&n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[((B=y==null?void 0:y.metadata)==null?void 0:B.sumInsured)&&n.jsxs("div",{className:"bg-green-50 p-2 rounded text-center",children:[n.jsx("div",{className:"text-xs text-green-600 font-medium",children:"Sum Insured"}),n.jsxs("div",{className:"text-sm font-bold text-green-700",children:["",Number(y.metadata.sumInsured).toLocaleString("en-IN")]})]}),((_=y==null?void 0:y.metadata)==null?void 0:_.insurancePremium)&&n.jsxs("div",{className:"bg-blue-50 p-2 rounded text-center",children:[n.jsx("div",{className:"text-xs text-blue-600 font-medium",children:"Premium"}),n.jsxs("div",{className:"text-sm font-bold text-blue-700",children:["",Number(y.metadata.insurancePremium).toLocaleString("en-IN")]})]})]}),y&&n.jsx("div",{className:"bg-purple-50 p-2 rounded",children:n.jsxs("div",{className:"flex justify-between items-center text-xs",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-purple-600 font-medium",children:"Document: "}),n.jsx("span",{className:"font-semibold",children:"Insurance Copy"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"text-purple-600 font-medium",children:"Uploaded: "}),n.jsx("span",{className:"font-semibold",children:Do(new Date(y.uploadedAt),"dd/MM/yy")})]})]})}),s[x.id]&&s[x.id].length>0&&n.jsx("div",{className:"bg-orange-50 p-2 rounded",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-orange-600 font-medium",children:"Policy Document"}),n.jsx("div",{className:"flex space-x-1",children:s[x.id].slice(0,2).map((C,P)=>n.jsx(O,{onClick:()=>d(C),variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-orange-100",children:n.jsx(ms,{className:"w-3 h-3 text-orange-600"})},P))})]})}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(O,{onClick:()=>window.open("https://www.policybazaar.com/motor-insurance/","_blank"),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white h-8 text-xs px-2",children:[n.jsx(Ms,{className:"w-3 h-3 mr-1"}),"Renew via PolicyBazaar"]}),((X=y==null?void 0:y.metadata)==null?void 0:X.insuranceProvider)&&n.jsxs(O,{onClick:()=>window.open(f(y.metadata.insuranceProvider),"_blank"),variant:"outline",className:"flex-1 border-orange-200 text-orange-700 hover:bg-orange-50 h-8 text-xs px-2",children:[n.jsx(Ms,{className:"w-3 h-3 mr-1"}),y.metadata.insuranceProvider.split(" ")[0]]})]})]})]},x.id)})})]})]})}function uB(){const{toast:e}=yt(),[t,r]=h.useState({totalDocuments:0,totalSize:"0 Bytes",lastBackup:null,needsBackup:!1}),[s,a]=h.useState(!1),[i,o]=h.useState(!1),[l,c]=h.useState([{id:"camera",name:"Camera Access",description:"Take photos of documents and vehicle",icon:n.jsx(Da,{className:"w-5 h-5"}),required:!0,status:"pending"},{id:"location",name:"Location Access",description:"Find nearby service centers",icon:n.jsx(Ta,{className:"w-5 h-5"}),required:!0,status:"pending"},{id:"gallery",name:"Photo Gallery",description:"Upload images from your gallery",icon:n.jsx(dC,{className:"w-5 h-5"}),required:!0,status:"pending"},{id:"contacts",name:"Contacts Access",description:"Save emergency contacts easily",icon:n.jsx(hs,{className:"w-5 h-5"}),required:!1,status:"pending"},{id:"microphone",name:"Microphone Access",description:"Voice notes for service records",icon:n.jsx(mC,{className:"w-5 h-5"}),required:!1,status:"pending"}]),[d,m]=h.useState(!1);h.useEffect(()=>{p()},[]);const p=async()=>{try{const g=await Jr.getBackupStats();r(g)}catch(g){console.error("Failed to load backup stats:",g)}};h.useEffect(()=>{const g=localStorage.getItem("appPermissions");if(g)try{const w=JSON.parse(g);c(S=>S.map(j=>({...j,status:w[j.id]||"pending"})))}catch(w){console.error("Error loading permissions:",w)}},[]);const f=async g=>{m(!0);try{let w=!1;switch(g){case"camera":if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)try{(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(R=>R.stop()),w=!0}catch{w=!1}break;case"location":if(navigator.geolocation)try{await new Promise((k,R)=>{navigator.geolocation.getCurrentPosition(k,R,{timeout:5e3})}),w=!0}catch{w=!1}break;case"gallery":w=!0;break;case"contacts":w=!0;break;case"microphone":if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)try{(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(R=>R.stop()),w=!0}catch{w=!1}break}const S=w?"granted":"denied";c(k=>k.map(R=>R.id===g?{...R,status:S}:R));const j=l.reduce((k,R)=>(k[R.id]=R.id===g?S:R.status,k),{});localStorage.setItem("appPermissions",JSON.stringify(j))}catch{c(S=>S.map(j=>j.id===g?{...j,status:"denied"}:j))}m(!1)},x=g=>{const w=l.find(S=>S.id===g);w&&(w.status==="granted"?c(S=>S.map(j=>j.id===g?{...j,status:"denied"}:j)):f(g))},v=async(g="full")=>{a(!0);try{const w=localStorage.getItem("currentUserId")||"1";await Jr.exportToFile(w,g),Jr.markBackupCompleted(),await p(),e({title:"Backup Downloaded",description:`${g==="full"?"Complete":"Documents-only"} backup saved to downloads.`})}catch(w){e({title:"Backup Failed",description:w instanceof Error?w.message:"Failed to create backup",variant:"destructive"})}finally{a(!1)}},y=async(g="full")=>{a(!0);try{const w=localStorage.getItem("currentUserId")||"1";await Jr.shareViaEmail(w,g),Jr.markBackupCompleted(),await p(),e({title:"Email Opened",description:`${g==="full"?"Complete":"Documents-only"} backup prepared for email.`})}catch(w){e({title:"Email Failed",description:w instanceof Error?w.message:"Failed to create email backup",variant:"destructive"})}finally{a(!1)}},N=async(g="full")=>{a(!0);try{const w=localStorage.getItem("currentUserId")||"1";await Jr.uploadToGoogleDrive(w,g),Jr.markBackupCompleted(),await p(),e({title:"Backup Ready",description:`${g==="full"?"Complete":"Documents-only"} backup ready for Google Drive.`})}catch(w){e({title:"Drive Backup Failed",description:w instanceof Error?w.message:"Failed to prepare Drive backup",variant:"destructive"})}finally{a(!1)}},b=async g=>{var S;const w=(S=g.target.files)==null?void 0:S[0];if(w){o(!0);try{await Jr.restoreFromFile(w),await p(),e({title:"Restore Complete",description:"Your data has been restored successfully."})}catch(j){e({title:"Restore Failed",description:j instanceof Error?j.message:"Failed to restore backup",variant:"destructive"})}finally{o(!1),g.target.value=""}}};return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"header-gradient-border shadow-lg relative z-10",children:n.jsx("div",{className:"px-3 py-3",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Be,{href:"/",children:n.jsx(O,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-red-50 p-1",children:n.jsx(Pt,{className:"w-4 h-4"})})}),n.jsx("img",{src:bt,alt:"Myymotto Logo",className:"w-12 h-12 rounded-lg"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-base font-bold",children:n.jsx(dt,{})}),n.jsx("p",{className:"text-xs text-red-600",children:"App Settings"})]})]})})})}),n.jsxs("div",{className:"p-3 pb-20 bg-warm-pattern",children:[n.jsxs(re,{className:"mb-6 shadow-orange",children:[n.jsxs(Me,{children:[n.jsxs(Fe,{className:"flex items-center space-x-2",children:[n.jsx(Xt,{className:"w-5 h-5 text-blue-600"}),n.jsx("span",{children:"App Permissions"})]}),n.jsx(kp,{children:"Control which device features Myymotto can access"})]}),n.jsxs(se,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[n.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),"Required Permissions"]}),n.jsx("div",{className:"space-y-3",children:l.filter(g=>g.required).map(g=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${g.status==="granted"?"bg-green-100 text-green-600":g.status==="denied"?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"}`,children:g.icon}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-800",children:g.name}),n.jsx("p",{className:"text-xs text-gray-600",children:g.description})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[g.status==="granted"&&n.jsx(nn,{className:"w-4 h-4 text-green-600"}),g.status==="denied"&&n.jsx(Kr,{className:"w-4 h-4 text-red-600"}),n.jsx(rm,{checked:g.status==="granted",onCheckedChange:()=>x(g.id),disabled:d})]})]},g.id))})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[n.jsx("span",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-2"}),"Optional Permissions"]}),n.jsx("div",{className:"space-y-3",children:l.filter(g=>!g.required).map(g=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${g.status==="granted"?"bg-green-100 text-green-600":g.status==="denied"?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"}`,children:g.icon}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-800",children:g.name}),n.jsx("p",{className:"text-xs text-gray-600",children:g.description})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[g.status==="granted"&&n.jsx(nn,{className:"w-4 h-4 text-green-600"}),g.status==="denied"&&n.jsx(Kr,{className:"w-4 h-4 text-red-600"}),n.jsx(rm,{checked:g.status==="granted",onCheckedChange:()=>x(g.id),disabled:d})]})]},g.id))})]})]})]}),n.jsxs(re,{className:"mb-6 shadow-orange",children:[n.jsxs(Me,{children:[n.jsxs(Fe,{className:"flex items-center space-x-2",children:[n.jsx(Em,{className:"w-5 h-5 text-green-600"}),n.jsx("span",{children:"Data Management"}),t.needsBackup&&n.jsx(fr,{className:"w-4 h-4 text-orange-500"})]}),n.jsx(kp,{children:"Backup your vehicle documents and data to prevent loss when switching phones"})]}),n.jsxs(se,{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-semibold text-gray-800",children:t.totalDocuments}),n.jsx("p",{className:"text-xs text-gray-600",children:"Documents"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-semibold text-gray-800",children:t.totalSize}),n.jsx("p",{className:"text-xs text-gray-600",children:"Total Size"})]})]}),n.jsxs("div",{className:"mt-2 text-center",children:[n.jsxs("p",{className:"text-xs text-gray-600",children:["Last backup: ",t.lastBackup||"Never"]}),t.needsBackup&&n.jsx("p",{className:"text-xs text-orange-600 font-medium mt-1",children:" Backup recommended (weekly backup keeps your data safe)"})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[n.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Backup Options"]}),n.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[n.jsxs(O,{onClick:v,disabled:s,className:"w-full h-11 bg-blue-600 hover:bg-blue-700 text-white",children:[s?n.jsx(Is,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(Si,{className:"w-4 h-4 mr-2"}),"Download Backup File"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs(O,{onClick:y,disabled:s,variant:"outline",className:"h-10",children:[s?n.jsx(Is,{className:"w-3 h-3 mr-1 animate-spin"}):n.jsx(fo,{className:"w-3 h-3 mr-1"}),"Email Backup"]}),n.jsxs(O,{onClick:N,disabled:s,variant:"outline",className:"h-10",children:[s?n.jsx(Is,{className:"w-3 h-3 mr-1 animate-spin"}):n.jsx(EM,{className:"w-3 h-3 mr-1"}),"Google Drive"]})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[n.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full mr-2"}),"Restore Data"]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"file",accept:".json",onChange:b,disabled:i,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),n.jsxs(O,{disabled:i,variant:"outline",className:"w-full h-10 border-orange-300 text-orange-700 hover:bg-orange-50",children:[i?n.jsx(Is,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(Rr,{className:"w-4 h-4 mr-2"}),"Restore from Backup File"]})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1 text-center",children:"Select a backup file to restore your data"})]})]})]}),n.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200 mb-6",children:n.jsx("p",{className:"text-xs text-blue-800 text-center",children:" Your privacy is important to us. All backups are created locally and never stored on our servers."})}),n.jsx(re,{className:"mb-4 shadow-orange",children:n.jsx(se,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-100 flex items-center justify-center",children:n.jsx($M,{className:"w-5 h-5 text-orange-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-800",children:"Customize Dashboard"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Personalize your dashboard layout and widgets"})]})]}),n.jsx(Be,{href:"/dashboard/customize",children:n.jsx(O,{variant:"outline",size:"sm",children:"Customize"})})]})})}),n.jsx(re,{className:"mb-4 shadow-orange",children:n.jsx(se,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:n.jsx(Xt,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-800",children:"User Profile"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Manage your personal information"})]})]}),n.jsx(Be,{href:"/profile",children:n.jsx(O,{variant:"outline",size:"sm",children:"View Profile"})})]})})}),n.jsx(O,{onClick:()=>{const g=localStorage.getItem("currentUserId");localStorage.removeItem("appPermissions"),localStorage.removeItem(`permissionsCompleted_${g}`),c(w=>w.map(S=>({...S,status:"pending"})))},variant:"outline",className:"w-full border-orange-300 text-orange-700 hover:bg-orange-50",children:"Reset All Permissions"})]}),n.jsx(Mm,{currentPath:"/"})]})}function mB(){const e=h.useRef(null),[t,r]=h.useState("ready"),[s,a]=h.useState(0),[i,o]=h.useState(0),[l,c]=h.useState(null),[d,m]=h.useState(0),[p,f]=h.useState(0),[x,v]=h.useState([]),[y,N]=h.useState(8),[b,g]=h.useState(!1),w=[{name:"Ferrari",color:"#DC143C",accent:"#8B0000",style:"supercar"},{name:"Lamborghini",color:"#FFD700",accent:"#FF8C00",style:"angular"},{name:"McLaren",color:"#FF4500",accent:"#FF6347",style:"modern"},{name:"Porsche",color:"#32CD32",accent:"#228B22",style:"classic"},{name:"Bugatti",color:"#4169E1",accent:"#191970",style:"luxury"}],S=w[p],j=()=>{const u=[];for(let T=0;T<8;T++)u.push({id:T,currentPosition:T,correctPosition:T,isEmpty:!1});u.push({id:8,currentPosition:8,correctPosition:8,isEmpty:!0}),k(u),v(u),a(0),o(0),c(null),r("ready")},k=u=>{let T=8;for(let A=0;A<200;A++){const U=Math.floor(T/3),te=T%3,fe=[];U>0&&fe.push(T-3),U<2&&fe.push(T+3),te>0&&fe.push(T-1),te<2&&fe.push(T+1);const pe=fe[Math.floor(Math.random()*fe.length)],G=u.find(ne=>ne.currentPosition===pe);G&&(G.currentPosition=T,T=pe)}N(T)},R=(u,T,A,U,te)=>{u.save(),u.beginPath(),u.rect(T,A,100,100),u.clip();const G=u.createRadialGradient(150,150,0,150,150,150);G.addColorStop(0,"#FFEF00"),G.addColorStop(1,"#FFD700"),u.fillStyle=G,u.fillRect(0,0,300,300);const ne=u.createLinearGradient(100,70,200,230);ne.addColorStop(0,"#FF0000"),ne.addColorStop(.3,"#DC143C"),ne.addColorStop(.7,"#8B0000"),ne.addColorStop(1,"#600000"),u.fillStyle=ne,u.beginPath(),u.moveTo(150,70),u.lineTo(100,90),u.lineTo(100,190),u.quadraticCurveTo(100,220,120,230),u.quadraticCurveTo(150,240,180,230),u.quadraticCurveTo(200,220,200,190),u.lineTo(200,90),u.closePath(),u.fill(),u.strokeStyle="#FFD700",u.lineWidth=2,u.stroke(),u.fillStyle="#000",u.beginPath(),u.moveTo(125,135),u.quadraticCurveTo(118,120,130,115),u.lineTo(132,110),u.lineTo(135,112),u.quadraticCurveTo(140,108,145,110),u.quadraticCurveTo(150,107,155,110),u.quadraticCurveTo(160,108,165,112),u.lineTo(168,110),u.lineTo(170,115),u.quadraticCurveTo(182,120,175,135),u.lineTo(172,140),u.quadraticCurveTo(178,145,175,150),u.lineTo(170,160),u.quadraticCurveTo(168,165,165,168),u.quadraticCurveTo(160,175,155,180),u.quadraticCurveTo(150,185,145,182),u.lineTo(158,185),u.lineTo(160,190),u.lineTo(156,190),u.lineTo(154,185),u.lineTo(148,188),u.lineTo(144,190),u.lineTo(140,190),u.lineTo(142,185),u.lineTo(138,175),u.lineTo(135,188),u.lineTo(131,190),u.lineTo(127,190),u.lineTo(129,185),u.lineTo(132,170),u.lineTo(125,155),u.quadraticCurveTo(120,145,125,135),u.fill(),u.fillStyle="#FFF",u.beginPath(),u.arc(142,125,1.5,0,Math.PI*2),u.fill(),u.strokeStyle="#000",u.lineWidth=1,u.beginPath();for(let oe=0;oe<5;oe++)u.moveTo(135+oe*3,115+oe),u.lineTo(138+oe*3,120+oe);u.stroke(),u.fillStyle="rgba(0,0,0,0.3)",u.font='bold 16px "Times New Roman", serif',u.textAlign="center",u.fillText("FERRARI",151,216),u.fillStyle="#000",u.fillText("FERRARI",150,215),u.fillStyle="#009246",u.fillRect(132,75,12,10),u.fillStyle="#FFF",u.fillRect(144,75,12,10),u.fillStyle="#CE2B37",u.fillRect(156,75,12,10),u.strokeStyle="#000",u.lineWidth=1,u.strokeRect(132,75,36,10),u.fillStyle="#FFD700",u.font="bold 8px Arial",u.fillText("SF",185,100),u.restore(),u.textAlign="left"},F=(u,T,A,U,te)=>{u.save(),u.beginPath(),u.rect(T,A,100,100),u.clip();const G=u.createRadialGradient(150,150,0,150,150,150);G.addColorStop(0,"#1a1a1a"),G.addColorStop(1,"#000000"),u.fillStyle=G,u.fillRect(0,0,300,300);const ne=u.createLinearGradient(95,65,205,235);ne.addColorStop(0,"#FFD700"),ne.addColorStop(.3,"#D4AF37"),ne.addColorStop(.7,"#B8860B"),ne.addColorStop(1,"#DAA520"),u.fillStyle=ne,u.beginPath(),u.moveTo(150,65),u.lineTo(95,85),u.lineTo(95,185),u.quadraticCurveTo(95,215,115,225),u.quadraticCurveTo(150,235,185,225),u.quadraticCurveTo(205,215,205,185),u.lineTo(205,85),u.closePath(),u.fill(),u.strokeStyle="#FFD700",u.lineWidth=3,u.stroke(),u.strokeStyle="#FFFACD",u.lineWidth=1,u.beginPath(),u.moveTo(148,70),u.lineTo(100,90),u.lineTo(100,180),u.stroke();const oe=u.createRadialGradient(150,130,0,150,150,60);oe.addColorStop(0,"#333333"),oe.addColorStop(1,"#000000"),u.fillStyle=oe,u.beginPath(),u.moveTo(150,75),u.lineTo(105,95),u.lineTo(105,175),u.quadraticCurveTo(105,205,125,215),u.quadraticCurveTo(150,225,175,215),u.quadraticCurveTo(195,205,195,175),u.lineTo(195,95),u.closePath(),u.fill();const ge=u.createLinearGradient(110,110,190,170);ge.addColorStop(0,"#FFD700"),ge.addColorStop(.5,"#D4AF37"),ge.addColorStop(1,"#B8860B"),u.fillStyle=ge,u.beginPath(),u.moveTo(120,140),u.lineTo(110,120),u.quadraticCurveTo(108,115,112,112),u.quadraticCurveTo(115,108,120,115),u.lineTo(130,120),u.quadraticCurveTo(135,115,140,118),u.lineTo(145,115),u.lineTo(155,115),u.lineTo(160,118),u.quadraticCurveTo(165,115,170,120),u.lineTo(180,115),u.quadraticCurveTo(185,108,188,112),u.quadraticCurveTo(192,115,190,120),u.lineTo(180,140),u.quadraticCurveTo(175,145,172,152),u.lineTo(168,158),u.lineTo(162,162),u.quadraticCurveTo(158,168,154,166),u.lineTo(152,170),u.lineTo(148,170),u.lineTo(146,166),u.quadraticCurveTo(142,168,138,162),u.lineTo(132,158),u.lineTo(128,152),u.quadraticCurveTo(125,145,120,140),u.fill(),u.fillStyle="#8B0000",u.beginPath(),u.ellipse(135,138,4,3,0,0,Math.PI*2),u.fill(),u.beginPath(),u.ellipse(165,138,4,3,0,0,Math.PI*2),u.fill(),u.fillStyle="#FF0000",u.beginPath(),u.arc(135,138,2,0,Math.PI*2),u.fill(),u.beginPath(),u.arc(165,138,2,0,Math.PI*2),u.fill(),u.fillStyle="#FFF",u.beginPath(),u.arc(136,137,1,0,Math.PI*2),u.fill(),u.beginPath(),u.arc(166,137,1,0,Math.PI*2),u.fill(),u.fillStyle="#000",u.beginPath(),u.ellipse(147,166,2,1,0,0,Math.PI*2),u.fill(),u.beginPath(),u.ellipse(153,166,2,1,0,0,Math.PI*2),u.fill(),u.strokeStyle="#B8860B",u.lineWidth=1;for(let Z=0;Z<3;Z++)u.beginPath(),u.moveTo(115+Z,118-Z*2),u.lineTo(117+Z,120-Z*2),u.stroke(),u.beginPath(),u.moveTo(185-Z,118-Z*2),u.lineTo(183-Z,120-Z*2),u.stroke();u.fillStyle="rgba(212, 175, 55, 0.3)",u.font='bold 13px "Arial", sans-serif',u.textAlign="center",u.fillText("LAMBORGHINI",151,206),u.fillStyle="#D4AF37",u.fillText("LAMBORGHINI",150,205),u.strokeStyle="#FFD700",u.lineWidth=2,u.beginPath(),u.moveTo(110,190),u.lineTo(190,190),u.stroke(),u.restore(),u.textAlign="left"},B=(u,T,A,U,te)=>{u.save(),u.beginPath(),u.rect(T,A,100,100),u.clip();const G=u.createRadialGradient(150,150,0,150,150,150);G.addColorStop(0,"#FFFFFF"),G.addColorStop(1,"#F8F8F8"),u.fillStyle=G,u.fillRect(0,0,300,300);const ne=u.createLinearGradient(70,100,230,180);ne.addColorStop(0,"#FF4500"),ne.addColorStop(.2,"#FF6600"),ne.addColorStop(.5,"#FF8000"),ne.addColorStop(.8,"#FFA500"),ne.addColorStop(1,"#FF4500"),u.fillStyle=ne,u.beginPath(),u.moveTo(70,165),u.quadraticCurveTo(90,130,120,115),u.quadraticCurveTo(140,105,165,110),u.quadraticCurveTo(190,115,215,130),u.quadraticCurveTo(235,145,235,160),u.quadraticCurveTo(230,170,220,175),u.quadraticCurveTo(200,180,175,175),u.quadraticCurveTo(150,170,125,175),u.quadraticCurveTo(100,180,80,175),u.quadraticCurveTo(70,170,70,165),u.fill();const oe=u.createLinearGradient(80,110,220,170);oe.addColorStop(0,"#FFA500"),oe.addColorStop(.5,"#FF8000"),oe.addColorStop(1,"#FF6600"),u.fillStyle=oe,u.beginPath(),u.moveTo(80,160),u.quadraticCurveTo(100,135,130,120),u.quadraticCurveTo(150,115,175,120),u.quadraticCurveTo(200,125,225,140),u.quadraticCurveTo(225,155,215,165),u.quadraticCurveTo(195,170,170,165),u.quadraticCurveTo(145,160,120,165),u.quadraticCurveTo(95,170,80,160),u.fill();const ge=u.createRadialGradient(160,135,0,160,135,40);ge.addColorStop(0,"#FFFF00"),ge.addColorStop(.3,"#FFA500"),ge.addColorStop(1,"#FF4500"),u.fillStyle=ge,u.beginPath(),u.moveTo(90,155),u.quadraticCurveTo(110,140,140,125),u.quadraticCurveTo(160,120,185,125),u.quadraticCurveTo(210,130,215,145),u.quadraticCurveTo(210,160,185,160),u.quadraticCurveTo(160,155,135,160),u.quadraticCurveTo(110,165,90,155),u.fill(),u.fillStyle="rgba(255, 255, 255, 0.6)",u.beginPath(),u.moveTo(100,140),u.quadraticCurveTo(130,125,160,125),u.quadraticCurveTo(190,130,205,140),u.quadraticCurveTo(195,145,175,145),u.quadraticCurveTo(150,140,125,145),u.quadraticCurveTo(105,150,100,140),u.fill(),u.fillStyle="rgba(0,0,0,0.2)",u.font='bold 20px "Helvetica", sans-serif',u.textAlign="center",u.fillText("McLaren",151,211),u.fillStyle="#000000",u.fillText("McLaren",150,210),u.strokeStyle="#FF8000";for(let Z=0;Z<8;Z++)u.globalAlpha=.3+Z*.1,u.lineWidth=1+Z*.3,u.beginPath(),u.moveTo(75+Z*6,85+Z*3),u.lineTo(85+Z*6,95+Z*3),u.stroke();u.globalAlpha=1,u.fillStyle="#FF6600";for(let Z=0;Z<12;Z++){const be=Z/12*Math.PI*2,qe=150+Math.cos(be)*90,he=150+Math.sin(be)*90;u.beginPath(),u.arc(qe,he,1,0,Math.PI*2),u.fill()}u.fillStyle="#FF8C00",u.beginPath(),u.moveTo(65,190),u.lineTo(235,190),u.lineWidth=2,u.stroke(),u.fillStyle="#FF4500",u.font='bold 12px "Arial", sans-serif',u.fillText("RACING",150,230),u.restore(),u.textAlign="left"},_=(u,T,A,U,te)=>{u.save(),u.beginPath(),u.rect(T,A,100,100),u.clip();const G=u.createRadialGradient(150,150,0,150,150,150);G.addColorStop(0,"#FAF7F0"),G.addColorStop(1,"#F0EDE6"),u.fillStyle=G,u.fillRect(0,0,300,300);const ne=u.createLinearGradient(70,70,230,230);ne.addColorStop(0,"#C0C0C0"),ne.addColorStop(.3,"#A8A8A8"),ne.addColorStop(.7,"#808080"),ne.addColorStop(1,"#696969"),u.strokeStyle=ne,u.lineWidth=4,u.fillStyle="#F4F1E8",u.beginPath(),u.arc(150,150,78,0,Math.PI*2),u.fill(),u.stroke(),u.strokeStyle="#8B4513",u.lineWidth=2,u.beginPath(),u.arc(150,150,72,0,Math.PI*2),u.stroke();const oe=u.createLinearGradient(100,80,200,130);oe.addColorStop(0,"#FF0000"),oe.addColorStop(.5,"#DC143C"),oe.addColorStop(1,"#B22222"),u.fillStyle=oe,u.beginPath(),u.arc(150,135,57,Math.PI,0,!1),u.closePath(),u.fill();const ge=u.createLinearGradient(105,80,195,130);ge.addColorStop(0,"#000000"),ge.addColorStop(.5,"#1a1a1a"),ge.addColorStop(1,"#000000"),u.fillStyle=ge;for(let he=0;he<3;he++){const le=115+he*22;u.fillRect(le,80,8,55),u.fillStyle="rgba(255,255,255,0.1)",u.fillRect(le,80,2,55),u.fillStyle=ge}u.strokeStyle="#FFD700",u.lineWidth=1;for(let he=0;he<3;he++){const le=120+he*20;u.beginPath(),u.moveTo(le,90),u.lineTo(le-3,85),u.moveTo(le,90),u.lineTo(le+3,85),u.stroke()}const Z=u.createLinearGradient(100,165,200,225);Z.addColorStop(0,"#FFD700"),Z.addColorStop(.5,"#FFA500"),Z.addColorStop(1,"#FF8C00"),u.fillStyle=Z,u.beginPath(),u.arc(150,165,57,0,Math.PI,!1),u.closePath(),u.fill();const be=u.createLinearGradient(125,145,175,195);be.addColorStop(0,"#000000"),be.addColorStop(.5,"#1a1a1a"),be.addColorStop(1,"#000000"),u.fillStyle=be,u.beginPath(),u.moveTo(128,158),u.lineTo(125,152),u.lineTo(130,148),u.lineTo(132,150),u.quadraticCurveTo(135,142,140,138),u.quadraticCurveTo(145,135,150,136),u.quadraticCurveTo(155,135,160,138),u.quadraticCurveTo(165,142,168,150),u.lineTo(170,148),u.lineTo(175,152),u.lineTo(172,158),u.quadraticCurveTo(170,162,168,168),u.lineTo(165,178),u.quadraticCurveTo(162,185,158,190),u.lineTo(162,195),u.lineTo(158,200),u.lineTo(154,200),u.lineTo(150,195),u.lineTo(148,198),u.lineTo(144,200),u.lineTo(140,200),u.lineTo(142,195),u.lineTo(138,190),u.quadraticCurveTo(135,185,132,178),u.lineTo(130,168),u.quadraticCurveTo(128,162,128,158),u.fill(),u.fillStyle="#FFF",u.beginPath(),u.arc(142,145,1.5,0,Math.PI*2),u.fill(),u.fillStyle="#000",u.beginPath(),u.arc(142,145,.8,0,Math.PI*2),u.fill(),u.strokeStyle="#000",u.lineWidth=1.5,u.beginPath();for(let he=0;he<6;he++){const le=138+he*2,Ge=140+he;u.moveTo(le,Ge),u.quadraticCurveTo(le-2,Ge+3,le+1,Ge+6)}u.stroke(),u.fillStyle="#8B4513",u.beginPath(),u.arc(146,142,.8,0,Math.PI*2),u.fill(),u.fillStyle="rgba(0,0,0,0.3)",u.font='bold 16px "Times New Roman", serif',u.textAlign="center",u.fillText("PORSCHE",151,241),u.fillStyle="#000000",u.fillText("PORSCHE",150,240),u.fillStyle="rgba(0,0,0,0.3)",u.font='bold 11px "Times New Roman", serif',u.fillText("STUTTGART",150+.5,216),u.fillStyle="#8B4513",u.fillText("STUTTGART",150,215),u.strokeStyle="#8B4513",u.lineWidth=2,[[85,85],[215,85],[85,215],[215,215]].forEach(([he,le])=>{u.beginPath(),u.moveTo(he-5,le),u.lineTo(he+5,le),u.moveTo(he,le-5),u.lineTo(he,le+5),u.stroke()}),u.restore(),u.textAlign="left"},X=(u,T,A,U,te)=>{u.save(),u.beginPath(),u.rect(T,A,100,100),u.clip();const G=u.createRadialGradient(150,150,0,150,150,150);G.addColorStop(0,"#A0522D"),G.addColorStop(.5,"#8B0000"),G.addColorStop(1,"#5C0000"),u.fillStyle=G,u.fillRect(0,0,300,300);const ne=u.createLinearGradient(60,90,240,210);ne.addColorStop(0,"#FFD700"),ne.addColorStop(.5,"#FFA500"),ne.addColorStop(1,"#FF8C00"),u.strokeStyle=ne,u.lineWidth=6,u.beginPath(),u.ellipse(150,150,85,60,0,0,Math.PI*2),u.stroke();const oe=u.createRadialGradient(130,135,0,150,150,80);oe.addColorStop(0,"#FFFFFF"),oe.addColorStop(.3,"#F8F8FF"),oe.addColorStop(.7,"#F0F0F0"),oe.addColorStop(1,"#E6E6E6"),u.fillStyle=oe,u.beginPath(),u.ellipse(150,150,72,47,0,0,Math.PI*2),u.fill();const ge=u.createLinearGradient(78,103,222,197);ge.addColorStop(0,"#DC143C"),ge.addColorStop(.3,"#B22222"),ge.addColorStop(.7,"#8B0000"),ge.addColorStop(1,"#A0522D"),u.strokeStyle=ge,u.lineWidth=10,u.beginPath(),u.ellipse(150,150,72,47,0,0,Math.PI*2),u.stroke();const Z=u.createLinearGradient(86,111,214,189);Z.addColorStop(0,"#C0C0C0"),Z.addColorStop(.5,"#A8A8A8"),Z.addColorStop(1,"#808080"),u.strokeStyle=Z,u.lineWidth=3,u.beginPath(),u.ellipse(150,150,64,39,0,0,Math.PI*2),u.stroke();const be=60;for(let le=0;le<be;le++){const Ge=le/be*Math.PI*2,at=150+Math.cos(Ge)*84,ht=150+Math.sin(Ge)*59,Ye=u.createRadialGradient(at-1,ht-1,0,at,ht,4);Ye.addColorStop(0,"#FFFFFF"),Ye.addColorStop(.5,"#F5F5F5"),Ye.addColorStop(1,"#E0E0E0"),u.fillStyle=Ye,u.beginPath(),u.arc(at,ht,3.5,0,Math.PI*2),u.fill(),u.fillStyle="#FFFFFF",u.beginPath(),u.arc(at-1.2,ht-1.2,1.2,0,Math.PI*2),u.fill(),u.fillStyle="rgba(0,0,0,0.1)",u.beginPath(),u.arc(at+1,ht+1,1,0,Math.PI*2),u.fill()}const qe=u.createLinearGradient(120,130,180,170);qe.addColorStop(0,"#8B0000"),qe.addColorStop(.3,"#A0522D"),qe.addColorStop(.7,"#8B0000"),qe.addColorStop(1,"#5C0000"),u.fillStyle="rgba(0,0,0,0.3)",u.font='bold 40px "Times New Roman", serif',u.textAlign="center",u.fillText("EB",152,164),u.fillStyle=qe,u.fillText("EB",150,162),u.fillStyle="rgba(255,255,255,0.3)",u.font='bold 38px "Times New Roman", serif',u.fillText("EB",149,161),u.strokeStyle="#8B0000",u.lineWidth=2,u.beginPath(),u.moveTo(110,150),u.lineTo(125,150),u.moveTo(175,150),u.lineTo(190,150),u.stroke(),u.fillStyle="rgba(255,255,255,0.2)",u.font='bold 14px "Arial", sans-serif',u.textAlign="center",u.fillText("BUGATTI",151,226),u.fillStyle="#FFFFFF",u.fillText("BUGATTI",150,225),u.strokeStyle="#FFD700",u.lineWidth=1.5,u.beginPath(),u.moveTo(115,90),u.quadraticCurveTo(150,85,185,90),u.moveTo(115,210),u.quadraticCurveTo(150,215,185,210),u.stroke();const he=[[100,120],[200,120],[100,180],[200,180]];u.fillStyle="#FFD700",he.forEach(([le,Ge])=>{u.beginPath(),u.arc(le,Ge,2,0,Math.PI*2),u.fill(),u.strokeStyle="#FFD700",u.lineWidth=1,u.beginPath(),u.moveTo(le-3,Ge),u.lineTo(le+3,Ge),u.moveTo(le,Ge-3),u.lineTo(le,Ge+3),u.stroke()}),u.strokeStyle="rgba(255, 215, 0, 0.3)",u.lineWidth=2,u.beginPath(),u.arc(150,125,15,.2*Math.PI,.8*Math.PI),u.stroke(),u.restore(),u.textAlign="left"},C=()=>{const u=e.current;if(!u)return;const T=u.getContext("2d");if(!T)return;const A=T.createLinearGradient(0,0,0,300);A.addColorStop(0,"#87CEEB"),A.addColorStop(.7,"#98FB98"),A.addColorStop(1,"#696969"),T.fillStyle=A,T.fillRect(0,0,300,300);const U=100,te=100;T.strokeStyle="#333",T.lineWidth=2;for(let oe=1;oe<3;oe++)T.beginPath(),T.moveTo(oe*U,0),T.lineTo(oe*U,300),T.stroke(),T.beginPath(),T.moveTo(0,oe*te),T.lineTo(300,oe*te),T.stroke();x.forEach(oe=>{if(oe.isEmpty)return;const ge=Math.floor(oe.currentPosition/3),be=oe.currentPosition%3*U,qe=ge*te;switch(Math.floor(oe.correctPosition/3),oe.correctPosition%3,p){case 0:R(T,be,qe);break;case 1:F(T,be,qe);break;case 2:B(T,be,qe);break;case 3:_(T,be,qe);break;case 4:X(T,be,qe);break;default:R(T,be,qe)}T.fillStyle="rgba(255, 255, 255, 0.8)",T.fillRect(be+2,qe+2,16,16),T.fillStyle="#000",T.font="12px Arial",T.fillText(`${oe.correctPosition+1}`,be+6,qe+14)});const fe=Math.floor(y/3),G=y%3*U,ne=fe*te;T.fillStyle="rgba(255, 255, 255, 0.6)",T.fillRect(G+2,ne+2,U-4,te-4),T.strokeStyle="#FFF",T.lineWidth=3,T.setLineDash([5,5]),T.strokeRect(G+2,ne+2,U-4,te-4),T.setLineDash([])},P=u=>{if(t!=="playing"||u===y)return;const T=Math.floor(u/3),A=u%3,U=Math.floor(y/3),te=y%3;if(!(Math.abs(T-U)===1&&A===te||Math.abs(A-te)===1&&T===U)){console.log(`Piece at ${u} is not adjacent to empty space at ${y}`);return}console.log(`Moving piece from ${u} to ${y}`);const pe=x.map(ne=>ne.currentPosition===u?{...ne,currentPosition:y}:ne);v(pe),N(u),a(ne=>ne+1),pe.every(ne=>ne.isEmpty||ne.currentPosition===ne.correctPosition)&&(r("completed"),m(i),g(!0))},z=u=>{t==="ready"&&(r("playing"),c(Date.now()),o(0),a(0));const T=e.current;if(!T)return;const A=T.getBoundingClientRect(),U=u.clientX-A.left,te=u.clientY-A.top,fe=300/A.width,pe=300/A.height,G=U*fe,ne=te*pe,oe=Math.floor(G/100),Z=Math.floor(ne/100)*3+oe;console.log(`Canvas clicked at (${U}, ${te}) -> grid position ${Z}`),Z>=0&&Z<9&&P(Z)};h.useEffect(()=>{let u;return t==="playing"&&l&&(u=setInterval(()=>{const T=Date.now(),A=Math.floor((T-l)/1e3);o(A)},1e3)),()=>{u&&clearInterval(u)}},[t,l]),h.useEffect(()=>{C()},[x,p,y]),h.useEffect(()=>{j()},[p]);const W=()=>{r("playing"),c(Date.now()),o(0),a(0)},M=()=>{const u=(p+1)%w.length;f(u),g(!1)},$=()=>{j(),g(!1)},L=u=>{const T=Math.floor(u/60),A=u%60;return`${T}:${A.toString().padStart(2,"0")}`},D=()=>{const u=` Just completed the ${S.name} Logo Puzzle on Myymotto! 

 My Stats:
 Moves: ${s}
 Time: ${L(d)}
 Car: ${S.name}

Think you can beat my score? Try the Logo Puzzle Game in Myymotto app!

Myymotto - Timely Care for your carrier
Download: https://myymotto.app

#MyymottoChallenge #LogoPuzzle #${S.name}`,A=`https://wa.me/?text=${encodeURIComponent(u)}`;window.open(A,"_blank")};return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"header-gradient-border shadow-lg relative z-10",children:n.jsx("div",{className:"px-4 py-4",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Be,{href:"/",children:n.jsx(O,{variant:"ghost",size:"icon",className:"text-gray-600 hover:bg-red-50",children:n.jsx(Pt,{className:"w-5 h-5"})})}),n.jsx("img",{src:bt,alt:"Myymotto Logo",className:"w-14 h-14 rounded-lg"}),n.jsxs("div",{children:[n.jsx(dt,{}),n.jsx("p",{className:"text-sm text-red-600",children:"Logo Puzzle Game"})]})]})})})}),n.jsxs("div",{className:"p-4 pb-20 bg-warm-pattern",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[n.jsx(re,{className:"shadow-orange",children:n.jsxs(se,{className:"p-3 text-center",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Logo"}),n.jsx("p",{className:"text-sm font-bold",style:{color:S.color},children:S.name})]})}),n.jsx(re,{className:"shadow-orange",children:n.jsxs(se,{className:"p-3 text-center",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Moves"}),n.jsx("p",{className:"text-lg font-bold text-blue-600",children:s})]})}),n.jsx(re,{className:"shadow-orange",children:n.jsxs(se,{className:"p-3 text-center",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Time"}),n.jsx("p",{className:"text-lg font-bold text-green-600",children:L(i)})]})})]}),n.jsx(re,{className:"shadow-orange mb-4",children:n.jsx(se,{className:"p-4",children:n.jsx("canvas",{ref:e,width:300,height:300,className:"w-full h-auto border-2 border-orange-200 rounded-lg cursor-pointer touch-manipulation",onClick:z,onTouchStart:u=>{u.preventDefault();const T=u.touches[0],A=u.currentTarget.getBoundingClientRect(),U=T.clientX-A.left,te=T.clientY-A.top;t==="ready"&&(r("playing"),o(0),a(0));const fe=300/A.width,pe=300/A.height,G=U*fe,ne=te*pe,oe=Math.floor(G/100),Z=Math.floor(ne/100)*3+oe;console.log(`Touch at (${U}, ${te}) -> grid position ${Z}`),Z>=0&&Z<9&&P(Z)}})})}),n.jsx(re,{className:"shadow-orange mb-4",children:n.jsx(se,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:" Target Order"}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Arrange the numbered pieces in this order:"}),n.jsx("div",{className:"grid grid-cols-3 gap-2 w-32 mx-auto mb-3",children:[1,2,3,4,5,6,7,8,0].map(u=>n.jsx("div",{className:`w-9 h-9 border-2 ${u===0?"bg-gray-100 border-gray-300":"bg-white border-blue-400"} rounded-lg flex items-center justify-center text-sm font-bold ${u===0?"text-gray-400":"text-blue-700"} shadow-sm`,children:u===0?"":u},u))}),n.jsx("p",{className:"text-xs text-gray-500",children:"Numbers 1-8 in sequence, bottom-right space empty"})]})})}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[n.jsx(O,{onClick:t==="ready"?W:$,className:"gradient-warm text-white",children:t==="ready"?n.jsxs(n.Fragment,{children:[n.jsx(BM,{className:"w-4 h-4 mr-2"}),"Start"]}):n.jsxs(n.Fragment,{children:[n.jsx(YM,{className:"w-4 h-4 mr-2"}),"Reset"]})}),n.jsxs(O,{onClick:M,variant:"outline",className:"border-orange-300 text-orange-700 hover:bg-orange-50",children:[n.jsx(WM,{className:"w-4 h-4 mr-2"}),"New Car"]})]}),n.jsxs(re,{className:"shadow-orange",children:[n.jsx(Me,{children:n.jsx(Fe,{className:"text-center text-sm",children:"How to Play"})}),n.jsxs(se,{children:[n.jsxs("p",{className:"text-xs text-gray-600 text-center mb-2",children:["Tap pieces next to the empty space to move them. Arrange all pieces to complete the ",S.name," sports car image!"]}),n.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Numbers show correct positions. Try different cars for variety!"})]})]}),n.jsx(ln,{open:b,onOpenChange:g,children:n.jsxs(Hr,{className:"max-w-sm mx-auto",children:[n.jsxs(Sn,{className:"text-center space-y-3",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center",children:n.jsx(KM,{className:"w-10 h-10 text-white"})}),n.jsx(cn,{className:"text-xl font-bold text-gray-900",children:"Puzzle Completed! "})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg p-4 space-y-3",children:[n.jsxs("h3",{className:"font-semibold text-purple-800 text-center",children:[S.name," Logo Mastered!"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"text-center bg-white rounded-lg p-3",children:[n.jsx(XM,{className:"w-5 h-5 text-purple-600 mx-auto mb-1"}),n.jsx("div",{className:"text-lg font-bold text-purple-800",children:s}),n.jsx("div",{className:"text-xs text-purple-600",children:"Moves"})]}),n.jsxs("div",{className:"text-center bg-white rounded-lg p-3",children:[n.jsx(Bs,{className:"w-5 h-5 text-purple-600 mx-auto mb-1"}),n.jsx("div",{className:"text-lg font-bold text-purple-800",children:L(d)}),n.jsx("div",{className:"text-xs text-purple-600",children:"Time"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(O,{onClick:D,className:"w-full bg-green-500 hover:bg-green-600 text-white",children:[n.jsx(no,{className:"w-4 h-4 mr-2"}),"Share with Fellow MMians"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx(O,{onClick:()=>{M(),j()},variant:"outline",className:"border-purple-300 text-purple-700 hover:bg-purple-50",children:"Try New Car"}),n.jsx(O,{onClick:()=>{$(),g(!1)},variant:"outline",className:"border-orange-300 text-orange-700 hover:bg-orange-50",children:"Play Again"})]})]}),n.jsx("div",{className:"text-center text-xs text-gray-500",children:"Challenge your friends to beat your score!"})]})]})})]}),n.jsx(Mm,{currentPath:"/"})]})}const LD=Oe.forwardRef(({className:e,...t},r)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:r,className:Se("w-full caption-bottom text-sm",e),...t})}));LD.displayName="Table";const $D=Oe.forwardRef(({className:e,...t},r)=>n.jsx("thead",{ref:r,className:Se("[&_tr]:border-b",e),...t}));$D.displayName="TableHeader";const VD=Oe.forwardRef(({className:e,...t},r)=>n.jsx("tbody",{ref:r,className:Se("[&_tr:last-child]:border-0",e),...t}));VD.displayName="TableBody";const hB=Oe.forwardRef(({className:e,...t},r)=>n.jsx("tfoot",{ref:r,className:Se("bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));hB.displayName="TableFooter";const Yp=Oe.forwardRef(({className:e,...t},r)=>n.jsx("tr",{ref:r,className:Se("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Yp.displayName="TableRow";const Gp=Oe.forwardRef(({className:e,...t},r)=>n.jsx("th",{ref:r,className:Se("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Gp.displayName="TableHead";const Wp=Oe.forwardRef(({className:e,...t},r)=>n.jsx("td",{ref:r,className:Se("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Wp.displayName="TableCell";const fB=Oe.forwardRef(({className:e,...t},r)=>n.jsx("caption",{ref:r,className:Se("mt-4 text-sm text-muted-foreground",e),...t}));fB.displayName="TableCaption";var Qx="Collapsible",[pB,h9]=fn(Qx),[gB,Zx]=pB(Qx),zD=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:s,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c=!1,d]=Us({prop:s,defaultProp:a,onChange:o});return n.jsx(gB,{scope:r,disabled:i,contentId:qn(),open:c,onOpenToggle:h.useCallback(()=>d(m=>!m),[d]),children:n.jsx(Ve.div,{"data-state":e0(c),"data-disabled":i?"":void 0,...l,ref:t})})});zD.displayName=Qx;var UD="CollapsibleTrigger",BD=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,...s}=e,a=Zx(UD,r);return n.jsx(Ve.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":e0(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:t,onClick:ye(e.onClick,a.onOpenToggle)})});BD.displayName=UD;var Jx="CollapsibleContent",qD=h.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=Zx(Jx,e.__scopeCollapsible);return n.jsx(Tn,{present:r||a.open,children:({present:i})=>n.jsx(xB,{...s,ref:t,present:i})})});qD.displayName=Jx;var xB=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:s,children:a,...i}=e,o=Zx(Jx,r),[l,c]=h.useState(s),d=h.useRef(null),m=st(t,d),p=h.useRef(0),f=p.current,x=h.useRef(0),v=x.current,y=o.open||l,N=h.useRef(y),b=h.useRef(void 0);return h.useEffect(()=>{const g=requestAnimationFrame(()=>N.current=!1);return()=>cancelAnimationFrame(g)},[]),gr(()=>{const g=d.current;if(g){b.current=b.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const w=g.getBoundingClientRect();p.current=w.height,x.current=w.width,N.current||(g.style.transitionDuration=b.current.transitionDuration,g.style.animationName=b.current.animationName),c(s)}},[o.open,s]),n.jsx(Ve.div,{"data-state":e0(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!y,...i,ref:m,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:y&&a})});function e0(e){return e?"open":"closed"}var yB=zD;const Kv=yB,Qv=BD,Zv=qD,t0="/assets/Mymotto_Logo_Green_Revised_1752603344750-64VejOKf.png",vB=[{type:"engine_oil_replacement",service:"Engine oil Replacement",recommendedTimeline:"Every 3000 - 5000 Kms"},{type:"oil_air_filters_change",service:"Oil and air filters change",recommendedTimeline:"Every 4000 - 6000 Kms"},{type:"tyres_front_change",service:"Tyres Front change",recommendedTimeline:"20000Km or 2 to 3 years"},{type:"tyres_back_change",service:"Tyres Back changed",recommendedTimeline:"40,000 kms or 2 to 3 years"},{type:"spark_plug_replaced",service:"Spark plug replaced",recommendedTimeline:"150000 kms or 5 years"},{type:"battery_replacement",service:"Battery replacement",recommendedTimeline:"4 to 5 years"},{type:"engine_overhauling",service:"Engine overhauling/Rebore",recommendedTimeline:"Depends on condition"}],wB=[{type:"engine_oil_replacement",service:"Engine oil Replacement",recommendedTimeline:"10,000 - 15,000 kms"},{type:"oil_air_filters_change",service:"Oil and air filters change",recommendedTimeline:"40,000 to 50,000 kms"},{type:"tyres_front_change",service:"Tyres Front change",recommendedTimeline:"40,000 to 50,000 kms"},{type:"tyres_back_change",service:"Tyres Back changed",recommendedTimeline:"40,000 kms or 2 to 3 years"},{type:"battery_replacement",service:"Battery replacement",recommendedTimeline:"4 to 5 years"},{type:"timing_belts",service:"Timing Belts",recommendedTimeline:"60,000 to 100000 Kms"},{type:"ac_regassing",service:"AC regassing",recommendedTimeline:"1.5 to 2 years"},{type:"brake_fluid",service:"Brake Fluid",recommendedTimeline:"2 years"},{type:"clutch_oil",service:"Clutch Oil",recommendedTimeline:"2 - 3 years"},{type:"wheel_balancing",service:"Wheel Balancing",recommendedTimeline:"5000 - 8000 kms"}],bB=["Engine Oil Change","Oil Filter Replacement","Air Filter Replacement","Brake Service & Inspection","Brake Pad Replacement","Brake Fluid Change","Transmission Service","Coolant System Service","AC Service & Regassing","Battery Check & Replacement","Battery Replacement","Tire Rotation & Balancing","Tyre Replacement","Wheel Alignment","Suspension Service","Spark Plug Replacement","Timing Belt Service","General Service (Paid)","Free Service","Car Wash & Detailing","Engine Tune-up","Clutch Service","Radiator Service","Exhaust System Service","Power Steering Service","Fuel System Cleaning","Electrical System Check","Body Work & Painting","Denting & Painting","Insurance Claim Work","Other (Please specify)"],jB=["Engine Oil Change","Oil Filter Replacement","Air Filter Cleaning/Replacement","Brake Service (Front/Rear)","Brake Pad Replacement","Chain Cleaning & Lubrication","Chain Adjustment","Chain Replacement","Sprocket Replacement","Spark Plug Replacement","Battery Service/Replacement","Tire Replacement (Front/Rear)","Tube Replacement","Puncture Repair","Carburetor Cleaning","Fuel Injector Cleaning","General Service (Paid)","Free Service","Clutch Plate Replacement","Clutch Cable Adjustment","Gear Oil Change","Brake Oil Change","Suspension Service","Fork Oil Change","Shock Absorber Service","Headlight/Tailight Service","Horn & Electrical Check","Speedometer Service","Exhaust Service/Repair","Engine Tuning","Carburetor Tuning","Washing & Cleaning","Insurance Claim Work","Accident Repair","Engine Overhaul/Rebore","Other (Please specify)"],NB=["Engine Oil Change","Oil Filter Replacement","Air Filter Replacement","Brake Service & Inspection","Brake Pad Replacement","Brake Fluid Change","Transmission Service","Clutch Service & Adjustment","Battery Check & Replacement","Tire Replacement","Wheel Alignment","Suspension Service","Spark Plug Replacement","General Service (Paid)","Free Service","Chain/Belt Drive Service","Fuel System Cleaning","Electrical System Check","Cooling System Service","Carburetor Service","Horn & Light Check","Speedometer Service","Body Work & Repairs","Insurance Claim Work","Accident Repair","Engine Overhaul","Other (Please specify)"],SB=Q.object({serviceType:Q.string().min(1,"Service type is required"),serviceDate:Q.string().min(1,"Service date is required"),serviceCentre:Q.string().min(1,"Service centre is required"),billAmount:Q.number().positive("Bill amount must be positive").optional().nullable(),serviceIntervalMonths:Q.number().min(1,"Service interval must be at least 1 month").max(24,"Service interval cannot exceed 24 months").optional().nullable(),notes:Q.string().optional()});function CB(){const{id:e}=qa(),[,t]=Zt(),[r,s]=h.useState(!1),[a,i]=h.useState(!1),[o,l]=h.useState(null),[c,d]=h.useState(""),[m,p]=h.useState(null),[f,x]=h.useState(null),[v,y]=h.useState(""),[N,b]=h.useState(!1),[g,w]=h.useState(null),[S,j]=h.useState(!1);h.useState("");const[k,R]=h.useState(!1),[F,B]=h.useState(""),[_,X]=h.useState(!1),[C,P]=h.useState(""),[z,W]=h.useState(!1),[M,$]=h.useState(""),L=h.useRef(null),D=h.useRef(null),u=h.useRef(null),T=h.useRef(null),A=h.useRef(null),{toast:U}=yt(),te=Jt(),pe=new URLSearchParams(window.location.search).get("serviceType")||"",{data:G,isLoading:ne}=We({queryKey:[`/api/vehicles/${e}`],enabled:!!e}),{data:oe=[],isLoading:ge}=We({queryKey:[`/api/maintenance/records/${e}`],enabled:!!e}),Z=Ir({resolver:Yr(SB),defaultValues:{serviceType:pe,serviceDate:"",serviceCentre:"",billAmount:null,serviceIntervalMonths:null,notes:""}}),be=rt({mutationFn:async I=>{const H=await fetch("/api/maintenance/records",{method:"POST",body:I});if(!H.ok)throw new Error("Failed to create maintenance record");return H.json()},onSuccess:()=>{te.invalidateQueries({queryKey:[`/api/maintenance/records/${e}`]}),U({title:"Success",description:"Maintenance record created successfully!"}),le(),b(!1)},onError:I=>{U({title:"Error",description:I.message,variant:"destructive"})}}),qe=rt({mutationFn:async I=>{const H=new FormData;H.append("vehicleId",e),H.append("serviceType",I.serviceType),H.append("serviceDate",I.serviceDate||""),H.append("serviceCentre",I.serviceCentre),I.billAmount!==null&&I.billAmount!==void 0&&H.append("billAmount",(I.billAmount*100).toString()),I.serviceIntervalMonths!==null&&I.serviceIntervalMonths!==void 0&&H.append("serviceIntervalMonths",I.serviceIntervalMonths.toString()),I.notes&&H.append("notes",I.notes),I.invoice&&H.append("invoice",I.invoice);const J=await fetch("/api/service-logs",{method:"POST",body:H});if(!J.ok){const ee=await J.json();throw new Error(ee.message||"Failed to create service log")}return J.json()},onSuccess:()=>{te.invalidateQueries({queryKey:[`/api/service-logs/${e}`]}),U({title:"Service Log Added",description:"Your service record has been saved successfully!"}),Z.reset(),w(null),s(!1),t(`/vehicle/${e}/service-logs`)},onError:I=>{U({title:"Error",description:I.message,variant:"destructive"})}}),he=I=>oe.find(H=>H.maintenanceType===I),le=()=>{l(null),d(""),p(null),x(null),y("")},Ge=()=>{if(!o||!c){U({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}const I=new FormData;I.append("vehicleId",e),I.append("maintenanceType",o.type),I.append("completedDate",c||""),I.append("notes",v),m&&I.append("warrantyCard",m),f&&I.append("invoice",f),be.mutate(I)},at=I=>{qe.mutate({...I,invoice:g||void 0})},ht=I=>{u.current&&u.current.click()},Ye=I=>{I==="warranty"&&L.current?L.current.click():I==="invoice"&&D.current?D.current.click():I==="service"&&A.current&&A.current.click()},xt=(I,H)=>{var J,ee,xe;H==="warranty"?(p(I),I&&((J=L.current)!=null&&J.getAttribute("capture"))&&(X(!0),P(I.name.replace(/\.[^/.]+$/,"")))):H==="invoice"?(x(I),I&&((ee=D.current)!=null&&ee.getAttribute("capture"))&&(W(!0),$(I.name.replace(/\.[^/.]+$/,"")))):H==="service"&&(w(I),I&&((xe=A.current)!=null&&xe.getAttribute("capture"))&&(R(!0),B(I.name.replace(/\.[^/.]+$/,""))))},cr=I=>{let H,J,ee,xe;if(I==="warranty"?(H=m,J=C,ee=p,xe=X):I==="invoice"?(H=f,J=M,ee=x,xe=W):I==="service"&&(H=g,J=F,ee=w,xe=R),H&&(J!=null&&J.trim())){const Xe=H.name.split(".").pop(),He=J.trim()+"."+Xe,Kt=new File([H],He,{type:H.type,lastModified:H.lastModified});ee==null||ee(Kt)}xe==null||xe(!1)},E=I=>{I==="warranty"?(X(!1),P("")):I==="invoice"?(W(!1),$("")):I==="service"&&(R(!1),B(""))};if(ne||ge)return n.jsx("div",{className:"min-h-screen bg-background",children:n.jsxs("div",{className:"animate-pulse p-4 space-y-4",children:[n.jsx("div",{className:"h-20 bg-gray-200 rounded"}),n.jsx("div",{className:"space-y-3",children:[1,2,3].map(I=>n.jsx("div",{className:"h-16 bg-gray-200 rounded"},I))})]})});if(!G)return n.jsx("div",{className:"min-h-screen bg-background",children:n.jsx("div",{className:"p-4",children:n.jsx(re,{className:"shadow-orange",children:n.jsxs(se,{className:"text-center py-8",children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"Vehicle not found"}),n.jsx(Be,{href:"/",children:n.jsx(O,{children:"Return to Dashboard"})})]})})})});const q=(G==null?void 0:G.vehicleType)==="4-wheeler"?wB:vB;return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"header-gradient-border shadow-lg relative z-10",children:n.jsx("div",{className:"px-3 py-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Be,{href:`/vehicle/${e}/service-logs`,children:n.jsx(O,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-red-50 p-1",children:n.jsx(Pt,{className:"w-4 h-4"})})}),n.jsx("img",{src:t0,alt:"Myymotto Logo",className:"w-12 h-12 rounded-lg"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-base font-bold",children:n.jsx(dt,{})}),n.jsxs("p",{className:"text-xs text-red-600",children:[(G==null?void 0:G.vehicleType)==="4-wheeler"?"4 Wheeler":"2 Wheeler"," Service Management"]})]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(O,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-red-50 p-1",children:n.jsx(jr,{className:"w-4 h-4"})}),n.jsx(Be,{href:"/settings",children:n.jsx(O,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-red-50 p-1",children:n.jsx(sr,{className:"w-4 h-4"})})})]})]})})}),n.jsxs("div",{className:"p-3 pb-20 bg-warm-pattern",children:[n.jsx(re,{className:"mb-4 shadow-orange",children:n.jsx(Me,{className:"pb-3",children:n.jsxs(Fe,{className:"flex items-center justify-between text-base",children:[n.jsxs("span",{children:[G.make," ",G.model," (",G.year,")"]}),n.jsx("span",{className:"text-xs text-gray-500",children:G.licensePlate})]})})}),n.jsx(re,{className:"mb-3 shadow-orange",children:n.jsxs(Kv,{open:r,onOpenChange:s,children:[n.jsx(Qv,{className:"w-full",children:n.jsx(Me,{className:"hover:bg-gray-50 py-3",children:n.jsxs(Fe,{className:"flex items-center justify-between text-left text-base",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(fs,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{children:"Service Details"})]}),n.jsx(Ar,{className:`w-4 h-4 transition-transform ${r?"rotate-45":""}`})]})})}),n.jsx(Zv,{children:n.jsx(se,{className:"pt-0",children:n.jsxs("form",{onSubmit:Z.handleSubmit(at),className:"space-y-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(Re,{htmlFor:"serviceType",className:"text-xs",children:"Service Type"}),["4-wheeler","2-wheeler","3-wheeler"].includes((G==null?void 0:G.vehicleType)||"")?n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Ot,{value:S?"Other (Please specify)":Z.watch("serviceType"),onValueChange:I=>{I==="Other (Please specify)"?(j(!0),Z.setValue("serviceType","")):(j(!1),Z.setValue("serviceType",I))},children:[n.jsx(Dt,{className:"h-8",children:n.jsx(Lt,{placeholder:"Select service type..."})}),n.jsx(It,{children:((G==null?void 0:G.vehicleType)==="4-wheeler"?bB:(G==null?void 0:G.vehicleType)==="2-wheeler"?jB:(G==null?void 0:G.vehicleType)==="3-wheeler"?NB:[]).map(I=>n.jsx(ie,{value:I,children:I},I))})]}),S&&n.jsx(de,{...Z.register("serviceType"),placeholder:"Enter custom service type...",className:"h-8"})]}):n.jsx(de,{id:"serviceType",...Z.register("serviceType"),placeholder:"e.g., Oil Change, Brake Service",className:"h-8"}),Z.formState.errors.serviceType&&n.jsx("p",{className:"text-sm text-red-600",children:Z.formState.errors.serviceType.message})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Re,{htmlFor:"serviceDate",className:"text-xs",children:"Service Date"}),n.jsx(de,{id:"serviceDate",type:"date",...Z.register("serviceDate",{validate:I=>{if(!I)return!0;const H=new Date(I),J=new Date;return J.setHours(23,59,59,999),H<=J||"Service date cannot be in the future"}}),className:"h-8",max:new Date().toISOString().split("T")[0],onChange:I=>{const H=new Date(I.target.value),J=new Date;J.setHours(23,59,59,999),H>J&&(I.target.value=new Date().toISOString().split("T")[0],U({title:"Invalid Date",description:"Service date cannot be in the future. Date has been reset to today.",variant:"destructive"})),Z.setValue("serviceDate",I.target.value)}}),Z.formState.errors.serviceDate&&n.jsx("p",{className:"text-sm text-red-600",children:Z.formState.errors.serviceDate.message})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Re,{htmlFor:"billAmount",className:"text-xs",children:"Bill Amount ()"}),n.jsx(de,{id:"billAmount",type:"number",...Z.register("billAmount",{setValueAs:I=>I===""?null:parseFloat(I)}),placeholder:"Enter service bill amount",className:"h-8",min:"0",step:"0.01"}),Z.formState.errors.billAmount&&n.jsx("p",{className:"text-sm text-red-600",children:Z.formState.errors.billAmount.message})]}),Z.watch("serviceType")==="General Service (Paid)"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(Re,{htmlFor:"serviceIntervalMonths",className:"text-xs",children:"Months to Next Service"}),n.jsx(de,{id:"serviceIntervalMonths",type:"number",...Z.register("serviceIntervalMonths",{setValueAs:I=>I===""?null:parseInt(I)}),placeholder:"e.g., 6",className:"h-8",min:"1",max:"24"}),Z.formState.errors.serviceIntervalMonths&&n.jsx("p",{className:"text-sm text-red-600",children:Z.formState.errors.serviceIntervalMonths.message})]}),Z.watch("serviceDate")&&Z.watch("serviceIntervalMonths")&&n.jsxs("div",{className:"space-y-1",children:[n.jsx(Re,{className:"text-xs",children:"Next Service Date (Calculated)"}),n.jsx("div",{className:"p-2 bg-green-50 border border-green-200 rounded text-xs text-green-800",children:(()=>{const I=Z.watch("serviceDate"),H=Z.watch("serviceIntervalMonths");if(I&&H){const J=new Date(I);return J.setMonth(J.getMonth()+H),J.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})}return""})()})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Re,{htmlFor:"serviceCentre",className:"text-xs",children:"Service Centre"}),n.jsx(de,{id:"serviceCentre",...Z.register("serviceCentre"),placeholder:"Service center name",className:"h-8"}),Z.formState.errors.serviceCentre&&n.jsx("p",{className:"text-sm text-red-600",children:Z.formState.errors.serviceCentre.message})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Re,{htmlFor:"notes",className:"text-xs",children:"Notes (Optional)"}),n.jsx(Hn,{id:"notes",...Z.register("notes"),placeholder:"Additional service notes...",className:"min-h-[60px] text-sm"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Re,{className:"text-xs",children:"Invoice/Warranty cards (Optional)"}),n.jsx("div",{className:"flex justify-center",children:n.jsxs(O,{type:"button",variant:"outline",size:"sm",onClick:()=>Ye("service"),className:"border-green-300 text-green-700 hover:bg-green-50 h-8 text-xs w-full",children:[n.jsx(Rr,{className:"w-3 h-3 mr-1"}),"Photos & Documents"]})}),g&&n.jsx("div",{className:"text-sm text-green-600 flex items-center justify-between bg-green-50 p-2 rounded",children:k?n.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[n.jsx("span",{children:""}),n.jsx(de,{value:F,onChange:I=>B(I.target.value),className:"h-6 text-xs flex-1",placeholder:"Enter file name",autoFocus:!0,onFocus:I=>I.target.select(),onKeyDown:I=>{I.key==="Enter"&&cr("service"),I.key==="Escape"&&E("service")}}),n.jsx(O,{type:"button",variant:"ghost",size:"sm",onClick:()=>cr("service"),className:"text-green-600 hover:text-green-800 p-1 h-6",children:""}),n.jsx(O,{type:"button",variant:"ghost",size:"sm",onClick:()=>E("service"),className:"text-gray-600 hover:text-gray-800 p-1 h-6",children:""})]}):n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"cursor-pointer hover:underline",onClick:()=>{R(!0),B(g.name.replace(/\.[^/.]+$/,""))},children:[" ",g.name]}),n.jsx(O,{type:"button",variant:"ghost",size:"sm",onClick:()=>xt(null,"service"),children:n.jsx(qr,{className:"w-4 h-4 text-red-500"})})]})})]}),n.jsxs("div",{className:"flex space-x-2 pt-2",children:[n.jsx(O,{type:"submit",disabled:qe.isPending,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:qe.isPending?"Saving...":"Save Service Log"}),n.jsx(O,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"})]})]})})})]})}),n.jsx(re,{className:"shadow-orange",children:n.jsxs(Kv,{open:a,onOpenChange:i,children:[n.jsx(Qv,{className:"w-full",children:n.jsx(Me,{className:"hover:bg-gray-50 py-3",children:n.jsxs(Fe,{className:"flex items-center justify-between text-left text-base",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(sr,{className:"w-4 h-4 text-orange-600"}),n.jsx("span",{children:"Essential Replacement Schedule"})]}),n.jsx(Ar,{className:`w-4 h-4 transition-transform ${a?"rotate-45":""}`})]})})}),n.jsx(Zv,{children:n.jsx(se,{className:"pt-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(LD,{children:[n.jsx($D,{children:n.jsxs(Yp,{children:[n.jsx(Gp,{className:"font-medium text-xs",children:"Service"}),n.jsx(Gp,{className:"font-medium text-xs",children:"Recommended Timeline"})]})}),n.jsx(VD,{children:q.map((I,H)=>{const J=he(I.type),ee=!!(J!=null&&J.completedDate);return n.jsxs(Yp,{className:ee?"bg-green-50":"",children:[n.jsx(Wp,{className:"font-medium text-xs py-1",children:I.service}),n.jsx(Wp,{className:"text-xs text-gray-600 py-1",children:I.recommendedTimeline})]},H)})})]})})})})]})})]}),n.jsx("input",{ref:A,type:"file",accept:".jpg,.jpeg,.png,.gif,.bmp,.webp,.pdf,.doc,.docx,.txt",onChange:I=>{var H;return xt(((H=I.target.files)==null?void 0:H[0])||null,"service")},className:"hidden",capture:"environment"}),n.jsx("input",{ref:L,type:"file",accept:".jpg,.jpeg,.png,.gif,.bmp,.webp,.pdf,.doc,.docx,.txt",onChange:I=>{var H;return xt(((H=I.target.files)==null?void 0:H[0])||null,"warranty")},className:"hidden"}),n.jsx("input",{ref:D,type:"file",accept:".jpg,.jpeg,.png,.gif,.bmp,.webp,.pdf,.doc,.docx,.txt",onChange:I=>{var H;return xt(((H=I.target.files)==null?void 0:H[0])||null,"invoice")},className:"hidden"}),n.jsx("input",{ref:u,type:"file",accept:".jpg,.jpeg,.png,.gif,.bmp,.webp",onChange:I=>{var H;return xt(((H=I.target.files)==null?void 0:H[0])||null,"warranty")},className:"hidden",capture:"environment"}),n.jsx("input",{ref:T,type:"file",accept:".jpg,.jpeg,.png,.gif,.bmp,.webp",onChange:I=>{var H;return xt(((H=I.target.files)==null?void 0:H[0])||null,"invoice")},className:"hidden",capture:"environment"}),n.jsx(ln,{open:N,onOpenChange:b,children:n.jsxs(Hr,{className:"max-w-sm mx-auto max-h-[90vh] overflow-y-auto",children:[n.jsxs(Sn,{className:"pb-2",children:[n.jsx(cn,{className:"text-lg",children:"Update Maintenance Record"}),n.jsx(vo,{className:"text-sm",children:o==null?void 0:o.service})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(Re,{htmlFor:"completedDate",className:"text-sm",children:"Date Completed"}),n.jsx(de,{id:"completedDate",type:"date",value:c,onChange:I=>{const H=new Date(I.target.value),J=new Date;J.setHours(23,59,59,999),H>J?(I.target.value=new Date().toISOString().split("T")[0],U({title:"Invalid Date",description:"Completion date cannot be in the future. Date has been reset to today.",variant:"destructive"}),d(new Date().toISOString().split("T")[0])):d(I.target.value)},className:"h-8 text-sm",max:new Date().toISOString().split("T")[0]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Re,{className:"text-sm",children:"Warranty Card"}),n.jsxs("div",{className:"flex space-x-1",children:[n.jsxs(O,{type:"button",variant:"outline",size:"sm",onClick:()=>ht(),className:"flex-1 border-blue-300 text-blue-700 hover:bg-blue-50 h-8 text-xs",children:[n.jsx(Da,{className:"w-3 h-3 mr-1"}),"Camera"]}),n.jsxs(O,{type:"button",variant:"outline",size:"sm",onClick:()=>Ye("warranty"),className:"flex-1 border-green-300 text-green-700 hover:bg-green-50 h-8 text-xs",children:[n.jsx(Rr,{className:"w-3 h-3 mr-1"}),"Upload"]})]}),m&&n.jsx("div",{className:"text-xs text-green-600 flex items-center justify-between bg-green-50 p-1.5 rounded",children:_?n.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[n.jsx("span",{children:""}),n.jsx(de,{value:C,onChange:I=>P(I.target.value),className:"h-5 text-xs flex-1",placeholder:"Enter file name",autoFocus:!0,onFocus:I=>I.target.select(),onKeyDown:I=>{I.key==="Enter"&&cr("warranty"),I.key==="Escape"&&E("warranty")}}),n.jsx(O,{type:"button",variant:"ghost",size:"sm",onClick:()=>cr("warranty"),className:"text-green-600 hover:text-green-800 p-1 h-5",children:""}),n.jsx(O,{type:"button",variant:"ghost",size:"sm",onClick:()=>E("warranty"),className:"text-gray-600 hover:text-gray-800 p-1 h-5",children:""})]}):n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"cursor-pointer hover:underline",onClick:()=>{X(!0),P(m.name.replace(/\.[^/.]+$/,""))},children:[" ",m.name]}),n.jsx(O,{variant:"ghost",size:"sm",onClick:()=>xt(null,"warranty"),className:"h-6 w-6 p-0",children:n.jsx(qr,{className:"w-3 h-3 text-red-500"})})]})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Re,{className:"text-sm",children:"Invoice"}),n.jsx("div",{className:"flex justify-center",children:n.jsxs(O,{type:"button",variant:"outline",size:"sm",onClick:()=>Ye("invoice"),className:"border-green-300 text-green-700 hover:bg-green-50 h-8 text-xs w-full",children:[n.jsx(Rr,{className:"w-3 h-3 mr-1"}),"Photos & Documents"]})}),f&&n.jsx("div",{className:"text-xs text-green-600 flex items-center justify-between bg-green-50 p-1.5 rounded",children:z?n.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[n.jsx("span",{children:""}),n.jsx(de,{value:M,onChange:I=>$(I.target.value),className:"h-5 text-xs flex-1",placeholder:"Enter file name",autoFocus:!0,onFocus:I=>I.target.select(),onKeyDown:I=>{I.key==="Enter"&&cr("invoice"),I.key==="Escape"&&E("invoice")}}),n.jsx(O,{type:"button",variant:"ghost",size:"sm",onClick:()=>cr("invoice"),className:"text-green-600 hover:text-green-800 p-1 h-5",children:""}),n.jsx(O,{type:"button",variant:"ghost",size:"sm",onClick:()=>E("invoice"),className:"text-gray-600 hover:text-gray-800 p-1 h-5",children:""})]}):n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"cursor-pointer hover:underline",onClick:()=>{W(!0),$(f.name.replace(/\.[^/.]+$/,""))},children:[" ",f.name]}),n.jsx(O,{variant:"ghost",size:"sm",onClick:()=>xt(null,"invoice"),className:"h-6 w-6 p-0",children:n.jsx(qr,{className:"w-3 h-3 text-red-500"})})]})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Re,{htmlFor:"notes",className:"text-sm",children:"Notes (Optional)"}),n.jsx(Hn,{id:"notes",value:v,onChange:I=>y(I.target.value),placeholder:"Additional notes about this maintenance...",className:"min-h-[60px] text-sm"})]}),n.jsxs("div",{className:"flex space-x-2 pt-2",children:[n.jsx(O,{onClick:Ge,disabled:be.isPending,className:"flex-1 bg-orange-600 hover:bg-orange-700 h-8 text-sm",children:be.isPending?"Saving...":"Save Record"}),n.jsx(O,{variant:"outline",onClick:()=>{b(!1),le()},className:"h-8 text-sm",children:"Cancel"})]})]})]})})]})}function kB(){var w,S;const{id:e}=qa(),t=Jt(),{toast:r}=yt(),{data:s,isLoading:a}=We({queryKey:[`/api/vehicles/${e}`],queryFn:async()=>{const j=localStorage.getItem("currentUserId")||localStorage.getItem("userId")||"1";return(await Pe("GET",`/api/vehicles/${e}?userId=${j}`)).json()}}),{data:i,isLoading:o}=We({queryKey:[`/api/service-logs/${e}`]}),{data:l,isLoading:c}=We({queryKey:[`/api/maintenance/records/${e}`]}),d=rt({mutationFn:async j=>Pe("DELETE",`/api/service-logs/${j}`),onSuccess:()=>{t.invalidateQueries({queryKey:[`/api/service-logs/${e}`]}),r({title:"Success",description:"Service log deleted successfully"})},onError:()=>{r({title:"Error",description:"Failed to delete service log",variant:"destructive"})}}),m=rt({mutationFn:async j=>Pe("DELETE",`/api/maintenance/records/${j}`),onSuccess:()=>{t.invalidateQueries({queryKey:[`/api/maintenance/records/${e}`]}),r({title:"Success",description:"Maintenance record deleted successfully"})},onError:()=>{r({title:"Error",description:"Failed to delete maintenance record",variant:"destructive"})}}),p=j=>{confirm("Are you sure you want to delete this service log?")&&d.mutate(j)},f=j=>{confirm("Are you sure you want to delete this maintenance record?")&&m.mutate(j)},x=new Date().getFullYear(),v=(i==null?void 0:i.reduce((j,k)=>new Date(k.serviceDate).getFullYear()===x&&k.billAmount?j+k.billAmount/100:j,0))||0,y=j=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:2}).format(j),N=i?[...i].sort((j,k)=>{const R=new Date(j.serviceDate).getTime();return new Date(k.serviceDate).getTime()-R}):void 0,b=l?[...l].sort((j,k)=>{if(!j.completedDate&&!k.completedDate)return 0;if(!j.completedDate)return 1;if(!k.completedDate)return-1;const R=new Date(j.completedDate).getTime();return new Date(k.completedDate).getTime()-R}):void 0,g=N?N.some(j=>j.serviceType&&j.serviceType.toUpperCase()==="GENERAL SERVICE (PAID)"):!1;return a||o||c?n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-orange-50 to-white",children:n.jsxs("div",{className:"animate-pulse p-4 space-y-4",children:[n.jsx("div",{className:"h-20 bg-gray-200 rounded"}),n.jsx("div",{className:"space-y-3",children:[1,2,3].map(j=>n.jsx("div",{className:"h-16 bg-gray-200 rounded"},j))})]})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-orange-50 to-white",children:[n.jsx("header",{className:"header-gradient-border shadow-lg relative z-10",children:n.jsx("div",{className:"px-3 py-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Be,{href:"/",children:n.jsx(O,{variant:"ghost",size:"icon",className:"text-gray-600 hover:bg-red-50 h-8 w-8",children:n.jsx(Pt,{className:"w-4 h-4"})})}),n.jsx("img",{src:bt,alt:"Myymotto Logo",className:"w-12 h-12 rounded-lg"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-base font-bold",children:n.jsx(dt,{})}),n.jsx("p",{className:"text-xs text-red-600",children:"Service Logs"})]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(O,{variant:"ghost",size:"icon",className:"text-gray-600 hover:bg-red-50 h-8 w-8",children:n.jsx(jr,{className:"w-4 h-4"})}),n.jsx(Be,{href:"/settings",children:n.jsx(O,{variant:"ghost",size:"icon",className:"text-gray-600 hover:bg-red-50 h-8 w-8",children:n.jsx(sr,{className:"w-4 h-4"})})})]})]})})}),n.jsxs("main",{className:"container mx-auto max-w-md p-2 space-y-2",children:[s&&n.jsx(re,{className:"shadow-orange",children:n.jsx(se,{className:"p-2",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("h2",{className:"text-sm font-bold text-gray-800",children:[(w=s.make)==null?void 0:w.toUpperCase()," ",(S=s.model)==null?void 0:S.toUpperCase()]}),n.jsx("p",{className:"text-xs text-gray-600",children:s.licensePlate})]})})}),i&&i.length>0&&!g&&n.jsx(re,{className:"shadow-orange bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200",children:n.jsx(se,{className:"p-3",children:n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(sr,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-xs font-semibold text-blue-800 mb-1",children:"Record Your General Service"}),n.jsx("p",{className:"text-[10px] text-blue-700 mb-2 leading-tight",children:"Track your regular general service details to monitor vehicle maintenance and set service intervals for timely reminders."}),n.jsx(Be,{href:`/vehicle/${e}/service`,children:n.jsxs(O,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 h-6 text-[10px] px-2",children:[n.jsx(Ar,{className:"w-2.5 h-2.5 mr-1"}),"Add General Service"]})})]})]})})}),i&&i.length>0&&v>0&&n.jsx(re,{className:"shadow-orange bg-gradient-to-r from-green-50 to-blue-50",children:n.jsx(se,{className:"p-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ly,{className:"w-4 h-4 text-green-600"}),n.jsxs("span",{className:"text-xs font-medium text-gray-700",children:["Total Service Spending ",x]})]}),n.jsx("div",{className:"text-sm font-bold text-green-700",children:y(v)})]})})}),n.jsxs(re,{className:"shadow-orange",children:[n.jsx(Me,{className:"pb-2",children:n.jsxs(Fe,{className:"flex items-center space-x-2 text-gray-800 text-sm",children:[n.jsx(fs,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{children:"Service History"})]})}),n.jsx(se,{className:"p-0",children:(!N||N.length===0)&&(!b||b.length===0)?n.jsxs("div",{className:"text-center py-4 px-2",children:[n.jsx(Zd,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"No service logs yet"}),n.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Start tracking your vehicle's service history"}),n.jsx(Be,{href:`/vehicle/${e}/service`,children:n.jsxs(O,{className:"bg-green-600 hover:bg-green-700 h-8 text-xs",children:[n.jsx(Ar,{className:"w-3 h-3 mr-1"}),"Add First Service Log"]})})]}):n.jsxs("div",{className:"space-y-1",children:[b==null?void 0:b.map(j=>n.jsxs("div",{className:"flex items-center justify-between p-2 border-b border-gray-100 last:border-b-0 hover:bg-gray-50",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[n.jsx(fs,{className:"w-3 h-3 text-green-600"}),n.jsxs("h3",{className:"font-medium text-xs text-gray-800",children:[j.maintenanceType," (Essential Replace) - ",j.completedDate?new Date(j.completedDate).toLocaleDateString():"No date"]})]}),n.jsxs("div",{className:"space-y-1 ml-4",children:[n.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-600",children:[n.jsx(Ft,{className:"w-2.5 h-2.5"}),n.jsx("span",{children:j.completedDate?new Date(j.completedDate).toLocaleDateString("en-GB"):"No date"})]}),j.notes&&n.jsxs("div",{className:"flex items-start space-x-1 text-xs text-gray-600",children:[n.jsx(Zd,{className:"w-2.5 h-2.5 mt-0.5"}),n.jsx("span",{className:"text-[10px]",children:j.notes})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[j.warrantyCardPath&&n.jsxs(n.Fragment,{children:[n.jsx(O,{variant:"ghost",size:"sm",onClick:()=>{const k=document.createElement("a");k.href=j.warrantyCardPath,k.target="_blank",k.rel="noopener noreferrer",document.body.appendChild(k),k.click(),document.body.removeChild(k)},className:"text-blue-600 hover:text-blue-800 h-6 w-6 p-0",title:"View Warranty Card",children:n.jsx(ms,{className:"w-3 h-3"})}),n.jsx(O,{variant:"ghost",size:"sm",onClick:()=>f(j.id),className:"text-red-600 hover:text-red-800 h-6 w-6 p-0",title:"Delete Record",children:n.jsx(qr,{className:"w-3 h-3"})})]}),j.invoicePath&&!j.warrantyCardPath&&n.jsxs(n.Fragment,{children:[n.jsx(O,{variant:"ghost",size:"sm",onClick:()=>{const k=document.createElement("a");k.href=j.invoicePath,k.target="_blank",k.rel="noopener noreferrer",document.body.appendChild(k),k.click(),document.body.removeChild(k)},className:"text-green-600 hover:text-green-800 h-6 w-6 p-0",title:"View Invoice",children:n.jsx(ms,{className:"w-3 h-3"})}),n.jsx(O,{variant:"ghost",size:"sm",onClick:()=>f(j.id),className:"text-red-600 hover:text-red-800 h-6 w-6 p-0",title:"Delete Record",children:n.jsx(qr,{className:"w-3 h-3"})})]}),!j.warrantyCardPath&&!j.invoicePath&&n.jsx(O,{variant:"ghost",size:"sm",onClick:()=>f(j.id),className:"text-red-600 hover:text-red-800 h-6 w-6 p-0",title:"Delete Record",children:n.jsx(qr,{className:"w-3 h-3"})})]})]},`maintenance-${j.id}`)),N==null?void 0:N.map(j=>n.jsxs("div",{className:"flex items-center justify-between p-2 border-b border-gray-100 last:border-b-0 hover:bg-gray-50",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[n.jsx(fs,{className:"w-3 h-3 text-blue-600"}),n.jsxs("h3",{className:"font-medium text-xs text-gray-800",children:[j.serviceType," - ",new Date(j.serviceDate).toLocaleDateString()]})]}),n.jsxs("div",{className:"space-y-1 ml-4",children:[n.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-600",children:[n.jsx(Ft,{className:"w-2.5 h-2.5"}),n.jsx("span",{children:new Date(j.serviceDate).toLocaleDateString("en-GB")})]}),n.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-600",children:[n.jsx(Ta,{className:"w-2.5 h-2.5"}),n.jsx("span",{children:j.serviceCentre})]}),j.billAmount&&n.jsxs("div",{className:"flex items-center space-x-1 text-xs text-green-600",children:[n.jsx(Ly,{className:"w-2.5 h-2.5"}),n.jsx("span",{className:"font-medium",children:y(j.billAmount/100)})]}),j.notes&&n.jsxs("div",{className:"flex items-start space-x-1 text-xs text-gray-600",children:[n.jsx(Zd,{className:"w-2.5 h-2.5 mt-0.5"}),n.jsx("span",{className:"text-[10px]",children:j.notes})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[j.invoicePath&&n.jsx(O,{variant:"ghost",size:"sm",onClick:()=>{const k=document.createElement("a");k.href=j.invoicePath,k.target="_blank",k.rel="noopener noreferrer",document.body.appendChild(k),k.click(),document.body.removeChild(k)},className:"text-green-600 hover:text-green-800 h-6 w-6 p-0",title:"View Invoice",children:n.jsx(ms,{className:"w-3 h-3"})}),n.jsx(O,{variant:"ghost",size:"sm",onClick:()=>p(j.id),className:"text-red-600 hover:text-red-800 h-6 w-6 p-0",title:"Delete Service Log",children:n.jsx(qr,{className:"w-3 h-3"})})]})]},j.id))]})})]}),(N&&N.length>0||b&&b.length>0)&&n.jsx("div",{className:"mt-2",children:n.jsx(Be,{href:`/vehicle/${e}/service`,children:n.jsxs(O,{className:"w-full bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 h-8 text-xs",children:[n.jsx(Ar,{className:"w-3 h-3 mr-1"}),"Add New Service Log"]})})})]}),n.jsx("div",{className:"fixed bottom-20 right-4 z-50",children:n.jsx(Be,{href:`/vehicle/${e}/service`,children:n.jsx(O,{className:"h-12 w-12 rounded-full bg-gradient-to-br from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 shadow-lg hover:shadow-xl transition-all duration-200 border-2 border-white",size:"icon",children:n.jsx(Ar,{className:"h-5 w-5 text-white"})})})})]})}const PB=["Engine Oil Change","Oil Filter Replacement","Air Filter Replacement","Brake Service & Inspection","Brake Pad Replacement","Brake Fluid Change","Transmission Service","Coolant System Service","AC Service & Regassing","Battery Check & Replacement","Battery Replacement","Tire Rotation & Balancing","Tyre Replacement","Wheel Alignment","Suspension Service","Spark Plug Replacement","Timing Belt Service","General Service (Paid)","Free Service","Car Wash & Detailing","Engine Tune-up","Clutch Service","Radiator Service","Exhaust System Service","Power Steering Service","Fuel System Cleaning","Electrical System Check","Body Work & Painting","Denting & Painting","Insurance Claim Work","Other (Please specify)"],TB=["Engine Oil Change","Oil Filter Replacement","Air Filter Cleaning/Replacement","Brake Service (Front/Rear)","Brake Pad Replacement","Chain Cleaning & Lubrication","Chain Adjustment","Chain Replacement","Sprocket Replacement","Spark Plug Replacement","Battery Service/Replacement","Tire Replacement (Front/Rear)","Tube Replacement","Puncture Repair","Carburetor Cleaning","Fuel Injector Cleaning","General Service (Paid)","Free Service","Clutch Plate Replacement","Clutch Cable Adjustment","Gear Oil Change","Brake Oil Change","Suspension Service","Fork Oil Change","Shock Absorber Service","Headlight/Taillight Service","Horn & Electrical Check","Speedometer Service","Exhaust Service/Repair","Engine Tuning","Carburetor Tuning","Washing & Cleaning","Insurance Claim Work","Accident Repair","Engine Overhaul/Rebore","Other (Please specify)"],EB=["Engine Oil Change","Oil Filter Replacement","Air Filter Replacement","Brake Service & Inspection","Brake Pad Replacement","Brake Fluid Change","Transmission Service","Clutch Service & Adjustment","Battery Check & Replacement","Tire Replacement","Wheel Alignment","Suspension Service","Spark Plug Replacement","General Service (Paid)","Free Service","Chain/Belt Drive Service","Fuel System Cleaning","Electrical System Check","Cooling System Service","Carburetor Service","Horn & Light Check","Speedometer Service","Body Work & Repairs","Insurance Claim Work","Accident Repair","Engine Overhaul","Other (Please specify)"],_B=Q.object({serviceType:Q.string().min(1,"Service type is required"),serviceDate:Q.string().min(1,"Service date is required"),serviceCentre:Q.string().min(1,"Service centre is required"),billAmount:Q.number().positive("Bill amount must be positive").optional().nullable(),serviceIntervalMonths:Q.number().min(1,"Service interval must be at least 1 month").max(24,"Service interval cannot exceed 24 months").optional().nullable(),notes:Q.string().optional()});function DB(){var X,C;const{id:e}=qa(),[,t]=Zt(),{toast:r}=yt(),s=Jt(),a=h.useRef(null),[i,o]=h.useState(null),[l,c]=h.useState(!1),[d,m]=h.useState(!1),[p,f]=h.useState(!1),[x,v]=h.useState(""),N=new URLSearchParams(window.location.search).get("serviceType")||"",{data:b,isLoading:g}=We({queryKey:[`/api/vehicles/${e}`]}),w=Ir({resolver:Yr(_B),defaultValues:{serviceType:N,serviceDate:"",serviceCentre:"",billAmount:null,serviceIntervalMonths:null,notes:""}}),S=rt({mutationFn:async P=>{const z=new FormData;z.append("vehicleId",e),z.append("serviceType",P.serviceType),z.append("serviceDate",P.serviceDate||""),z.append("serviceCentre",P.serviceCentre),P.billAmount!==null&&P.billAmount!==void 0&&z.append("billAmount",(P.billAmount*100).toString()),P.serviceIntervalMonths!==null&&P.serviceIntervalMonths!==void 0&&z.append("serviceIntervalMonths",P.serviceIntervalMonths.toString()),P.notes&&z.append("notes",P.notes),P.invoice&&z.append("invoice",P.invoice);const W=await fetch("/api/service-logs",{method:"POST",body:z});if(!W.ok){const M=await W.json();throw new Error(M.message||"Failed to create service log")}return W.json()},onSuccess:()=>{s.invalidateQueries({queryKey:[`/api/service-logs/${e}`]}),r({title:"Service Log Added",description:"Service log has been added successfully."}),t(`/vehicle/${e}/service-logs`)},onError:P=>{r({title:"Error",description:P.message||"Failed to add service log",variant:"destructive"})}}),j=P=>{var W;const z=(W=P.target.files)==null?void 0:W[0];z&&(o(z),P.target.getAttribute("capture")&&(f(!0),v(z.name.replace(/\.[^/.]+$/,""))))},k=()=>{if(i&&x.trim()){const P=i.name.split(".").pop(),z=x.trim()+"."+P,W=new File([i],z,{type:i.type,lastModified:i.lastModified});o(W)}f(!1)},R=()=>{f(!1),v("")},F=()=>{a.current&&(c(!0),a.current.setAttribute("capture","environment"),a.current.click(),c(!1))},B=()=>{o(null),a.current&&(a.current.value="")},_=P=>{S.mutate({...P,invoice:i||void 0})};return g?n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-orange-50 to-white",children:n.jsxs("div",{className:"animate-pulse p-4 space-y-4",children:[n.jsx("div",{className:"h-20 bg-gray-200 rounded"}),n.jsx("div",{className:"h-96 bg-gray-200 rounded"})]})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-orange-50 to-white",children:[n.jsx("header",{className:"header-gradient-border shadow-lg relative z-10",children:n.jsx("div",{className:"px-3 py-3",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Be,{href:"/",children:n.jsx(O,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-red-50 p-1",children:n.jsx(Pt,{className:"w-4 h-4"})})}),n.jsx("img",{src:t0,alt:"Myymotto Logo",className:"w-12 h-12 rounded-lg"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-base font-bold",children:n.jsx(dt,{})}),n.jsx("p",{className:"text-xs text-red-600",children:"Add Service Log"})]})]})})})}),n.jsxs("main",{className:"container mx-auto max-w-md p-4 space-y-4",children:[b&&n.jsx(re,{className:"shadow-orange",children:n.jsx(se,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("h2",{className:"text-lg font-bold text-gray-800",children:[(X=b.make)==null?void 0:X.toUpperCase()," ",(C=b.model)==null?void 0:C.toUpperCase()]}),n.jsx("p",{className:"text-sm text-gray-600",children:b.licensePlate})]})})}),n.jsxs(re,{className:"shadow-orange",children:[n.jsx(Me,{children:n.jsxs(Fe,{className:"flex items-center space-x-2 text-gray-800",children:[n.jsx(fs,{className:"w-5 h-5 text-green-600"}),n.jsx("span",{children:"Service Details"})]})}),n.jsx(se,{className:"space-y-4",children:n.jsxs("form",{onSubmit:w.handleSubmit(_),className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Re,{htmlFor:"serviceType",className:"text-sm font-medium text-gray-700",children:"Service Type *"}),["4-wheeler","2-wheeler","3-wheeler"].includes((b==null?void 0:b.vehicleType)||"")?n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Ot,{value:d?"Other (Please specify)":w.watch("serviceType"),onValueChange:P=>{P==="Other (Please specify)"?(m(!0),w.setValue("serviceType","")):(m(!1),w.setValue("serviceType",P))},children:[n.jsx(Dt,{className:"h-9",children:n.jsx(Lt,{placeholder:"Select service type..."})}),n.jsx(It,{children:((b==null?void 0:b.vehicleType)==="4-wheeler"?PB:(b==null?void 0:b.vehicleType)==="2-wheeler"?TB:(b==null?void 0:b.vehicleType)==="3-wheeler"?EB:[]).map(P=>n.jsx(ie,{value:P,children:P},P))})]}),d&&n.jsx(de,{...w.register("serviceType"),placeholder:"Enter custom service type...",className:"h-9"})]}):n.jsx(de,{id:"serviceType",placeholder:"e.g., Oil Change, Brake Service, General Service",className:"h-9",...w.register("serviceType",{onChange:P=>{P.target.value=P.target.value.toUpperCase()}})}),w.formState.errors.serviceType&&n.jsx("p",{className:"text-sm text-red-600",children:w.formState.errors.serviceType.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Re,{htmlFor:"serviceDate",className:"text-sm font-medium text-gray-700",children:"Service Date *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ft,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(de,{id:"serviceDate",type:"date",className:"h-9 pl-10",...w.register("serviceDate",{validate:P=>{if(!P)return!0;const z=new Date(P),W=new Date;return W.setHours(23,59,59,999),z<=W||"Service date cannot be in the future"}}),max:new Date().toISOString().split("T")[0],onChange:P=>{const z=new Date(P.target.value),W=new Date;W.setHours(23,59,59,999),z>W&&(P.target.value=new Date().toISOString().split("T")[0],r({title:"Invalid Date",description:"Service date cannot be in the future. Date has been reset to today.",variant:"destructive"})),w.setValue("serviceDate",P.target.value)}})]}),w.formState.errors.serviceDate&&n.jsx("p",{className:"text-sm text-red-600",children:w.formState.errors.serviceDate.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Re,{htmlFor:"billAmount",className:"text-sm font-medium text-gray-700",children:"Bill Amount ()"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm",children:""}),n.jsx(de,{id:"billAmount",type:"number",className:"h-9 pl-8",...w.register("billAmount",{setValueAs:P=>P===""?null:parseFloat(P)}),placeholder:"Enter service bill amount",min:"0",step:"0.01"})]}),w.formState.errors.billAmount&&n.jsx("p",{className:"text-sm text-red-600",children:w.formState.errors.billAmount.message})]}),w.watch("serviceType")==="General Service (Paid)"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Re,{htmlFor:"serviceIntervalMonths",className:"text-sm font-medium text-gray-700",children:"Months to Next Service"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ft,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(de,{id:"serviceIntervalMonths",type:"number",className:"h-9 pl-10",...w.register("serviceIntervalMonths",{setValueAs:P=>P===""?null:parseInt(P)}),placeholder:"e.g., 6",min:"1",max:"24"})]}),w.formState.errors.serviceIntervalMonths&&n.jsx("p",{className:"text-sm text-red-600",children:w.formState.errors.serviceIntervalMonths.message})]}),w.watch("serviceDate")&&w.watch("serviceIntervalMonths")&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Re,{className:"text-sm font-medium text-gray-700",children:"Next Service Date (Calculated)"}),n.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ft,{className:"w-4 h-4 text-green-600"}),n.jsx("span",{className:"text-sm text-green-800 font-medium",children:(()=>{const P=w.watch("serviceDate"),z=w.watch("serviceIntervalMonths");if(P&&z){const W=new Date(P);return W.setMonth(W.getMonth()+z),W.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})}return""})()})]})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Re,{htmlFor:"serviceCentre",className:"text-sm font-medium text-gray-700",children:"Service Centre *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ta,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(de,{id:"serviceCentre",placeholder:"e.g., Maruti Service Center, Local Garage",className:"h-9 pl-10",...w.register("serviceCentre",{onChange:P=>{P.target.value=P.target.value.toUpperCase()}})})]}),w.formState.errors.serviceCentre&&n.jsx("p",{className:"text-sm text-red-600",children:w.formState.errors.serviceCentre.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Re,{htmlFor:"notes",className:"text-sm font-medium text-gray-700",children:"Notes"}),n.jsxs("div",{className:"relative",children:[n.jsx(Zd,{className:"absolute left-3 top-3 text-gray-400 h-4 w-4"}),n.jsx(Hn,{id:"notes",placeholder:"Additional notes about the service...",className:"pl-10 min-h-[80px]",...w.register("notes")})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Re,{className:"text-sm font-medium text-gray-700",children:"Invoice/Warranty cards (Optional)"}),n.jsx("input",{ref:a,type:"file",accept:"image/*,.pdf",onChange:j,className:"hidden"}),i?n.jsxs("div",{className:"p-3 border border-green-200 rounded-lg bg-green-50",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[n.jsx(Rr,{className:"w-4 h-4 text-green-600"}),p?n.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[n.jsx(de,{value:x,onChange:P=>v(P.target.value),className:"h-7 text-sm flex-1",placeholder:"Enter file name",autoFocus:!0,onFocus:P=>P.target.select(),onKeyDown:P=>{P.key==="Enter"&&k(),P.key==="Escape"&&R()}}),n.jsx(O,{type:"button",variant:"ghost",size:"sm",onClick:k,className:"text-green-600 hover:text-green-800 p-1 h-7",children:""}),n.jsx(O,{type:"button",variant:"ghost",size:"sm",onClick:R,className:"text-gray-600 hover:text-gray-800 p-1 h-7",children:""})]}):n.jsx("span",{className:"text-sm text-green-700 font-medium cursor-pointer hover:underline flex-1",onClick:()=>{f(!0),v(i.name.replace(/\.[^/.]+$/,""))},children:i.name})]}),!p&&n.jsx(O,{type:"button",variant:"ghost",size:"sm",onClick:B,className:"text-red-600 hover:text-red-800 p-1",children:""})]}),n.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["File selected (",(i.size/1024).toFixed(1)," KB)",p&&"  Click filename to rename"]})]}):n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(O,{type:"button",variant:"outline",size:"sm",onClick:F,className:"flex-1 border-blue-300 text-blue-700 hover:bg-blue-50",disabled:l,children:[n.jsx(Da,{className:"w-4 h-4 mr-2"}),"Camera"]}),n.jsxs(O,{type:"button",variant:"outline",size:"sm",onClick:()=>{var P;return(P=a.current)==null?void 0:P.click()},className:"flex-1 border-green-300 text-green-700 hover:bg-green-50",children:[n.jsx(Rr,{className:"w-4 h-4 mr-2"}),"Upload"]})]})]}),n.jsxs(O,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700",disabled:S.isPending,children:[n.jsx(fC,{className:"w-4 h-4 mr-2"}),S.isPending?"Saving...":"Save Service Log"]})]})})]})]})]})}const IB=Q.object({eventName:Q.string().min(1,"Event name is required"),scheduledDate:Q.string().min(1,"Scheduled date is required"),notes:Q.string().optional()});function AB({vehicleId:e}){const[t,r]=h.useState(!1),[s,a]=h.useState(null),{toast:i}=yt(),o=Jt(),{data:l=[],isLoading:c}=We({queryKey:[`/api/service-alerts/${e}`]}),d=Ir({resolver:Yr(IB),defaultValues:{eventName:"",scheduledDate:"",notes:""}}),m=rt({mutationFn:async S=>Pe("POST","/api/service-alerts",{...S,vehicleId:e}),onSuccess:()=>{o.invalidateQueries({queryKey:[`/api/service-alerts/${e}`]}),o.invalidateQueries({queryKey:["/api/notifications"]}),r(!1),d.reset(),i({title:"Success",description:"Service alert created successfully. You'll receive a notification one day prior."})},onError:S=>{i({title:"Error",description:S.message||"Failed to create service alert",variant:"destructive"})}}),p=rt({mutationFn:async S=>Pe("PUT",`/api/service-alerts/${S.id}`,S),onSuccess:()=>{o.invalidateQueries({queryKey:[`/api/service-alerts/${e}`]}),a(null),d.reset(),i({title:"Success",description:"Service alert updated successfully"})},onError:S=>{i({title:"Error",description:S.message||"Failed to update service alert",variant:"destructive"})}}),f=rt({mutationFn:async S=>Pe("DELETE",`/api/service-alerts/${S}`),onSuccess:()=>{o.invalidateQueries({queryKey:[`/api/service-alerts/${e}`]}),i({title:"Success",description:"Service alert deleted successfully"})},onError:S=>{i({title:"Error",description:S.message||"Failed to delete service alert",variant:"destructive"})}}),x=rt({mutationFn:async S=>Pe("PUT",`/api/service-alerts/${S.id}`,{...S,isCompleted:!0}),onSuccess:()=>{o.invalidateQueries({queryKey:[`/api/service-alerts/${e}`]}),i({title:"Success",description:"Service alert marked as completed"})},onError:S=>{i({title:"Error",description:S.message||"Failed to mark alert as completed",variant:"destructive"})}}),v=S=>{const j={...S,scheduledDate:Cp(S.scheduledDate)||S.scheduledDate};s?p.mutate({...j,id:s.id}):m.mutate(j)},y=S=>{a(S),d.setValue("eventName",S.eventName),d.setValue("scheduledDate",S.scheduledDate),d.setValue("notes",S.notes||""),r(!0)},N=(S,j)=>{confirm(`Are you sure you want to delete the alert "${j}"?`)&&f.mutate(S)},b=S=>{const j=new Date(S.scheduledDate),k=new Date,R=new Date(k);return R.setDate(R.getDate()+1),S.isCompleted?n.jsx(ct,{variant:"outline",className:"bg-green-50 text-green-700 border-green-300",children:"Completed"}):j<k?n.jsx(ct,{variant:"outline",className:"bg-red-50 text-red-700 border-red-300",children:"Overdue"}):j.toDateString()===k.toDateString()?n.jsx(ct,{variant:"outline",className:"bg-orange-50 text-orange-700 border-orange-300",children:"Today"}):j.toDateString()===R.toDateString()?n.jsx(ct,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-300",children:"Tomorrow"}):n.jsx(ct,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-300",children:"Upcoming"})},g=S=>{const j=new Date(S.scheduledDate),k=new Date;return S.isCompleted?n.jsx(Pn,{className:"w-4 h-4 text-green-600"}):j<k?n.jsx(ul,{className:"w-4 h-4 text-red-600"}):n.jsx(Bs,{className:"w-4 h-4 text-blue-600"})},w=()=>{r(!1),a(null),d.reset()};return c?n.jsx(re,{className:"shadow-orange-dark border border-orange-300",children:n.jsx(se,{className:"p-4",children:n.jsxs("div",{className:"animate-pulse space-y-3",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})})}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs(re,{className:"shadow-orange-dark border border-orange-300",children:[n.jsx(Me,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Fe,{className:"flex items-center space-x-2 text-base",children:[n.jsx(jr,{className:"w-5 h-5 text-orange-600"}),n.jsx("span",{children:"Service Alerts"})]}),n.jsxs(O,{onClick:()=>r(!0),size:"sm",className:"h-8 text-xs bg-orange-600 hover:bg-orange-700",children:[n.jsx(Ar,{className:"w-4 h-4 mr-1"}),"Set Alert"]})]})}),n.jsx(se,{className:"pt-0",children:l.length===0?n.jsxs("div",{className:"text-center py-6 text-gray-500",children:[n.jsx(Ft,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-sm",children:"No service alerts set"}),n.jsx("p",{className:"text-xs mt-1",children:"Create alerts to get reminders for scheduled services"})]}):n.jsx("div",{className:"space-y-3",children:l.map(S=>n.jsx("div",{className:"p-3 border border-gray-200 rounded-lg hover:border-orange-300 transition-colors",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[g(S),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("h4",{className:"font-medium text-gray-900 text-sm truncate",children:S.eventName}),b(S)]}),n.jsxs("p",{className:"text-xs text-gray-600 mb-1",children:["Scheduled: ",new Date(S.scheduledDate).toLocaleDateString()]}),S.notes&&n.jsx("p",{className:"text-xs text-gray-500 line-clamp-2",children:S.notes})]})]}),n.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[!S.isCompleted&&n.jsx(O,{variant:"ghost",size:"sm",onClick:()=>x.mutate(S),disabled:x.isPending,className:"h-6 w-6 p-0 text-green-600 hover:text-green-700",title:"Mark as completed",children:n.jsx(Pn,{className:"w-3 h-3"})}),n.jsx(O,{variant:"ghost",size:"sm",onClick:()=>y(S),className:"h-6 w-6 p-0 text-blue-600 hover:text-blue-700",title:"Edit alert",children:n.jsx(UM,{className:"w-3 h-3"})}),n.jsx(O,{variant:"ghost",size:"sm",onClick:()=>N(S.id,S.eventName),disabled:f.isPending,className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",title:"Delete alert",children:n.jsx(qr,{className:"w-3 h-3"})})]})]})},S.id))})})]}),n.jsx(ln,{open:t,onOpenChange:w,children:n.jsxs(Hr,{className:"max-w-md mx-auto",children:[n.jsx(Sn,{children:n.jsx(cn,{className:"text-base",children:s?"Edit Service Alert":"Set Service Alert"})}),n.jsxs("form",{onSubmit:d.handleSubmit(v),className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Re,{htmlFor:"eventName",className:"text-xs font-medium text-gray-700",children:"Event Name"}),n.jsx(de,{id:"eventName",...d.register("eventName"),placeholder:"e.g., Oil Change, Tire Rotation",className:"h-8 text-sm mt-1"}),d.formState.errors.eventName&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:d.formState.errors.eventName.message})]}),n.jsxs("div",{children:[n.jsx(Re,{htmlFor:"scheduledDate",className:"text-xs font-medium text-gray-700",children:"Scheduled Date"}),n.jsx(de,{id:"scheduledDate",type:"text",placeholder:"dd/mm/yyyy",...d.register("scheduledDate"),className:"h-8 text-sm mt-1",maxLength:10}),d.formState.errors.scheduledDate&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:d.formState.errors.scheduledDate.message})]}),n.jsxs("div",{children:[n.jsx(Re,{htmlFor:"notes",className:"text-xs font-medium text-gray-700",children:"Notes (Optional)"}),n.jsx(Hn,{id:"notes",...d.register("notes"),placeholder:"Additional notes about this service...",className:"text-sm mt-1 min-h-[60px]"})]}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[n.jsx(O,{type:"button",variant:"outline",onClick:w,className:"h-8 text-xs",children:"Cancel"}),n.jsx(O,{type:"submit",disabled:m.isPending||p.isPending,className:"h-8 text-xs bg-orange-600 hover:bg-orange-700",children:m.isPending||p.isPending?"Saving...":"Save Alert"})]})]})]})})]})}function RB(){var s,a;const{id:e}=qa(),{data:t,isLoading:r}=We({queryKey:[`/api/vehicles/${e}`]});return r?n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-orange-50 to-white",children:n.jsxs("div",{className:"animate-pulse p-4 space-y-4",children:[n.jsx("div",{className:"h-20 bg-gray-200 rounded"}),n.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-orange-50 to-white",children:[n.jsx("header",{className:"header-gradient-border shadow-lg relative z-10",children:n.jsx("div",{className:"px-3 py-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Be,{href:"/",children:n.jsx(O,{variant:"ghost",size:"icon",className:"text-gray-600 hover:bg-red-50",children:n.jsx(Pt,{className:"w-5 h-5"})})}),n.jsx("img",{src:bt,alt:"MyyMotto Logo",className:"w-10 h-10 rounded-lg"}),n.jsxs("div",{children:[n.jsx(dt,{}),n.jsx("p",{className:"text-sm text-red-600",children:"Service Alerts"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(O,{variant:"ghost",size:"icon",className:"text-gray-600 hover:bg-red-50",children:n.jsx(jr,{className:"w-4 h-4"})}),n.jsx(Be,{href:"/settings",children:n.jsx(O,{variant:"ghost",size:"icon",className:"text-gray-600 hover:bg-red-50",children:n.jsx(sr,{className:"w-4 h-4"})})})]})]})})}),n.jsxs("main",{className:"container mx-auto max-w-md p-4 space-y-4",children:[t&&n.jsx(re,{className:"shadow-orange",children:n.jsx(se,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("h2",{className:"text-lg font-bold text-gray-800",children:[(s=t.make)==null?void 0:s.toUpperCase()," ",(a=t.model)==null?void 0:a.toUpperCase()]}),n.jsx("p",{className:"text-sm text-gray-600",children:t.licensePlate})]})})}),e&&n.jsx(AB,{vehicleId:parseInt(e)})]}),n.jsx("div",{className:"h-16"})]})}function MB(){var x;yt();const e=Jt(),[t,r]=h.useState("offers"),{data:s=[],isLoading:a,error:i}=We({queryKey:["/api/news"],refetchOnMount:!0,staleTime:0,gcTime:1e3*60*5});We({queryKey:["/api/news/cache-info"],refetchInterval:1e3*60});const o=rt({mutationFn:()=>Pe("POST","/api/news/refresh"),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/news"]}),e.invalidateQueries({queryKey:["/api/news/cache-info"]})},onError:()=>{e.invalidateQueries({queryKey:["/api/news"]})}}),l=v=>{switch(v){case"policy":return n.jsx(fr,{className:"w-4 h-4 text-red-600"});case"launch":return n.jsx(Ia,{className:"w-4 h-4 text-green-600"});case"news":return n.jsx(si,{className:"w-4 h-4 text-blue-600"});case"event":return n.jsx(Ft,{className:"w-4 h-4 text-purple-600"});case"offers":return n.jsx(Rn,{className:"w-4 h-4 text-orange-600"});default:return n.jsx(si,{className:"w-4 h-4 text-gray-600"})}},c=v=>{switch(v){case"policy":return"bg-red-100 text-red-800";case"launch":return"bg-green-100 text-green-800";case"news":return"bg-blue-100 text-blue-800";case"event":return"bg-purple-100 text-purple-800";case"offers":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},d=v=>{switch(v){case"high":return"border-l-4 border-red-500";case"medium":return"border-l-4 border-orange-500";case"low":return"border-l-4 border-gray-400";default:return"border-l-4 border-gray-300"}},m=s.filter(v=>t==="all"?!0:v.category===t),p=[{id:"launch",label:"Launches",icon:Ia,color:"green"},{id:"event",label:"Events",icon:Ft,color:"purple"},{id:"policy",label:"Policies",icon:fr,color:"red"},{id:"offers",label:"Offers",icon:Rn,color:"orange"}],f=(v,y)=>{const N=t===v,b="flex-1 p-3 text-center transition-all duration-200 flex flex-col items-center space-y-1";switch(y){case"green":return`${b} ${N?"bg-green-100 text-green-800 border-2 border-green-500 shadow-lg":"bg-white text-green-600 border border-green-200 hover:bg-green-50"}`;case"purple":return`${b} ${N?"bg-purple-100 text-purple-800 border-2 border-purple-500 shadow-lg":"bg-white text-purple-600 border border-purple-200 hover:bg-purple-50"}`;case"red":return`${b} ${N?"bg-red-100 text-red-800 border-2 border-red-500 shadow-lg":"bg-white text-red-600 border border-red-200 hover:bg-red-50"}`;case"orange":return`${b} ${N?"bg-orange-100 text-orange-800 border-2 border-orange-500 shadow-lg":"bg-white text-orange-600 border border-orange-200 hover:bg-orange-50"}`;default:return`${b} ${N?"bg-gray-100 text-gray-800 border-2 border-gray-500 shadow-lg":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"}`}};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-red-50 to-pink-50",children:[n.jsx("header",{className:"header-gradient-border shadow-lg relative z-10",children:n.jsxs("div",{className:"px-4 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Be,{href:"/",className:"text-gray-600 hover:text-red-500",children:n.jsx(Pt,{className:"w-6 h-6"})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(si,{className:"w-6 h-6 text-orange-600"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-lg font-bold text-gray-800",children:"News Bits"}),n.jsx("p",{className:"text-xs text-red-600",children:"Latest Vehicle News & Updates"})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(O,{onClick:()=>o.mutate(),disabled:o.isPending,variant:"ghost",size:"icon",className:"text-gray-600 hover:bg-red-50",children:o.isPending?n.jsx(Is,{className:"w-4 h-4 animate-spin"}):n.jsx(Is,{className:"w-4 h-4"})}),n.jsx(Be,{href:"/settings",children:n.jsx(O,{variant:"ghost",size:"icon",className:"text-gray-600 hover:bg-red-50",children:n.jsx(sr,{className:"w-6 h-6"})})})]})]}),n.jsx("div",{className:"mt-2 text-center",children:n.jsxs("p",{className:"text-xs text-gray-500",children:["Today: ",new Date().toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}),"  Latest Updates"]})})]})}),n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:p.map(v=>{const y=v.icon,N=s.filter(b=>b.category===v.id).length;return n.jsxs(re,{className:`cursor-pointer rounded-lg shadow-orange-200 shadow-md ${f(v.id,v.color)}`,onClick:()=>r(v.id),children:[n.jsx(y,{className:"w-4 h-4"}),n.jsx("span",{className:"text-xs font-bold",children:v.label}),n.jsx("span",{className:"text-lg font-bold",children:N})]},v.id)})}),a?n.jsx("div",{className:"space-y-3",children:[1,2,3,4,5,6].map(v=>n.jsxs(re,{className:"p-4 shadow-orange-200 shadow-md animate-pulse",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded"}),n.jsx("div",{className:"w-16 h-5 bg-gray-300 rounded-full"})]}),n.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded"})]}),n.jsx("div",{className:"w-full h-4 bg-gray-300 rounded mb-2"}),n.jsx("div",{className:"w-full h-3 bg-gray-300 rounded mb-1"}),n.jsx("div",{className:"w-3/4 h-3 bg-gray-300 rounded mb-3"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"w-20 h-3 bg-gray-300 rounded"}),n.jsx("div",{className:"w-16 h-3 bg-gray-300 rounded"})]})]},v))}):i?n.jsxs(re,{className:"p-6 text-center shadow-orange-200 shadow-md",children:[n.jsx(fr,{className:"w-12 h-12 text-red-500 mx-auto mb-3"}),n.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Failed to Load News"}),n.jsx("p",{className:"text-xs text-gray-600 mb-4",children:"Unable to fetch latest news. Please check your connection and try again."}),n.jsxs(O,{onClick:()=>o.mutate(),disabled:o.isPending,className:"bg-orange-600 hover:bg-orange-700 text-white",children:[o.isPending?n.jsx(Is,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(Is,{className:"w-4 h-4 mr-2"}),"Try Again"]})]}):m.length===0?n.jsxs(re,{className:"p-6 text-center shadow-orange-200 shadow-md",children:[n.jsx(si,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),n.jsxs("h3",{className:"font-semibold text-gray-800 mb-2",children:["No ",(x=p.find(v=>v.id===t))==null?void 0:x.label," Available"]}),n.jsxs("p",{className:"text-xs text-gray-600 mb-4",children:["No ",t," news found at the moment. Try selecting a different category or refreshing for updates."]}),n.jsxs("div",{className:"flex gap-2 justify-center",children:[n.jsx(O,{onClick:()=>r("offers"),variant:"outline",size:"sm",children:"View Offers"}),n.jsxs(O,{onClick:()=>o.mutate(),disabled:o.isPending,variant:"outline",size:"sm",children:[n.jsx(Is,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}):n.jsx("div",{className:"space-y-3",children:m.map(v=>n.jsxs(re,{className:`p-4 shadow-orange-200 shadow-md ${d(v.priority)}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[l(v.category),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c(v.category)}`,children:v.category.toUpperCase()}),v.priority==="high"&&n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-200 text-red-800",children:"BREAKING"})]}),n.jsx("a",{href:v.link,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-orange-600 transition-colors",children:n.jsx(Ms,{className:"w-4 h-4"})})]}),n.jsx("h3",{className:"font-semibold text-gray-800 text-sm mb-2",children:v.title}),n.jsx("p",{className:"text-xs text-gray-600 mb-3 leading-relaxed",children:v.summary}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[n.jsx("span",{className:"font-medium",children:v.source}),n.jsx("span",{children:v.date})]})]},v.id))}),n.jsx(re,{className:"p-3 text-center bg-blue-50 shadow-orange-200 shadow-md",children:n.jsx("p",{className:"text-xs text-blue-700",children:" News updates hourly with intelligent caching  Tap refresh for latest updates"})})]})]})}const Jv={stats:{name:"Statistics Overview",icon:kM,description:"Vehicle count and renewal status"},quick_actions:{name:"Quick Actions",icon:Ia,description:"Add vehicle, documents, and services"},recent_vehicles:{name:"Your Vehicles",icon:_t,description:"List of all your vehicles"},news:{name:"News Bits",icon:si,description:"Latest automotive news and updates"},reminders:{name:"Reminders",icon:Bs,description:"Important renewal notifications"}};function FB(){const e=Jt(),{data:t=[],isLoading:r}=We({queryKey:["/api/dashboard/widgets/1"]}),s=rt({mutationFn:async({id:c,updates:d})=>{const m={...d,userId:1};return Pe("PATCH",`/api/dashboard/widgets/${c}`,m)},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/dashboard/widgets/1"]}),ni({title:"Widget Updated",description:"Dashboard widget settings have been updated successfully."})},onError:c=>{console.error("Widget update error:",c),ni({title:"Update Failed",description:"Failed to update widget settings. Please try again.",variant:"destructive"})}}),a=(c,d)=>{s.mutate({id:c,updates:{isVisible:!d}})},i=(c,d)=>{s.mutate({id:c,updates:{size:d}})},o=(c,d)=>{s.mutate({id:c,updates:{position:d}})},l=[...t].sort((c,d)=>c.position-d.position);return r?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"header-gradient-border shadow-lg relative z-10",children:n.jsx("div",{className:"px-3 py-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Be,{href:"/",children:n.jsx(O,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-red-50 p-1",children:n.jsx(Pt,{className:"w-4 h-4"})})}),n.jsx("img",{src:bt,alt:"Myymotto Logo",className:"w-12 h-12 rounded-lg"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-base font-bold",children:n.jsx(dt,{})}),n.jsx("p",{className:"text-xs text-red-600",children:"Customize Dashboard"})]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(O,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-red-50 p-1",children:n.jsx(jr,{className:"w-4 h-4"})}),n.jsx(Be,{href:"/settings",children:n.jsx(O,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-red-50 p-1",children:n.jsx(sr,{className:"w-4 h-4"})})})]})]})})}),n.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[n.jsxs(re,{className:"shadow-orange",children:[n.jsx(Me,{children:n.jsxs(Fe,{className:"flex items-center space-x-2",children:[n.jsx(sr,{className:"w-5 h-5 text-orange-600"}),n.jsx("span",{children:"Dashboard Layout"})]})}),n.jsxs(se,{className:"space-y-3",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Customize your dashboard by showing/hiding widgets, changing their size, and reordering them to match your preferences."}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx(ct,{variant:"outline",children:"Show/Hide"}),n.jsx(ct,{variant:"outline",children:"Resize"}),n.jsx(ct,{variant:"outline",children:"Reorder"})]})]})]}),n.jsx("div",{className:"space-y-4",children:l.map((c,d)=>{var f;const m=((f=Jv[c.widgetType])==null?void 0:f.icon)||sr,p=Jv[c.widgetType];return n.jsx(re,{className:`shadow-orange transition-all duration-200 ${c.isVisible?"border-l-4 border-l-green-500":"border-l-4 border-l-gray-300 opacity-70"}`,children:n.jsxs(se,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[n.jsx(FM,{className:"w-4 h-4 text-gray-400 cursor-move"}),n.jsx(m,{className:`w-5 h-5 ${c.isVisible?"text-orange-600":"text-gray-400"}`}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-medium text-gray-800",children:(p==null?void 0:p.name)||c.widgetType}),n.jsx("p",{className:"text-xs text-gray-500",children:p==null?void 0:p.description})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(Ot,{value:c.size,onValueChange:x=>i(c.id,x),disabled:!c.isVisible,children:[n.jsx(Dt,{className:"w-20 h-8 text-xs",children:n.jsx(Lt,{})}),n.jsxs(It,{children:[n.jsx(ie,{value:"small",children:"Small"}),n.jsx(ie,{value:"medium",children:"Medium"}),n.jsx(ie,{value:"large",children:"Large"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(rm,{checked:c.isVisible,onCheckedChange:()=>a(c.id,c.isVisible)}),c.isVisible?n.jsx(ms,{className:"w-4 h-4 text-green-600"}):n.jsx(RM,{className:"w-4 h-4 text-gray-400"})]})]})]}),n.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Position:"}),n.jsxs(ct,{variant:"secondary",className:"text-xs",children:["#",c.position+1]})]}),n.jsxs("div",{className:"flex space-x-1",children:[n.jsx(O,{size:"sm",variant:"outline",className:"h-6 px-2 text-xs",onClick:()=>o(c.id,Math.max(0,c.position-1)),disabled:d===0,children:""}),n.jsx(O,{size:"sm",variant:"outline",className:"h-6 px-2 text-xs",onClick:()=>o(c.id,c.position+1),disabled:d===l.length-1,children:""})]})]})]})},c.id)})}),n.jsx(re,{className:"shadow-orange",children:n.jsx(se,{className:"p-4",children:n.jsxs("div",{className:"text-center space-y-3",children:[n.jsx("h3",{className:"font-medium text-gray-800",children:"Preview Your Changes"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Return to dashboard to see your customized layout in action."}),n.jsx(Be,{href:"/",children:n.jsxs(O,{className:"w-full bg-orange-600 hover:bg-orange-700 text-white",children:[n.jsx(ms,{className:"w-4 h-4 mr-2"}),"View Dashboard"]})})]})})})]})]})}const OB=Q.object({type:Q.string(),title:Q.string().optional(),description:Q.string().min(1,"Description is required").refine(e=>e.trim().split(/\s+/).filter(r=>r.length>0).length<=75,"Description must be 75 words or less"),contactPhone:Q.string().min(10,"Valid phone number required"),contactEmail:Q.string().email().optional().or(Q.literal("")),price:Q.number().optional(),location:Q.string().optional()});function LB(){const[,e]=Zt(),{toast:t}=yt(),r=parseInt(localStorage.getItem("currentUserId")||localStorage.getItem("userId")||"1"),a=new URLSearchParams(window.location.search).get("view")==="only",[i,o]=h.useState(!1),[l,c]=h.useState(!1),[d,m]=h.useState(null),[p,f]=h.useState(null),x=Ir({resolver:Yr(OB),defaultValues:{type:"general",title:"",description:"",contactPhone:"",contactEmail:"",price:void 0,location:""}}),v=()=>{if(g&&typeof g=="object"){const _=g;x.setValue("contactPhone",_.alternatePhone||""),x.setValue("contactEmail",_.email||""),x.setValue("location",_.city||"")}},{data:y=[],isLoading:N}=We({queryKey:["/api/broadcasts"],queryFn:async()=>(await Pe("GET",`/api/broadcasts?userId=${r}`)).json()}),{data:b=[]}=We({queryKey:["/api/vehicles"],queryFn:async()=>(await Pe("GET",`/api/vehicles?userId=${r}`)).json()}),{data:g}=We({queryKey:[`/api/profile/${r}`]});h.useEffect(()=>{if(g&&typeof g=="object"){const _=g;_.alternatePhone&&x.setValue("contactPhone",_.alternatePhone,{shouldValidate:!1}),_.email&&x.setValue("contactEmail",_.email,{shouldValidate:!1}),_.city&&x.setValue("location",_.city,{shouldValidate:!1})}},[g,x]),h.useEffect(()=>{if((x.watch("type")==="buy"||x.watch("type")==="query")&&g&&typeof g=="object"){const _=g;_.alternatePhone&&x.setValue("contactPhone",_.alternatePhone,{shouldValidate:!1}),_.email&&x.setValue("contactEmail",_.email,{shouldValidate:!1}),_.city&&x.setValue("location",_.city,{shouldValidate:!1})}},[x.watch("type"),g,x]),h.useEffect(()=>{if(i&&g&&typeof g=="object"){const _=g;setTimeout(()=>{_.alternatePhone&&x.setValue("contactPhone",_.alternatePhone,{shouldValidate:!1}),_.email&&x.setValue("contactEmail",_.email,{shouldValidate:!1}),_.city&&x.setValue("location",_.city,{shouldValidate:!1})},100)}},[i,g,x]);const w=rt({mutationFn:async _=>Pe("POST","/api/broadcasts",{..._,userId:r}),onSuccess:()=>{t({title:"Success",description:"Your broadcast has been posted successfully!"}),va.invalidateQueries({queryKey:["/api/broadcasts"]}),o(!1),m(null),x.reset()},onError:_=>{t({title:"Error",description:_ instanceof Error?_.message:"Failed to create broadcast",variant:"destructive"})}}),S=rt({mutationFn:async _=>Pe("DELETE",`/api/broadcasts/${_}?userId=${r}`),onSuccess:()=>{t({title:"Deleted",description:"Your broadcast has been deleted successfully."}),va.invalidateQueries({queryKey:["/api/broadcasts"]})},onError:_=>{t({title:"Error",description:_ instanceof Error?_.message:"Failed to delete broadcast",variant:"destructive"})}}),j=_=>{m(_),c(!1),x.setValue("type","sell"),x.setValue("title",`${_.make} ${_.model} ${_.year} for Sale`),x.setValue("description",`Selling my ${_.make} ${_.model} ${_.year}. Well maintained vehicle.`)},k=_=>{const X=_.type==="buy"?"Looking for a Vehicle":_.title,C={type:_.type,title:X,description:_.description,contactPhone:_.contactPhone,contactEmail:_.contactEmail||void 0,price:_.price||void 0,location:_.location||void 0,vehicleId:(d==null?void 0:d.id)||void 0};w.mutate(C)},R=_=>new Date(_).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),F=_=>{switch(_){case"sell":return n.jsx(_t,{className:"w-4 h-4 text-orange-600"});case"buy":return n.jsx(ms,{className:"w-4 h-4 text-blue-600"});case"query":return n.jsx($y,{className:"w-4 h-4 text-purple-600"});default:return n.jsx($y,{className:"w-4 h-4 text-gray-600"})}},B=_=>{switch(_){case"sell":return"Vehicle for Sale";case"buy":return"Looking to Buy";case"query":return"Community Query";default:return"General Post"}};return N?n.jsx("div",{className:"h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-orange-50 to-white",children:[n.jsx("header",{className:"header-gradient-border shadow-lg relative z-10",children:n.jsx("div",{className:"px-3 py-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>e("/"),className:"text-gray-600 hover:text-gray-800 hover:bg-red-50 p-1 rounded-full mr-1",children:n.jsx(Pt,{className:"w-4 h-4"})}),n.jsx("img",{src:bt,alt:"Myymotto Logo",className:"w-12 h-12 rounded-lg"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-base font-bold",children:n.jsx(dt,{})}),n.jsx("p",{className:"text-xs text-red-600",children:"Community for MMians"})]})]}),!a&&n.jsxs(O,{onClick:()=>{v(),o(!0)},className:"bg-orange-500 hover:bg-orange-600 text-white h-8 px-3 text-xs",children:[n.jsx(Ar,{className:"w-3 h-3 mr-1"}),"Create Post"]})]})})}),n.jsx("div",{className:"px-3 py-3 space-y-3",children:y.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(fp,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),n.jsx("h3",{className:"text-base font-medium text-gray-900 mb-1",children:"No broadcasts yet"}),n.jsx("p",{className:"text-xs text-gray-500 mb-4",children:a?"Check back later for new posts from the MMian community!":"Be the first to share with the MMian community!"}),!a&&n.jsxs(O,{onClick:()=>{v(),o(!0)},className:"bg-orange-500 hover:bg-orange-600 text-white h-8 px-3 text-xs",children:[n.jsx(Ar,{className:"w-3 h-3 mr-1"}),"Create First Post"]})]}):n.jsx("div",{className:"space-y-2",children:y.map(_=>{var X;return n.jsxs(re,{className:"shadow-orange border-orange-100",children:[n.jsxs(Me,{className:"pb-1 px-3 pt-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[F(_.type),n.jsx("span",{className:"text-xs font-medium text-gray-600",children:B(_.type)})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1 text-[9px] text-gray-400",children:[n.jsx(Ft,{className:"w-2 h-2"}),R(_.createdAt)]}),_.userId===r&&n.jsx(O,{variant:"ghost",size:"sm",onClick:C=>{C.preventDefault(),C.stopPropagation(),f(_.id)},className:"text-red-500 hover:text-red-700 hover:bg-red-50 p-0 h-auto w-auto",disabled:S.isPending,children:n.jsx(qr,{className:"w-3 h-3"})})]})]}),n.jsx(Fe,{className:"text-sm text-gray-900 leading-tight",children:_.title})]}),n.jsxs(se,{className:"pt-0 px-3 pb-2",children:[n.jsx("p",{className:"text-xs text-gray-700 mb-2 leading-tight",children:_.description}),_.type==="sell"&&_.vehicle&&n.jsxs("div",{className:"bg-orange-50 rounded-lg p-2 mb-2",children:[n.jsxs("h4",{className:"text-[10px] font-semibold text-orange-800 mb-1 flex items-center gap-1",children:[n.jsx(_t,{className:"w-3 h-3"}),"Vehicle Details"]}),n.jsxs("div",{className:"grid grid-cols-3 gap-1 text-[9px]",children:[n.jsxs("div",{className:"bg-white rounded p-1",children:[n.jsx("span",{className:"text-gray-500 block leading-none",children:"Model"}),n.jsxs("span",{className:"font-medium text-gray-800 leading-tight",children:[_.vehicle.make," ",_.vehicle.model]})]}),n.jsxs("div",{className:"bg-white rounded p-1",children:[n.jsx("span",{className:"text-gray-500 block leading-none",children:"Year"}),n.jsx("span",{className:"font-medium text-gray-800 leading-tight",children:_.vehicle.year})]}),n.jsxs("div",{className:"bg-white rounded p-1",children:[n.jsx("span",{className:"text-gray-500 block leading-none",children:"Color"}),n.jsx("span",{className:"font-medium text-gray-800 leading-tight capitalize",children:_.vehicle.color||"N/A"})]}),n.jsxs("div",{className:"bg-white rounded p-1",children:[n.jsx("span",{className:"text-gray-500 block leading-none",children:"Fuel"}),n.jsx("span",{className:"font-medium text-gray-800 leading-tight capitalize",children:_.vehicle.fuelType||"Petrol"})]}),n.jsxs("div",{className:"bg-white rounded p-1",children:[n.jsx("span",{className:"text-gray-500 block leading-none",children:"Registration"}),n.jsx("span",{className:"font-medium text-gray-800 leading-tight",children:_.vehicle.licenseNumber})]}),n.jsxs("div",{className:"bg-white rounded p-1",children:[n.jsx("span",{className:"text-gray-500 block leading-none",children:"Km Run"}),n.jsxs("span",{className:"font-medium text-gray-800 leading-tight",children:[((X=_.vehicle.currentOdometerReading)==null?void 0:X.toLocaleString())||"N/A"," km"]})]}),n.jsxs("div",{className:"bg-white rounded p-1",children:[n.jsx("span",{className:"text-gray-500 block leading-none",children:"Insured Date"}),n.jsx("span",{className:"font-medium text-gray-800 leading-tight",children:_.vehicle.insuranceExpiry?R(_.vehicle.insuranceExpiry):"N/A"})]}),n.jsxs("div",{className:"bg-white rounded p-1 col-span-2",children:[n.jsx("span",{className:"text-gray-500 block leading-none",children:"RC Valid Till"}),n.jsx("span",{className:"font-medium text-gray-800 leading-tight",children:_.vehicle.rcExpiry?R(_.vehicle.rcExpiry):"N/A"})]}),_.vehicle.thumbnailPath&&n.jsxs("div",{className:"bg-white rounded p-1",children:[n.jsx("span",{className:"text-gray-500 block leading-none mb-1",children:"Photo"}),n.jsx("img",{src:`/uploads/${_.vehicle.thumbnailPath}`,alt:"Vehicle",className:"w-full h-8 object-cover rounded"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-[10px]",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[_.contactPhone&&n.jsxs("span",{className:"text-gray-600 bg-gray-50 px-1 py-0.5 rounded",children:[" ",_.contactPhone]}),_.location&&n.jsxs("span",{className:"text-gray-600 bg-gray-50 px-1 py-0.5 rounded",children:[" ",_.location]})]}),_.price&&n.jsxs("span",{className:"font-semibold text-green-600 bg-green-50 px-1 py-0.5 rounded",children:["",_.price.toLocaleString()]})]}),n.jsx("div",{className:"flex items-center justify-end mt-1 pt-1 border-t border-gray-100",children:n.jsxs("div",{className:"flex items-center gap-1 text-[9px] text-gray-400",children:[n.jsx(ms,{className:"w-2 h-2"}),_.viewCount||0," views"]})})]})]},_.id)})})}),!a&&n.jsx(ln,{open:i,onOpenChange:o,children:n.jsxs(Hr,{className:"w-[90%] max-w-md mx-auto max-h-[85vh] overflow-y-auto p-6 rounded-xl shadow-2xl bg-white border-0",children:[n.jsxs(Sn,{className:"pb-4 text-center",children:[n.jsxs(cn,{className:"text-lg font-bold flex items-center justify-center gap-2 text-gray-800",children:[n.jsx(fp,{className:"w-5 h-5 text-orange-600"}),"Create New Post"]}),n.jsx(vo,{className:"text-sm text-gray-600 mt-2 leading-relaxed",children:"Share your thoughts, questions, or vehicle listings with the Myymotto community"}),n.jsx("div",{className:"mt-4 p-4 bg-gradient-to-r from-red-50 to-orange-50 border border-red-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mt-2 flex-shrink-0"}),n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"text-xs font-medium text-red-800 mb-1",children:"Community Guidelines"}),n.jsx("p",{className:"text-[10px] text-red-700 leading-relaxed",children:"Please avoid posts containing illegal content or content against any Religion, Caste, Creed, Gender, or Nationality. Keep our community respectful and inclusive for all members."})]})]})})]}),n.jsx(cs,{...x,children:n.jsxs("form",{onSubmit:x.handleSubmit(k),className:"space-y-4 mt-4",children:[n.jsx(De,{control:x.control,name:"type",render:({field:_})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-sm font-semibold text-gray-700",children:"Post Type"}),n.jsxs(Ot,{onValueChange:_.onChange,defaultValue:_.value,children:[n.jsx(ke,{children:n.jsx(Dt,{className:"h-11 text-sm border-gray-300 focus:border-orange-500 focus:ring-orange-500",children:n.jsx(Lt,{placeholder:"Choose your post type"})})}),n.jsxs(It,{className:"z-50",children:[n.jsx(ie,{value:"general",children:" General Post"}),n.jsx(ie,{value:"sell",children:" Vehicle for Sale"}),n.jsx(ie,{value:"buy",children:" Looking to Buy"}),n.jsx(ie,{value:"query",children:" Community Query"})]})]}),n.jsx(_e,{className:"text-xs"})]})}),x.watch("type")==="sell"&&n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Vehicle to Sell"}),d?n.jsxs("div",{className:"bg-orange-50 rounded-lg p-3 flex items-center justify-between border border-orange-200",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-800",children:[d.make," ",d.model," ",d.year]}),n.jsx(O,{type:"button",variant:"ghost",size:"sm",onClick:()=>m(null),className:"h-8 text-xs text-orange-600 hover:text-orange-700 px-3",children:"Change"})]}):n.jsxs(O,{type:"button",variant:"outline",onClick:()=>c(!0),className:"w-full h-11 text-sm border-dashed border-2 border-gray-300 hover:border-orange-400",children:[n.jsx(_t,{className:"w-4 h-4 mr-2"}),"Select Vehicle to Sell"]})]}),x.watch("type")!=="buy"&&n.jsx(De,{control:x.control,name:"title",render:({field:_})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-sm font-semibold text-gray-700",children:"Title"}),n.jsx(ke,{children:n.jsx(de,{placeholder:x.watch("type")==="query"?"Your question or topic":"Brief title for your post",className:"h-11 text-sm border-gray-300 focus:border-orange-500 focus:ring-orange-500",..._})}),n.jsx(_e,{className:"text-xs"})]})}),n.jsx(De,{control:x.control,name:"description",render:({field:_})=>{const X=_.value?_.value.trim().split(/\s+/).filter(P=>P.length>0).length:0,C=75;return n.jsxs(Te,{children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(Ee,{className:"text-sm font-semibold text-gray-700",children:x.watch("type")==="buy"?"Vehicle Requirements":x.watch("type")==="query"?"Your Question":"Description"}),n.jsxs("span",{className:`text-xs ${X>C?"text-red-500":"text-gray-500"}`,children:[X,"/",C," words"]})]}),n.jsx(ke,{children:n.jsx(Hn,{placeholder:x.watch("type")==="buy"?"Describe what vehicle you're looking for (make, model, year, budget, etc.)":x.watch("type")==="query"?"Ask your question or describe your query to the MMian community...":"Detailed description...",className:"min-h-[80px] text-sm resize-none border-gray-300 focus:border-orange-500 focus:ring-orange-500",..._,onChange:P=>{(P.target.value.trim().split(/\s+/).filter(W=>W.length>0).length<=C||P.target.value==="")&&_.onChange(P)}})}),X>C&&n.jsx("p",{className:"text-xs text-red-500",children:"Description must be 75 words or less"}),n.jsx(_e,{className:"text-xs"})]})}}),(x.watch("type")==="buy"||x.watch("type")==="query")&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(De,{control:x.control,name:"contactPhone",render:({field:_})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-sm font-semibold text-gray-700",children:"Phone"}),n.jsx(ke,{children:n.jsx(de,{placeholder:"Phone number",className:"h-11 text-sm border-gray-300 focus:border-orange-500 focus:ring-orange-500",..._})}),n.jsx(_e,{className:"text-xs"})]})}),n.jsx(De,{control:x.control,name:"contactEmail",render:({field:_})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-sm font-semibold text-gray-700",children:"Email"}),n.jsx(ke,{children:n.jsx(de,{placeholder:"email@example.com",className:"h-11 text-sm border-gray-300 focus:border-orange-500 focus:ring-orange-500",..._})}),n.jsx(_e,{className:"text-xs"})]})})]}),x.watch("type")!=="buy"&&x.watch("type")!=="query"&&n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx(De,{control:x.control,name:"contactPhone",render:({field:_})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-[10px] font-medium",children:"Contact Phone (auto-filled)"}),n.jsx(ke,{children:n.jsx(de,{placeholder:"Phone number",className:"h-7 text-[10px]",..._})}),n.jsx(_e,{className:"text-[9px]"})]})}),n.jsx(De,{control:x.control,name:"contactEmail",render:({field:_})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-[10px] font-medium",children:"Email (optional)"}),n.jsx(ke,{children:n.jsx(de,{placeholder:"email@example.com",className:"h-7 text-[10px]",..._})}),n.jsx(_e,{className:"text-[9px]"})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[n.jsx(De,{control:x.control,name:"location",render:({field:_})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-sm font-semibold text-gray-700",children:"Location"}),n.jsx(ke,{children:n.jsx(de,{placeholder:"City",className:"h-11 text-sm border-gray-300 focus:border-orange-500 focus:ring-orange-500",..._})}),n.jsx(_e,{className:"text-xs"})]})}),x.watch("type")==="sell"&&n.jsx(De,{control:x.control,name:"price",render:({field:_})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-sm font-semibold text-gray-700",children:"Price ()"}),n.jsx(ke,{children:n.jsx(de,{type:"number",placeholder:"Amount",className:"h-11 text-sm border-gray-300 focus:border-orange-500 focus:ring-orange-500",..._,onChange:X=>_.onChange(X.target.value?parseInt(X.target.value):void 0)})}),n.jsx(_e,{className:"text-xs"})]})})]}),n.jsxs("div",{className:"flex gap-4 pt-4 border-t border-gray-200",children:[n.jsx(O,{type:"button",variant:"outline",onClick:()=>{o(!1),m(null),x.reset()},className:"flex-1 h-12 text-sm border-gray-300 hover:bg-gray-50",children:"Cancel"}),n.jsx(O,{type:"submit",disabled:w.isPending||x.watch("type")==="sell"&&!d,className:"flex-1 h-12 text-sm bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-semibold shadow-lg",children:w.isPending?"Posting...":x.watch("type")==="buy"?" Post Request":x.watch("type")==="sell"?" List Vehicle":x.watch("type")==="query"?" Ask Community":" Share Post"})]})]})})]})}),n.jsx(ln,{open:l,onOpenChange:c,children:n.jsxs(Hr,{className:"w-[96%] max-w-sm mx-auto max-h-[70vh] overflow-y-auto",children:[n.jsxs(Sn,{className:"pb-2",children:[n.jsxs(cn,{className:"text-sm flex items-center gap-2",children:[n.jsx(_t,{className:"w-3 h-3 text-orange-600"}),"Select Vehicle to Sell"]}),n.jsx(vo,{className:"text-[10px] text-gray-600",children:"Choose which vehicle you want to sell"})]}),n.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:b.length===0?n.jsxs("div",{className:"text-center py-4",children:[n.jsx(_t,{className:"w-8 h-8 text-gray-300 mx-auto mb-1"}),n.jsx("p",{className:"text-[10px] text-gray-600",children:"Add a vehicle first to sell it on broadcast."})]}):b.map(_=>n.jsx("div",{onClick:()=>j(_),className:"p-2 bg-orange-50 rounded border border-orange-100 hover:bg-orange-100 cursor-pointer transition-colors",children:n.jsxs("div",{className:"flex items-center gap-2",children:[_.thumbnailPath?n.jsx("img",{src:`/uploads/${_.thumbnailPath}`,alt:`${_.make} ${_.model}`,className:"w-8 h-8 rounded object-cover"}):n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-400 to-red-500 rounded flex items-center justify-center",children:n.jsx(_t,{className:"w-4 h-4 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("h3",{className:"font-semibold text-[10px] text-gray-800 leading-tight",children:[_.make," ",_.model]}),n.jsxs("p",{className:"text-[9px] text-gray-600 leading-tight",children:[_.year,"  ",_.licensePlate]}),n.jsxs("p",{className:"text-[9px] text-gray-500 leading-tight",children:[_.fuelType,"  ",_.vehicleType]})]})]})},_.id))})]})}),n.jsx(ln,{open:p!==null,onOpenChange:()=>f(null),children:n.jsxs(Hr,{className:"w-[90%] max-w-xs mx-auto",children:[n.jsxs(Sn,{className:"pb-2",children:[n.jsx(cn,{className:"text-sm text-red-600",children:"Delete Post"}),n.jsx(vo,{className:"text-[10px] text-gray-600",children:"Are you sure you want to delete this post? This action cannot be undone."})]}),n.jsxs("div",{className:"flex gap-2 pt-1",children:[n.jsx(O,{type:"button",variant:"outline",onClick:()=>f(null),className:"flex-1 h-7 text-[10px]",children:"Cancel"}),n.jsx(O,{type:"button",onClick:()=>{p&&(S.mutate(p),f(null))},disabled:S.isPending,className:"flex-1 h-7 text-[10px] bg-red-500 hover:bg-red-600",children:S.isPending?"Deleting...":"Delete"})]})]})})]})}function $B(){const{toast:e}=yt(),[t,r]=h.useState(""),[s,a]=h.useState(!1),[i,o]=h.useState(null);h.useEffect(()=>{l()},[]);const l=async()=>{try{const p=await(await Pe("GET","/api/admin/messages/today")).json();o(p)}catch(m){console.error("Error loading today's message:",m)}},c=async()=>{if(!t.trim()){e({title:"Error",description:"Please enter a message",variant:"destructive"});return}a(!0);try{const m=new Date().toISOString().split("T")[0];if((await Pe("POST","/api/admin/messages",{message:t.trim(),messageDate:m})).ok)e({title:"Success",description:"Daily message created successfully"}),r(""),l();else throw new Error("Failed to create message")}catch(m){console.error("Error creating message:",m),e({title:"Error",description:"Failed to create daily message",variant:"destructive"})}finally{a(!1)}},d=async m=>{if(confirm("Are you sure you want to delete this message?"))try{if((await Pe("DELETE",`/api/admin/messages/${m}`)).ok)e({title:"Success",description:"Message deleted successfully"}),l();else throw new Error("Failed to delete message")}catch(p){console.error("Error deleting message:",p),e({title:"Error",description:"Failed to delete message",variant:"destructive"})}};return n.jsx("div",{className:"space-y-4",children:n.jsxs(re,{className:"shadow-orange",children:[n.jsx(Me,{children:n.jsxs(Fe,{className:"text-lg flex items-center gap-2",children:[n.jsx(bc,{className:"w-5 h-5"}),"Daily User Messages"]})}),n.jsxs(se,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Today's Message"}),n.jsx(Hn,{value:t,onChange:m=>r(m.target.value),placeholder:"Enter a greeting message for all users today...",className:"h-20",maxLength:200}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[t.length,"/200 characters"]})]}),n.jsxs(O,{onClick:c,disabled:s||!t.trim(),className:"w-full",children:[n.jsx(xp,{className:"w-4 h-4 mr-2"}),s?"Sending...":"Send Message to All Users"]})]}),i&&n.jsx("div",{className:"border rounded-lg p-4 bg-orange-50",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-orange-800",children:"Active Message"}),n.jsx("p",{className:"text-sm text-gray-700 mt-1",children:i.message}),n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Date: ",new Date(i.messageDate).toLocaleDateString()]})]}),n.jsx(O,{onClick:()=>d(i.id),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:n.jsx(qr,{className:"w-4 h-4"})})]})}),n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsx("p",{children:" Messages are shown to all users on their dashboard"}),n.jsx("p",{children:" Only one message per day is allowed"}),n.jsx("p",{children:" Messages are automatically displayed when users open the app"})]})]})]})})}function VB(){const[,e]=Zt(),[t,r]=h.useState(null),{toast:s}=yt(),{data:a}=We({queryKey:["/api/profile/1"]}),i=a&&(a.alternatePhone==="+919880105082"||a.alternatePhone==="9880105082"),{data:o,isLoading:l}=We({queryKey:["/api/admin/stats"],enabled:!!i}),{data:c=[],isLoading:d}=We({queryKey:["/api/admin/users/recent"],enabled:!!i}),{data:m=[],isLoading:p}=We({queryKey:["/api/admin/vehicles/recent"],enabled:!!i}),{data:f=[],isLoading:x}=We({queryKey:["/api/admin/broadcasts/recent"],enabled:!!i}),{data:v=[],isLoading:y}=We({queryKey:["/api/admin/ratings/recent"],enabled:!!i}),{data:N=[],isLoading:b,refetch:g}=We({queryKey:["/api/admin/invoices"],enabled:!!i}),{data:w=[],isLoading:S}=We({queryKey:["/api/admin/accounts"],enabled:!!i}),j=async C=>{r(C);try{const P=await Pe("GET",`/api/admin/export/${C}?userId=1`);console.log(`${C} export data:`,P);const z=new Blob([JSON.stringify(P,null,2)],{type:"application/json"}),W=window.URL.createObjectURL(z),M=document.createElement("a");M.href=W,M.download=`myymotto-${C}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(M),M.click(),document.body.removeChild(M),window.URL.revokeObjectURL(W)}catch(P){console.error("Download failed:",P),alert(`Failed to download ${C} data. Please try again.`)}finally{r(null)}},k=async C=>{try{const z=await(await Pe("GET",`/api/admin/invoices/download/${C}?userId=1`)).json(),W=new Blob([JSON.stringify(z,null,2)],{type:"application/json"}),M=window.URL.createObjectURL(W),$=document.createElement("a");$.href=M,$.download=`invoice-${z.invoiceNumber||C}.json`,document.body.appendChild($),$.click(),window.URL.revokeObjectURL(M),document.body.removeChild($)}catch(P){console.error("Error downloading invoice:",P)}},R=async(C,P="Admin action")=>{try{(await(await Pe("POST",`/api/admin/users/${C}/block`,{userId:1,reason:P})).json()).success&&(s({title:"User Blocked",description:"User has been successfully blocked."}),await va.invalidateQueries({queryKey:["/api/admin/users/recent"]}))}catch(z){console.error("Error blocking user:",z),s({title:"Error",description:"Failed to block user. Please try again.",variant:"destructive"})}},F=async C=>{try{(await(await Pe("POST",`/api/admin/users/${C}/unblock`,{userId:1})).json()).success&&(s({title:"User Unblocked",description:"User has been successfully unblocked."}),await va.invalidateQueries({queryKey:["/api/admin/users/recent"]}))}catch(P){console.error("Error unblocking user:",P),s({title:"Error",description:"Failed to unblock user. Please try again.",variant:"destructive"})}},B=async C=>{try{(await(await Pe("DELETE",`/api/admin/users/${C}`,{userId:1})).json()).success&&(s({title:"User Deleted",description:"User and all associated data has been permanently deleted."}),await va.invalidateQueries({queryKey:["/api/admin/users/recent"]}),await va.invalidateQueries({queryKey:["/api/admin/stats"]}))}catch(P){console.error("Error deleting user:",P),s({title:"Error",description:"Failed to delete user. Please try again.",variant:"destructive"})}},_=async C=>{if(confirm("Are you sure you want to delete this post?"))try{(await Pe("DELETE",`/api/admin/broadcasts/${C}`,{})).ok&&window.location.reload()}catch(P){console.error("Error deleting post:",P)}},X=C=>new Date(C).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});return a&&!i?n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-red-50 to-white flex items-center justify-center",children:n.jsxs(re,{className:"w-96 p-6 text-center",children:[n.jsx(Xt,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:"Access Denied"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have admin privileges to access this page."}),n.jsx(O,{onClick:()=>e("/"),variant:"outline",children:"Return to Dashboard"})]})}):l?n.jsx("div",{className:"h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-orange-50 to-white",children:[n.jsx("header",{className:"header-gradient-border shadow-lg relative z-10",children:n.jsx("div",{className:"px-3 py-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>e("/"),className:"text-gray-600 hover:text-gray-800 hover:bg-red-50 p-1 rounded-full mr-1",children:n.jsx(Pt,{className:"w-4 h-4"})}),n.jsx("img",{src:bt,alt:"MyyMotto Logo",className:"w-12 h-12 rounded-lg"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-base font-bold",children:n.jsx(dt,{})}),n.jsx("p",{className:"text-sm text-red-600",children:"Admin Dashboard"})]})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(ct,{variant:"secondary",className:"bg-orange-100 text-orange-800",children:[n.jsx(Xt,{className:"w-3 h-3 mr-1"}),"Admin"]})})]})})}),n.jsxs("div",{className:"container mx-auto px-4 py-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[n.jsx(re,{className:"shadow-orange",children:n.jsx(se,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600",children:"Total Users"}),n.jsx("p",{className:"text-lg font-bold text-blue-600",children:(o==null?void 0:o.totalUsers)||0})]}),n.jsx(hs,{className:"w-6 h-6 text-blue-500"})]})})}),n.jsx(re,{className:"shadow-orange",children:n.jsx(se,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600",children:"Total Vehicles"}),n.jsx("p",{className:"text-lg font-bold text-green-600",children:(o==null?void 0:o.totalVehicles)||0})]}),n.jsx(_t,{className:"w-6 h-6 text-green-500"})]})})}),n.jsx(re,{className:"shadow-orange",children:n.jsx(se,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600",children:"Revenue"}),n.jsxs("p",{className:"text-lg font-bold text-yellow-600",children:["",(o==null?void 0:o.subscriptionRevenue)||0]})]}),n.jsx(Rn,{className:"w-6 h-6 text-yellow-500"})]})})}),n.jsx(re,{className:"shadow-orange",children:n.jsx(se,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600",children:"Broadcasts"}),n.jsx("p",{className:"text-lg font-bold text-purple-600",children:(o==null?void 0:o.totalBroadcasts)||0})]}),n.jsx(Tt,{className:"w-6 h-6 text-purple-500"})]})})})]}),n.jsxs(re,{className:"shadow-orange mb-6",children:[n.jsx(Me,{children:n.jsxs(Fe,{className:"text-lg flex items-center gap-2",children:[n.jsx(Si,{className:"w-5 h-5"}),"Data Export"]})}),n.jsx(se,{children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[n.jsxs(O,{onClick:()=>j("users"),disabled:t==="users",variant:"outline",className:"h-12",children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),t==="users"?"...":"Users"]}),n.jsxs(O,{onClick:()=>j("vehicles"),disabled:t==="vehicles",variant:"outline",className:"h-12",children:[n.jsx(_t,{className:"w-4 h-4 mr-2"}),t==="vehicles"?"...":"Vehicles"]}),n.jsxs(O,{onClick:()=>j("broadcasts"),disabled:t==="broadcasts",variant:"outline",className:"h-12",children:[n.jsx(Tt,{className:"w-4 h-4 mr-2"}),t==="broadcasts"?"...":"Broadcasts"]}),n.jsxs(O,{onClick:()=>j("ratings"),disabled:t==="ratings",variant:"outline",className:"h-12",children:[n.jsx(po,{className:"w-4 h-4 mr-2"}),t==="ratings"?"...":"Ratings"]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[n.jsxs(re,{className:"shadow-orange",children:[n.jsx(Me,{children:n.jsxs(Fe,{className:"text-lg flex items-center",children:[n.jsx(po,{className:"w-5 h-5 mr-2 text-blue-600"}),"User Activity Analytics"]})}),n.jsx(se,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Active Users"}),n.jsx("span",{className:"font-semibold",children:(o==null?void 0:o.activeUsers)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Daily Active Users"}),n.jsx("span",{className:"font-semibold",children:(o==null?void 0:o.dailyActiveUsers)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Monthly Active Users"}),n.jsx("span",{className:"font-semibold",children:(o==null?void 0:o.monthlyActiveUsers)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"New Users This Month"}),n.jsx("span",{className:"font-semibold",children:(o==null?void 0:o.newUsersThisMonth)||0})]})]})})]}),n.jsxs(re,{className:"shadow-orange",children:[n.jsx(Me,{children:n.jsxs(Fe,{className:"text-lg flex items-center",children:[n.jsx(hs,{className:"w-5 h-5 mr-2 text-pink-600"}),"Gender Demographics"]})}),n.jsx(se,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Male Users"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"font-semibold mr-2",children:(o==null?void 0:o.maleUsers)||0}),n.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded",children:n.jsx("div",{className:"h-2 bg-blue-500 rounded",style:{width:`${((o==null?void 0:o.maleUsers)||0)/((o==null?void 0:o.totalUsers)||1)*100}%`}})})]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Female Users"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"font-semibold mr-2",children:(o==null?void 0:o.femaleUsers)||0}),n.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded",children:n.jsx("div",{className:"h-2 bg-pink-500 rounded",style:{width:`${((o==null?void 0:o.femaleUsers)||0)/((o==null?void 0:o.totalUsers)||1)*100}%`}})})]})]}),n.jsxs("div",{className:"pt-2 text-xs text-gray-500",children:["Total: ",((o==null?void 0:o.maleUsers)||0)+((o==null?void 0:o.femaleUsers)||0)," users with gender data"]})]})})]})]}),n.jsxs(re,{className:"shadow-orange mb-6",children:[n.jsx(Me,{children:n.jsxs(Fe,{className:"text-lg flex items-center",children:[n.jsx(_t,{className:"w-5 h-5 mr-2 text-green-600"}),"Vehicle Type Distribution"]})}),n.jsx(se,{children:n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(o==null?void 0:o.twoWheelers)||0}),n.jsx("div",{className:"text-sm text-gray-600",children:"2-Wheelers"}),n.jsxs("div",{className:"text-xs text-gray-500",children:[(((o==null?void 0:o.twoWheelers)||0)/((o==null?void 0:o.totalVehicles)||1)*100).toFixed(1),"%"]})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600",children:(o==null?void 0:o.threeWheelers)||0}),n.jsx("div",{className:"text-sm text-gray-600",children:"3-Wheelers"}),n.jsxs("div",{className:"text-xs text-gray-500",children:[(((o==null?void 0:o.threeWheelers)||0)/((o==null?void 0:o.totalVehicles)||1)*100).toFixed(1),"%"]})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:(o==null?void 0:o.fourWheelers)||0}),n.jsx("div",{className:"text-sm text-gray-600",children:"4-Wheelers"}),n.jsxs("div",{className:"text-xs text-gray-500",children:[(((o==null?void 0:o.fourWheelers)||0)/((o==null?void 0:o.totalVehicles)||1)*100).toFixed(1),"%"]})]})]})})]}),n.jsxs(re,{className:"shadow-orange mb-6",children:[n.jsx(Me,{children:n.jsxs(Fe,{className:"text-lg flex items-center",children:[n.jsx(Fy,{className:"w-5 h-5 mr-2 text-purple-600"}),"Users by State"]})}),n.jsx(se,{children:n.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[(o==null?void 0:o.usersByState)&&Object.entries(o.usersByState).sort(([,C],[,P])=>P-C).map(([C,P])=>n.jsxs("div",{className:"flex justify-between items-center py-1",children:[n.jsx("span",{className:"text-sm text-gray-600",children:C}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"font-semibold mr-2",children:P}),n.jsx("div",{className:"w-20 h-2 bg-gray-200 rounded",children:n.jsx("div",{className:"h-2 bg-purple-500 rounded",style:{width:`${P/((o==null?void 0:o.totalUsers)||1)*100}%`}})})]})]},C)),(!(o!=null&&o.usersByState)||Object.keys(o.usersByState).length===0)&&n.jsx("div",{className:"text-sm text-gray-500 text-center py-4",children:"No state data available"})]})})]}),n.jsxs(AD,{defaultValue:"users",className:"w-full",children:[n.jsxs(Kx,{className:"grid w-full grid-cols-6",children:[n.jsx(Es,{value:"users",children:"Users"}),n.jsx(Es,{value:"vehicles",children:"Vehicles"}),n.jsx(Es,{value:"broadcasts",children:"Posts"}),n.jsx(Es,{value:"ratings",children:"Ratings"}),n.jsx(Es,{value:"invoices",children:"Invoices"}),n.jsx(Es,{value:"messages",children:"Messages"})]}),n.jsx(_s,{value:"users",className:"space-y-4",children:n.jsxs(re,{className:"shadow-orange",children:[n.jsx(Me,{children:n.jsx(Fe,{className:"text-lg",children:"Users"})}),n.jsx(se,{children:d?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx("div",{className:"animate-spin w-6 h-6 border-4 border-primary border-t-transparent rounded-full"})}):n.jsx("div",{className:"space-y-3",children:c.map(C=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium",children:C.name||C.username}),C.isBlocked&&n.jsxs(ct,{variant:"destructive",className:"text-xs",children:[n.jsx(Xt,{className:"w-3 h-3 mr-1"}),"Blocked"]})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Phone: ",C.mobile||"No mobile"]}),(C.profileEmail||C.email)&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Email: ",C.profileEmail||C.email]})]}),n.jsxs("div",{className:"text-right flex flex-col items-end gap-1",children:[n.jsx(ct,{variant:C.subscriptionStatus==="paid"?"default":"secondary",children:C.subscriptionStatus}),n.jsx("p",{className:"text-xs text-gray-500",children:X(C.createdAt)}),n.jsxs("div",{className:"flex gap-1",children:[C.isBlocked?n.jsxs(rc,{children:[n.jsx(Zh,{asChild:!0,children:n.jsxs(O,{size:"sm",variant:"outline",className:"h-6 text-xs px-2 text-green-600 border-green-300 hover:bg-green-50",children:[n.jsx(GM,{className:"w-3 h-3 mr-1"}),"Unblock"]})}),n.jsxs(So,{className:"w-[90%] max-w-md",children:[n.jsxs(Co,{children:[n.jsx(Po,{children:"Unblock User"}),n.jsxs(To,{children:['Are you sure you want to unblock user "',C.name||C.username,'" (',C.mobile,")? This will restore their access to the app."]})]}),n.jsxs(ko,{children:[n.jsx(_o,{children:"Cancel"}),n.jsx(Eo,{onClick:()=>F(C.id),className:"bg-green-600 hover:bg-green-700",children:"Unblock User"})]})]})]}):n.jsxs(rc,{children:[n.jsx(Zh,{asChild:!0,children:n.jsxs(O,{size:"sm",variant:"outline",className:"h-6 text-xs px-2 text-red-600 border-red-300 hover:bg-red-50",children:[n.jsx(Xt,{className:"w-3 h-3 mr-1"}),"Block"]})}),n.jsxs(So,{className:"w-[90%] max-w-md",children:[n.jsxs(Co,{children:[n.jsx(Po,{children:"Block User"}),n.jsxs(To,{children:['Are you sure you want to block user "',C.name||C.username,'" (',C.mobile,")? This will prevent them from accessing the app."]})]}),n.jsxs(ko,{children:[n.jsx(_o,{children:"Cancel"}),n.jsx(Eo,{onClick:()=>R(C.id),className:"bg-red-600 hover:bg-red-700",children:"Block User"})]})]})]}),n.jsxs(rc,{children:[n.jsx(Zh,{asChild:!0,children:n.jsxs(O,{size:"sm",variant:"outline",className:"h-6 text-xs px-2 text-red-700 border-red-400 hover:bg-red-100",children:[n.jsx(qr,{className:"w-3 h-3 mr-1"}),"Delete"]})}),n.jsxs(So,{className:"w-[90%] max-w-md",children:[n.jsxs(Co,{children:[n.jsx(Po,{className:"text-red-600",children:" Delete User"}),n.jsx(To,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"font-medium",children:"This action cannot be undone!"}),n.jsxs("p",{children:['You are about to permanently delete user "',C.name||C.username,'" (',C.mobile,") and ALL their data including:"]}),n.jsxs("ul",{className:"list-disc list-inside text-sm space-y-1 text-gray-600",children:[n.jsx("li",{children:"User profile and account information"}),n.jsx("li",{children:"All vehicles and vehicle data"}),n.jsx("li",{children:"All documents and document metadata"}),n.jsx("li",{children:"All service logs and maintenance records"}),n.jsx("li",{children:"All notifications and alerts"}),n.jsx("li",{children:"All broadcast posts and ratings"})]})]})})]}),n.jsxs(ko,{children:[n.jsx(_o,{children:"Cancel"}),n.jsx(Eo,{onClick:()=>B(C.id),className:"bg-red-700 hover:bg-red-800",children:"Permanently Delete User"})]})]})]})]})]})]},C.id))})})]})}),n.jsx(_s,{value:"vehicles",className:"space-y-4",children:n.jsxs(re,{className:"shadow-orange",children:[n.jsx(Me,{children:n.jsx(Fe,{className:"text-lg",children:"Vehicles"})}),n.jsx(se,{children:p?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx("div",{className:"animate-spin w-6 h-6 border-4 border-primary border-t-transparent rounded-full"})}):n.jsx("div",{className:"space-y-3",children:m.map(C=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium",children:[C.make," ",C.model]}),n.jsx("p",{className:"text-sm text-gray-600",children:C.licensePlate})]}),n.jsxs("div",{className:"text-right",children:[n.jsx(ct,{variant:"outline",children:C.vehicleType||"Unknown"}),n.jsx("p",{className:"text-xs text-gray-500",children:X(C.createdAt)})]})]},C.id))})})]})}),n.jsx(_s,{value:"broadcasts",className:"space-y-4",children:n.jsxs(re,{className:"shadow-orange",children:[n.jsx(Me,{children:n.jsx(Fe,{className:"text-lg",children:"Broadcast Posts"})}),n.jsx(se,{children:x?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx("div",{className:"animate-spin w-6 h-6 border-4 border-primary border-t-transparent rounded-full"})}):n.jsx("div",{className:"space-y-3",children:f.map(C=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:C.title}),n.jsx("p",{className:"text-sm text-gray-600 truncate",children:C.description})]}),n.jsxs("div",{className:"text-right flex flex-col items-end gap-1",children:[n.jsx(ct,{variant:"outline",children:C.type}),n.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[n.jsx(ms,{className:"w-3 h-3"}),C.viewCount||0]}),n.jsxs(O,{onClick:()=>_(C.id),size:"sm",variant:"outline",className:"h-6 text-xs px-2 text-red-600 border-red-300 hover:bg-red-50",children:[n.jsx(Tt,{className:"w-3 h-3 mr-1"}),"Delete"]})]})]},C.id))})})]})}),n.jsx(_s,{value:"ratings",className:"space-y-4",children:n.jsxs(re,{className:"shadow-orange",children:[n.jsx(Me,{children:n.jsxs(Fe,{className:"text-lg flex items-center justify-between",children:[n.jsx("span",{children:"Ratings"}),n.jsxs("div",{className:"text-sm font-normal text-gray-600",children:["Average: ",v.length>0?n.jsxs("span",{className:"font-semibold text-orange-600",children:[(v.reduce((C,P)=>C+P.rating,0)/v.length).toFixed(1),"/5"]}):n.jsx("span",{className:"text-gray-400",children:"No ratings"})]})]})}),n.jsx(se,{children:y?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx("div",{className:"animate-spin w-6 h-6 border-4 border-primary border-t-transparent rounded-full"})}):n.jsx("div",{className:"space-y-3",children:v.map(C=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:C.userName}),n.jsx("p",{className:"text-sm text-gray-600",children:C.feedback||"No feedback"})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"flex text-yellow-500",children:["".repeat(C.rating),"".repeat(5-C.rating)]}),n.jsx("p",{className:"text-xs text-gray-500",children:X(C.createdAt)})]})]},C.id))})})]})}),n.jsxs(_s,{value:"invoices",className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(re,{className:"shadow-orange",children:[n.jsx(Me,{children:n.jsxs(Fe,{className:"text-lg flex items-center gap-2",children:[n.jsx(Tt,{className:"w-5 h-5 text-blue-600"}),"Invoice Management"]})}),n.jsx(se,{children:b?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx("div",{className:"animate-spin w-6 h-6 border-4 border-primary border-t-transparent rounded-full"})}):n.jsxs("div",{className:"space-y-3",children:[N.length===0?n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No invoices found"}):N.slice(0,5).map(C=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium",children:["#",C.invoiceNumber]}),n.jsx("p",{className:"text-sm text-gray-600",children:C.customerName}),n.jsxs("p",{className:"text-xs text-gray-500",children:["",(C.totalAmount||0).toLocaleString("en-IN")]})]}),n.jsxs("div",{className:"text-right flex flex-col items-end gap-1",children:[n.jsx(ct,{variant:C.invoiceStatus==="paid"?"default":"outline",children:C.invoiceStatus}),n.jsx("p",{className:"text-xs text-gray-500",children:C.invoiceDate?new Date(C.invoiceDate).toLocaleDateString():"No date"}),n.jsxs(O,{onClick:()=>k(C.id),size:"sm",variant:"outline",className:"h-6 text-xs px-2",children:[n.jsx(Si,{className:"w-3 h-3 mr-1"}),"Download"]})]})]},C.id)),N.length>5&&n.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["Showing 5 of ",N.length," invoices"]})]})})]}),n.jsxs(re,{className:"shadow-orange",children:[n.jsx(Me,{children:n.jsxs(Fe,{className:"text-lg flex items-center gap-2",children:[n.jsx(Fy,{className:"w-5 h-5 text-green-600"}),"Account Information"]})}),n.jsx(se,{children:S?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx("div",{className:"animate-spin w-6 h-6 border-4 border-primary border-t-transparent rounded-full"})}):n.jsxs("div",{className:"space-y-3",children:[w.length===0?n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No account information found"}):w.slice(0,5).map(C=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:C.customerName}),n.jsx("p",{className:"text-sm text-gray-600",children:C.customerPhone}),n.jsx("p",{className:"text-xs text-gray-500",children:C.customerEmail})]}),n.jsxs("div",{className:"text-right",children:[n.jsx(ct,{variant:C.subscriptionStatus==="active"?"default":"outline",children:C.subscriptionStatus||"inactive"}),n.jsx("p",{className:"text-xs text-gray-500",children:C.accountCreatedDate?new Date(C.accountCreatedDate).toLocaleDateString():"No date"})]})]},C.id)),w.length>5&&n.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["Showing 5 of ",w.length," accounts"]})]})})]})]}),n.jsxs(re,{className:"shadow-orange",children:[n.jsx(Me,{children:n.jsxs(Fe,{className:"text-lg flex items-center gap-2",children:[n.jsx(po,{className:"w-5 h-5 text-purple-600"}),"Subscription Analytics"]})}),n.jsx(se,{children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:N.length}),n.jsx("p",{className:"text-xs text-gray-600",children:"Total Invoices"})]}),n.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[n.jsx("p",{className:"text-2xl font-bold text-green-600",children:N.filter(C=>C.invoiceStatus==="paid").length}),n.jsx("p",{className:"text-xs text-gray-600",children:"Paid Invoices"})]}),n.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[n.jsx("p",{className:"text-2xl font-bold text-orange-600",children:N.filter(C=>C.invoiceStatus==="pending").length}),n.jsx("p",{className:"text-xs text-gray-600",children:"Pending Payments"})]}),n.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[n.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["",N.reduce((C,P)=>C+(P.totalAmount||0),0).toLocaleString("en-IN")]}),n.jsx("p",{className:"text-xs text-gray-600",children:"Total Revenue"})]})]})})]})]}),n.jsx(_s,{value:"messages",className:"space-y-4",children:n.jsx($B,{})})]})]})]})}var zB="Separator",ew="horizontal",UB=["horizontal","vertical"],YD=h.forwardRef((e,t)=>{const{decorative:r,orientation:s=ew,...a}=e,i=BB(s)?s:ew,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(Ve.div,{"data-orientation":i,...l,...a,ref:t})});YD.displayName=zB;function BB(e){return UB.includes(e)}var GD=YD;const Xp=h.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...s},a)=>n.jsx(GD,{ref:a,decorative:r,orientation:t,className:Se("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));Xp.displayName=GD.displayName;const qB=()=>n.jsxs("span",{className:"font-bold",children:[n.jsx("span",{className:"text-red-600",children:"My"}),n.jsx("span",{className:"text-blue-600",children:"y"}),n.jsx("span",{className:"text-green-600",children:"mo"}),n.jsx("span",{className:"text-orange-600",children:"t"}),n.jsx("span",{className:"text-purple-600",children:"to"})]});function YB(){var f;const[,e]=Zt(),{toast:t}=yt(),{data:r,isLoading:s}=We({queryKey:["/api/account-info"],retry:!1}),a=rt({mutationFn:async()=>await Pe("POST","/api/subscription/renew"),onSuccess:()=>{va.invalidateQueries({queryKey:["/api/account-info"]}),t({title:"Subscription Renewed",description:"Your subscription has been successfully renewed for another year."})},onError:x=>{t({title:"Renewal Failed",description:x.message||"Failed to renew subscription",variant:"destructive"})}}),i=rt({mutationFn:async()=>await Pe("POST","/api/subscription/test-notification",{userId:"1",daysUntilExpiry:30}),onSuccess:()=>{t({title:"Test Notification Sent",description:"Check your device for the subscription reminder notification!"})},onError:x=>{t({title:"Test Failed",description:x.message||"Failed to send test notification.",variant:"destructive"})}}),o=async(x,v)=>{try{const y=await fetch(`/api/invoice/download/${x}`);if(y.ok){const N=await y.blob(),b=URL.createObjectURL(N),g=document.createElement("a");g.href=b,g.download=`invoice-${x}.pdf`,g.click(),URL.revokeObjectURL(b)}else throw new Error("Failed to download invoice")}catch{t({title:"Download Failed",description:"Unable to download invoice. Please try again.",variant:"destructive"})}},l=x=>`${(x/100).toLocaleString("en-IN")}`,c=x=>new Date(x).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),d=()=>r!=null&&r.subscription?r.isSubscriptionExpired?{status:"Expired",color:"bg-red-500",textColor:"text-red-600",icon:My}:r.daysUntilExpiry<=7?{status:"Expiring Soon",color:"bg-orange-500",textColor:"text-orange-600",icon:fr}:{status:"Active",color:"bg-green-500",textColor:"text-green-600",icon:Pn}:{status:"No Subscription",color:"bg-gray-500",textColor:"text-gray-600",icon:My};if(s)return n.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx($l,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4 animate-pulse"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading account information..."})]})});const m=d(),p=m.icon;return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"header-gradient-border sticky top-0 z-10 bg-white px-3 py-3",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(O,{variant:"ghost",size:"sm",onClick:()=>e("/"),className:"text-gray-600 hover:bg-red-50 p-1",children:n.jsx(Pt,{className:"w-4 h-4"})}),n.jsx("img",{src:t0,alt:"Myymotto Logo",className:"w-12 h-12 rounded-lg"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-base font-bold",children:n.jsx(qB,{})}),n.jsx("p",{className:"text-xs text-red-600",children:"Account Management"})]})]})})}),n.jsxs("div",{className:"p-3 pb-20 bg-warm-pattern space-y-3",children:[n.jsxs(re,{className:"shadow-orange border-l-4 border-l-blue-500",children:[n.jsx(Me,{className:"pb-2",children:n.jsxs(Fe,{className:"text-base flex items-center gap-2",children:[n.jsx($l,{className:"w-4 h-4 text-blue-600"}),"Account Overview"]})}),n.jsxs(se,{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Account Created"}),n.jsx("span",{className:"text-sm font-medium",children:r!=null&&r.accountCreatedDate?c(r.accountCreatedDate):"N/A"})]}),n.jsx(Xp,{}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Subscription Status"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(p,{className:`w-4 h-4 ${m.textColor}`}),n.jsx(ct,{className:`${m.color} text-white text-xs`,children:m.status})]})]})]})]}),(r==null?void 0:r.subscription)&&n.jsxs(re,{className:"shadow-orange border-l-4 border-l-green-500",children:[n.jsx(Me,{className:"pb-2",children:n.jsxs(Fe,{className:"text-base flex items-center gap-2",children:[n.jsx(Ft,{className:"w-4 h-4 text-green-600"}),"Current Subscription"]})}),n.jsxs(se,{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Started"}),n.jsx("p",{className:"font-medium",children:c(r.subscription.subscriptionDate)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Expires"}),n.jsx("p",{className:"font-medium",children:c(r.subscription.expiryDate)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Type"}),n.jsx("p",{className:"font-medium capitalize",children:r.subscription.subscriptionType})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Amount"}),n.jsxs("p",{className:"font-medium",children:[l(r.subscription.amount),"/year"]})]})]}),(r.isSubscriptionExpired||r.daysUntilExpiry<=30)&&n.jsxs(n.Fragment,{children:[n.jsx(Xp,{}),n.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(fr,{className:"w-4 h-4 text-orange-600"}),n.jsx("span",{className:"text-sm font-medium text-orange-800",children:r.isSubscriptionExpired?"Subscription Expired":"Expiring Soon"})]}),n.jsx("p",{className:"text-xs text-orange-700 mb-3",children:r.isSubscriptionExpired?"Your subscription has expired. Renew now to continue using premium features.":`Your subscription expires in ${r.daysUntilExpiry} days. Renew now to avoid service interruption.`}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(O,{onClick:()=>a.mutate(),disabled:a.isPending,className:"w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white h-8 text-sm",children:a.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Bs,{className:"w-3 h-3 mr-2 animate-spin"}),"Renewing..."]}):"Renew Subscription"}),n.jsx(O,{onClick:()=>i.mutate(),disabled:i.isPending,variant:"outline",className:"w-full h-8 text-sm border-orange-300 text-orange-600 hover:bg-orange-50",children:i.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Bs,{className:"w-3 h-3 mr-2 animate-spin"}),"Sending..."]}):n.jsxs(n.Fragment,{children:[n.jsx(jr,{className:"w-3 h-3 mr-2"}),"Test Push Notification"]})})]})]})]})]})]}),n.jsxs(re,{className:"shadow-orange border-l-4 border-l-purple-500",children:[n.jsx(Me,{className:"pb-2",children:n.jsxs(Fe,{className:"text-base flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($l,{className:"w-4 h-4 text-purple-600"}),"Payment History"]}),n.jsxs(ct,{variant:"secondary",className:"text-xs",children:[((f=r==null?void 0:r.paymentHistory)==null?void 0:f.length)||0," transactions"]})]})}),n.jsx(se,{children:r!=null&&r.paymentHistory&&r.paymentHistory.length>0?n.jsx("div",{className:"space-y-2",children:r.paymentHistory.map(x=>n.jsx("div",{className:"border rounded-lg p-3 space-y-2",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"text-sm font-medium",children:l(x.amount)}),n.jsx(ct,{className:`text-xs ${x.paymentStatus==="success"?"bg-green-100 text-green-800":x.paymentStatus==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:x.paymentStatus})]}),n.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[n.jsxs("p",{children:["Date: ",c(x.paymentDate)]}),n.jsxs("p",{children:["Transaction ID: ",x.transactionId||x.razorpayPaymentId]}),x.paymentMethod&&n.jsxs("p",{children:["Method: ",x.paymentMethod.toUpperCase()]})]})]}),x.invoiceGenerated&&x.invoicePath&&n.jsxs(O,{variant:"outline",size:"sm",onClick:()=>o(x.id.toString(),x.invoicePath),className:"h-8 text-xs",children:[n.jsx(Si,{className:"w-3 h-3 mr-1"}),"Invoice"]})]})},x.id))}):n.jsxs("div",{className:"text-center py-4",children:[n.jsx($l,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:"No payment history found"})]})})]}),!(r!=null&&r.subscription)&&n.jsx(re,{className:"shadow-orange border-l-4 border-l-orange-500",children:n.jsxs(se,{className:"text-center py-6",children:[n.jsx(Ft,{className:"w-12 h-12 text-orange-500 mx-auto mb-3"}),n.jsx("h3",{className:"text-base font-semibold mb-2",children:"Start Your Premium Journey"}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Get unlimited vehicle management with premium features for just 100/year"}),n.jsx(O,{onClick:()=>a.mutate(),disabled:a.isPending,className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white h-8 text-sm",children:"Subscribe Now"})]})})]})]})}function GB(){const[e,t]=h.useState(null),[r,s]=h.useState("service"),[a,i]=h.useState("idle"),{toast:o}=yt(),l=v=>{const b=`https://www.google.com/maps/search/${{service:"automobile service centers near me",petrol:"petrol pumps near me",hospital:"hospitals near me",police:"police stations near me"}[v].replace(/\s+/g,"+")}`;window.location.href=b},c=()=>{if(!navigator.geolocation){o({title:"Location Not Supported",description:"Your browser doesn't support location services",variant:"destructive"});return}console.log("Starting location detection..."),navigator.geolocation.getCurrentPosition(v=>{const{latitude:y,longitude:N,accuracy:b}=v.coords;console.log(`Location detected: ${y}, ${N} (accuracy: ${b}m)`),t({lat:y,lng:N}),i("success")},v=>{console.error("Location error:",v),i("error");let y="Failed to get your location.";switch(v.code){case v.PERMISSION_DENIED:y="Location access denied. You can still search on Google Maps.";break;case v.POSITION_UNAVAILABLE:y="Location information unavailable. Please check your device's location settings.";break;case v.TIMEOUT:y="Location request timed out. Please try again.";break}o({title:"Location Error",description:y,variant:"destructive"})},{enableHighAccuracy:!0,timeout:2e4,maximumAge:0})};h.useEffect(()=>(t(null),i("loading"),s("service"),c(),()=>{t(null),i("idle")}),[]);const d=v=>{s(v)},m=()=>{switch(a){case"success":return"text-green-600";case"error":return"text-red-600";case"loading":return"text-orange-600";default:return"text-gray-600"}},p=()=>{switch(a){case"success":return"Location Active";case"error":return"Location Needed";case"loading":return"Getting Location...";default:return"Location Required"}},f=v=>{switch(v){case"service":return n.jsx(fs,{className:"w-5 h-5"});case"petrol":return n.jsx(mp,{className:"w-5 h-5"});case"hospital":return n.jsx(lC,{className:"w-5 h-5"});case"police":return n.jsx(Xt,{className:"w-5 h-5"});default:return n.jsx(Ta,{className:"w-5 h-5"})}},x=v=>{switch(v){case"service":return"Service Centers";case"petrol":return"Petrol Bunks";case"hospital":return"Hospitals";case"police":return"Police Stations";default:return"Services"}};return n.jsxs(n.Fragment,{children:[n.jsx("header",{className:"header-gradient-border shadow-lg relative z-10",children:n.jsx("div",{className:"px-3 py-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Be,{href:"/",children:n.jsx(O,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-red-50 p-1",children:n.jsx(Pt,{className:"w-4 h-4"})})}),n.jsx("img",{src:bt,alt:"Myymotto Logo",className:"w-12 h-12 rounded-lg"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-base font-bold",children:n.jsx(dt,{})}),n.jsx("p",{className:"text-xs text-red-600",children:"Services Near You"})]})]}),n.jsx("div",{className:"flex items-center space-x-1",children:n.jsxs("div",{className:`flex items-center space-x-1 ${m()}`,children:[n.jsx(Ta,{className:"w-3 h-3"}),n.jsx("span",{className:"text-xs font-medium",children:p()})]})})]})})}),n.jsx("main",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 pb-20",children:n.jsxs("div",{className:"px-3 py-4 space-y-4",children:[n.jsx(re,{className:"border border-orange-200 bg-white/90 backdrop-blur-sm",children:n.jsxs(se,{className:"p-4",children:[n.jsx("h2",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Select Service Type"}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:["service","petrol","hospital","police"].map(v=>n.jsxs("button",{onClick:()=>d(v),className:`flex flex-col items-center p-3 rounded-lg border-2 transition-all ${r===v?"border-orange-500 bg-orange-50 text-orange-700":"border-gray-200 bg-white text-gray-600 hover:border-orange-200 hover:bg-orange-50"}`,children:[f(v),n.jsx("span",{className:"text-xs font-medium mt-1",children:x(v)})]},v))})]})}),n.jsx(re,{className:"border border-orange-200 bg-white/90 backdrop-blur-sm",children:n.jsx(se,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col items-center justify-center space-y-6",children:[n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx(Ta,{className:"w-16 h-16 text-orange-500 mx-auto"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Find Nearby Services"}),n.jsxs("p",{className:"text-gray-600 text-sm max-w-md mx-auto",children:["Click the button below to search for ",x(r).toLowerCase()," near your location on Google Maps"]})]}),n.jsxs(O,{onClick:()=>l(r),size:"lg",className:"w-full max-w-md h-12 bg-orange-500 hover:bg-orange-600 text-white font-medium",children:[n.jsx(zM,{className:"w-5 h-5 mr-3"}),"Search on Google Maps"]}),n.jsxs("div",{className:"text-center text-xs text-gray-500 max-w-sm space-y-1",children:[n.jsx("div",{children:a==="success"?"Location detected - Maps will show results near you":a==="loading"?"Detecting your location for better results...":"Enable location for better search results"}),n.jsx("div",{className:"text-gray-400",children:"Use your browser's back button to return here after searching"})]})]})})})]})})]})}var tw;(function(e){e[e.Sunday=1]="Sunday",e[e.Monday=2]="Monday",e[e.Tuesday=3]="Tuesday",e[e.Wednesday=4]="Wednesday",e[e.Thursday=5]="Thursday",e[e.Friday=6]="Friday",e[e.Saturday=7]="Saturday"})(tw||(tw={}));const pn=ed("LocalNotifications",{web:()=>nk(()=>import("./web-CaxyYjIs.js"),[]).then(e=>new e.LocalNotificationsWeb)});function WB(){Zt();const{toast:e}=yt(),t=Jt(),[r,s]=h.useState(!1);h.useState(null);const[a,i]=h.useState(null),o=localStorage.getItem("currentUserId")||localStorage.getItem("userId")||"1";h.useEffect(()=>{kr.isNativePlatform()&&l()},[]);const l=async()=>{try{console.log(" INITIALIZING MOBILE NOTIFICATION SYSTEM...");const j=await c(),k=await pn.createChannel({id:"myyMotto-alarms",name:"MyyMotto Vehicle Alarms",description:"Critical vehicle reminders and alerts that require immediate attention",sound:"default",importance:5,visibility:1,lights:!0,lightColor:"#FF6600",vibration:!0,enableVibration:!0,enableLights:!0,lockScreenVisibility:1,bypassDnd:!0});if(console.log(" MyyMotto notification channel created:",k),kr.getPlatform()==="android")try{console.log(" Android platform detected - ensuring exact alarm permissions")}catch{console.log(" Exact alarm permission may be required for Android 12+")}await pn.addListener("localNotificationReceived",R=>{console.log(" NOTIFICATION RECEIVED:",R)}),await pn.addListener("localNotificationActionPerformed",R=>{console.log(" NOTIFICATION ACTION PERFORMED:",R)}),console.log(" Mobile notification system initialized successfully")}catch(j){console.error(" Error initializing notifications:",j)}},c=async()=>{try{console.log(" Checking notification permissions...");const j=await pn.checkPermissions();if(console.log(" Current permissions:",j),i(j),j.display!=="granted"){console.log(" Requesting notification permissions...");const k=await pn.requestPermissions();console.log(" Permission request result:",k),i(k),k.display==="granted"?console.log(" Notification permissions granted successfully"):console.log(" Notification permissions denied - alarms will not work")}else console.log(" Notification permissions already granted");return j}catch(j){return console.error(" Error checking notification permissions:",j),null}},d=async j=>{try{if("Notification"in window){let k=Notification.permission;if(k==="default"&&(k=await Notification.requestPermission()),k==="granted"){let R;if(typeof j.reminderDate=="string"&&j.reminderDate.includes("T")&&!j.reminderDate.includes("Z")){const B=j.reminderDate.split("T"),[_,X,C]=B[0].split("-").map(Number),[P,z]=B[1].split(":").map(Number);R=new Date(_,X-1,C,P,z,0)}else{const B=new Date(j.reminderDate);R=new Date(B.getUTCFullYear(),B.getUTCMonth(),B.getUTCDate(),B.getUTCHours(),B.getUTCMinutes(),B.getUTCSeconds())}const F=R.getTime()-Date.now();return F>0?(setTimeout(()=>{new Notification(" MyyMotto Reminder Alert",{body:`${j.title}${j.details?` - ${j.details}`:""}`,icon:"/favicon.ico",requireInteraction:!0,tag:`myyMotto-reminder-${j.id||Date.now()}`,badge:"/favicon.ico"})},F),console.log(` Web notification scheduled for: ${R.toLocaleString()}`),!0):(console.log(" Cannot schedule notification for past time"),!1)}else return console.log(" Notification permission denied"),!1}else return console.log(" Notifications not supported in this browser"),!1}catch(k){return console.error("Error scheduling web notification:",k),!1}},m=async j=>{try{let k;if(typeof j.reminderDate=="string"&&j.reminderDate.includes("T")&&!j.reminderDate.includes("Z")){const $=j.reminderDate.split("T"),[L,D,u]=$[0].split("-").map(Number),[T,A]=$[1].split(":").map(Number);k=new Date(L,D-1,u,T,A,0)}else{const $=new Date(j.reminderDate);k=new Date($.getUTCFullYear(),$.getUTCMonth(),$.getUTCDate(),$.getUTCHours(),$.getUTCMinutes(),$.getUTCSeconds())}const R=k.getHours(),F=k.getMinutes(),B=k.getTime()-Date.now();console.log(" CREATING ULTRA-RELIABLE ALARM SYSTEM..."),console.log(`   Alarm time: ${R}:${F.toString().padStart(2,"0")}`),console.log(`   Minutes until alarm: ${Math.round(B/1e3/60)}`),console.log(`   Reminder: ${j.title}`);const _=j.id||Date.now(),X=[],C=[-120,-60,-30,0,30];for(let $=0;$<C.length;$++){const L=new Date(k.getTime()+C[$]*1e3);L.getTime()>Date.now()&&X.push({title:C[$]===0?" MyyMotto ALARM NOW!":` MyyMotto Reminder in ${Math.abs(C[$])}s`,body:`${j.title}${j.details?` - ${j.details}`:""}`,id:_+$+1e3,schedule:{at:L},sound:"default",channelId:"myyMotto-alarms",priority:5,visibility:1,lights:!0,vibrate:!0,autoCancel:!1,ongoing:C[$]===0,extra:{reminderTitle:j.title,isMainAlarm:C[$]===0,source:"MyyMotto-UltraReliable"}})}X.length>0&&(await pn.schedule({notifications:X}),console.log(` ${X.length} backup notifications scheduled`));const P=[];for(let $=1;$<=5;$++){const L=new Date(k.getTime()+$*60*1e3);P.push({title:" MyyMotto URGENT REMINDER!",body:`MISSED ALARM: ${j.title} - This is reminder #${$}`,id:_+$+2e3,schedule:{at:L},sound:"default",channelId:"myyMotto-alarms",priority:5,visibility:1,lights:!0,vibrate:!0,autoCancel:!1,ongoing:!0,extra:{reminderTitle:j.title,isFollowUp:!0,followUpNumber:$,source:"MyyMotto-FollowUp"}})}P.length>0&&(await pn.schedule({notifications:P}),console.log(` ${P.length} follow-up notifications scheduled`));const z={id:_,title:j.title,details:j.details,alarmTime:k.toISOString(),created:new Date().toISOString(),active:!0},W=JSON.parse(localStorage.getItem("myyMotto-active-alarms")||"[]");W.push(z),localStorage.setItem("myyMotto-active-alarms",JSON.stringify(W)),console.log(" Alarm data stored in localStorage for monitoring");const M=`MyyMotto: ${j.title}`;try{if(kr.getPlatform()==="android"){const $=`intent://clock#Intent;action=android.intent.action.SET_ALARM;i.android.intent.extra.alarm.HOUR=${R};i.android.intent.extra.alarm.MINUTES=${F};S.android.intent.extra.alarm.MESSAGE=${encodeURIComponent(M)};b.android.intent.extra.alarm.SKIP_UI=false;end`;window.location.href=$,console.log(" Android alarm app launched as backup")}else if(kr.getPlatform()==="ios"){const $=`clock-alarm://create?hour=${R}&minute=${F}&label=${encodeURIComponent(M)}`;window.open($,"_system"),console.log(" iOS clock app launched as backup")}}catch{console.log(" Native alarm app unavailable, relying on notification system")}return e({title:" Ultra-Reliable Alarm Created",description:`Multiple backup alarms set for ${R}:${F.toString().padStart(2,"0")}. You'll get notifications 2min, 1min, 30sec before, at the exact time, and follow-ups if missed.`,duration:8e3}),!0}catch(k){return console.error(" Failed to create ultra-reliable alarm:",k),!1}},p=async j=>{if(!kr.isNativePlatform())return console.log(" Scheduling web notification for desktop user"),await d(j);if(console.log(" Mobile platform detected - creating ultra-reliable alarm system..."),await m(j))return console.log(" Ultra-reliable alarm system activated with multiple backup strategies"),!0;console.log(" Ultra-reliable alarm failed, using standard notification fallback");try{let R;if(typeof j.reminderDate=="string"&&j.reminderDate.includes("T")&&!j.reminderDate.includes("Z")){const C=j.reminderDate.split("T"),[P,z,W]=C[0].split("-").map(Number),[M,$]=C[1].split(":").map(Number);R=new Date(P,z-1,W,M,$,0)}else{const C=new Date(j.reminderDate);R=new Date(C.getUTCFullYear(),C.getUTCMonth(),C.getUTCDate(),C.getUTCHours(),C.getUTCMinutes(),C.getUTCSeconds()),console.log(` ALARM SCHEDULE: Database time: ${j.reminderDate}`),console.log(` ALARM SCHEDULE: Alarm will ring at: ${R.toLocaleString("en-IN",{hour12:!0})}`)}const F=j.id||Date.now(),B=await pn.schedule({notifications:[{title:" MyyMotto Reminder Alert",body:`${j.title}${j.details?` - ${j.details}`:""}`,id:F,schedule:{at:R},sound:"default",attachments:void 0,actionTypeId:"REMINDER_ACTION",extra:{reminderDetails:j.details||"",source:"MyyMotto",persistent:!0,priority:"max",type:"reminder",reminderTitle:j.title},smallIcon:"ic_stat_icon_config_sample",iconColor:"#FF6600",ongoing:!1,autoCancel:!1,channelId:"myyMotto-alarms",largeIcon:"res://drawable/ic_launcher",summary:"MyyMotto Vehicle Reminder",priority:5,visibility:1,lights:!0,vibrate:!0}]});console.log(" Notification schedule result:",B);try{const P=(await pn.getPending()).notifications.find(z=>z.id===F);P?console.log(" Notification confirmed in pending queue:",P):console.log(" Warning: Notification not found in pending queue")}catch(C){console.log(" Could not verify pending notifications:",C)}if(kr.getPlatform()==="android")try{const C=R.getTime();console.log(`Attempting to schedule system alarm for: ${R.toLocaleString()}`),localStorage.setItem(`myyMotto_alarm_${F}`,JSON.stringify({id:F,title:j.title,time:C,details:j.details||""}))}catch{console.log("System alarm integration not available, using notification fallback")}const _=R.getTime()-Date.now();if(console.log(" MOBILE ALARM SYSTEM DEBUG:"),console.log(`   Database time: ${j.reminderDate}`),console.log(`   Corrected alarm time: ${R.toLocaleString("en-IN",{hour12:!0})}`),console.log(`   Current time: ${new Date().toLocaleString("en-IN",{hour12:!0})}`),console.log(`   Time until alarm: ${Math.round(_/1e3/60)} minutes`),console.log(`   Notification ID: ${F}`),console.log("   Channel ID: myyMotto-alarms"),console.log(`   Platform: ${kr.getPlatform()}`),_<0)return console.log(` ALARM ERROR: Cannot set alarm for past time (${Math.abs(Math.round(_/1e3/60))} minutes ago)`),!1;_<2*60*1e3&&_>0&&console.log(` IMMEDIATE ALARM: This alarm will ring in ${Math.round(_/1e3)} seconds!`);const X=await pn.checkPermissions();return console.log(`   Notification permission: ${X.display}`),X.display!=="granted"?(console.log(" ALARM ERROR: Notification permission not granted"),!1):(console.log(" MOBILE ALARM SCHEDULED SUCCESSFULLY"),!0)}catch(R){return console.error("Error scheduling device notification:",R),!1}},f=async j=>{if(kr.isNativePlatform())try{await pn.cancel({notifications:[{id:j}]}),localStorage.removeItem(`myyMotto_alarm_${j}`),console.log(`Device notification and alarm cancelled for reminder ${j}`)}catch(k){console.error("Error cancelling device notification:",k)}},{data:x=[],isLoading:v}=We({queryKey:["/api/calendar-reminders",o],queryFn:async()=>(await Pe("GET",`/api/calendar-reminders?userId=${o}`)).json()}),y=Ir({resolver:Yr(lV),defaultValues:{title:"",details:"",reminderDate:""}}),N=rt({mutationFn:async j=>{let k=j.reminderDate;return typeof k=="string"&&k.includes("T")&&!k.includes("Z")&&(k=k),(await Pe("POST","/api/calendar-reminders",{...j,reminderDate:k,userId:parseInt(o)})).json()},onSuccess:async j=>{const k=await p({title:j.title,details:j.details||"",reminderDate:j.reminderDate instanceof Date?j.reminderDate.toISOString():j.reminderDate,id:j.id});e({title:"Success",description:k?"Reminder created and device alarm set!":"Reminder created successfully"}),t.invalidateQueries({queryKey:["/api/calendar-reminders",o]}),s(!1),y.reset()},onError:j=>{e({title:"Error",description:j.message||"Failed to create reminder",variant:"destructive"})}}),b=rt({mutationFn:async j=>(await f(j),Pe("DELETE",`/api/calendar-reminders/${j}?userId=${o}`)),onSuccess:()=>{e({title:"Success",description:"Reminder and device alarm cancelled successfully"}),t.invalidateQueries({queryKey:["/api/calendar-reminders",o]})},onError:j=>{e({title:"Error",description:j.message||"Failed to delete reminder",variant:"destructive"})}}),g=j=>{N.mutate(j)},w=j=>{confirm("Are you sure you want to delete this reminder?")&&b.mutate(j)},S=j=>{let k;if(j instanceof Date)k=j;else if(typeof j=="string")if(j.includes("T")&&!j.includes("Z")&&!j.includes("+")){const R=j.split("T"),[F,B,_]=R[0].split("-").map(Number),[X,C]=R[1].split(":").map(Number);k=new Date(F,B-1,_,X,C,0)}else{const R=new Date(j);k=new Date(R.getUTCFullYear(),R.getUTCMonth(),R.getUTCDate(),R.getUTCHours(),R.getUTCMinutes(),R.getUTCSeconds()),console.log(` TIMEZONE FIX: Database time: ${j}`),console.log(` TIMEZONE FIX: UTC components: ${R.getUTCHours()}:${R.getUTCMinutes()}`),console.log(` TIMEZONE FIX: Local display time: ${k.toLocaleString("en-IN",{hour12:!0})}`)}else k=new Date(j);return k.toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-orange-50 to-white",children:[n.jsx("header",{className:"header-gradient-border shadow-lg",children:n.jsx("div",{className:"px-3 py-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Be,{href:"/",children:n.jsx(O,{variant:"ghost",size:"sm",className:"p-1 hover:bg-white/20",children:n.jsx(Pt,{className:"w-4 h-4"})})}),n.jsx("img",{src:bt,alt:"MyyMotto Logo",className:"w-12 h-12 rounded-lg"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-base font-bold",children:n.jsx(dt,{})}),n.jsx("p",{className:"text-xs text-red-600",children:"Timely Care for your carrier"})]})]}),n.jsx("div",{className:"flex items-center space-x-1",children:n.jsx(Ft,{className:"w-5 h-5 text-orange-600"})})]})})}),n.jsxs("main",{className:"container mx-auto max-w-md p-3 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h1",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[n.jsx(jr,{className:"w-5 h-5 text-orange-600"}),"Alert & Reminders"]}),n.jsxs(O,{onClick:()=>s(!0),className:"bg-orange-600 hover:bg-orange-700 text-sm h-8 px-3",children:[n.jsx(Ar,{className:"w-4 h-4 mr-2"}),"Create New"]})]}),kr.isNativePlatform()&&n.jsx(re,{className:"bg-blue-50 border-blue-200",children:n.jsxs(se,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(yp,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{className:"text-sm font-medium text-blue-800",children:"System Alarm Integration"}),n.jsx("div",{className:`w-2 h-2 rounded-full ${(a==null?void 0:a.display)==="granted"?"bg-green-500":"bg-red-500"}`})]}),n.jsx("p",{className:"text-xs text-blue-700",children:(a==null?void 0:a.display)==="granted"?" Ultra-reliable alarm: Multiple backup notifications + native clock app integration":" Allow notifications to enable ultra-reliable alarm system"}),n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:" Creates 10+ backup alarms: 2min before, 1min before, exact time, and 5 follow-ups if missed."}),(a==null?void 0:a.display)==="granted"&&n.jsx("div",{className:"mt-2",children:n.jsx(O,{onClick:async()=>{try{const j=new Date(Date.now()+5e3);await pn.schedule({notifications:[{title:" MyyMotto Test Alarm",body:"This is a test notification to verify your alarm system works!",id:99999,schedule:{at:j},sound:"default",channelId:"myyMotto-alarms"}]}),e({title:"Test Alarm Scheduled",description:"Test notification will ring in 5 seconds!"}),console.log(` TEST ALARM scheduled for: ${j.toLocaleString()}`)}catch(j){console.error("Test notification error:",j)}},variant:"outline",size:"sm",className:"text-xs h-6 px-2",children:"Test Alarm (5s)"})})]})}),!kr.isNativePlatform()&&n.jsx(re,{className:"bg-orange-50 border-orange-200",children:n.jsxs(se,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(jr,{className:"w-4 h-4 text-orange-600"}),n.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Web Version"})]}),n.jsx("p",{className:"text-xs text-orange-700",children:"System alarms work in the mobile app. Web version saves reminders for viewing and syncing to mobile."}),n.jsx("p",{className:"text-xs text-orange-600 mt-1",children:" Install the mobile app to get persistent alarms that work even when logged out."})]})}),v?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Bs,{className:"w-8 h-8 animate-spin mx-auto text-orange-600 mb-2"}),n.jsx("p",{className:"text-gray-600",children:"Loading reminders..."})]}):x.length===0&&!r?n.jsx(re,{className:"shadow-orange",children:n.jsxs(se,{className:"text-center py-8",children:[n.jsx(Ft,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Reminders Yet"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first calendar reminder to stay organized"}),n.jsxs(O,{onClick:()=>s(!0),className:"bg-orange-600 hover:bg-orange-700",children:[n.jsx(Ar,{className:"w-4 h-4 mr-2"}),"Create First Reminder"]})]})}):n.jsx("div",{className:"space-y-3",children:x.map(j=>n.jsx(re,{className:"smooth-card list-item-enter border-l-4 border-l-orange-500 shadow-orange",children:n.jsx(se,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:j.title}),j.details&&n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:j.details}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-orange-600",children:[n.jsx(Bs,{className:"w-4 h-4"}),S(j.reminderDate),kr.isNativePlatform()&&n.jsxs("div",{className:"flex items-center gap-1 ml-2 px-2 py-1 bg-red-100 rounded-full",children:[n.jsx(jr,{className:"w-3 h-3 text-red-600"}),n.jsx("span",{className:"text-xs text-red-700",children:"Ultra-Reliable"})]})]})]}),n.jsx(O,{variant:"ghost",size:"sm",onClick:()=>w(j.id),className:"smooth-button text-red-600 hover:text-red-700 hover:bg-red-50 p-1",children:n.jsx(qr,{className:"w-4 h-4"})})]})})},j.id))}),r&&n.jsxs(re,{className:"border-orange-200 shadow-lg shadow-orange",children:[n.jsx(Me,{className:"pb-2",children:n.jsxs(Fe,{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Ft,{className:"w-4 h-4 text-orange-600"}),"Create New Reminder"]}),n.jsx(O,{variant:"ghost",size:"sm",onClick:()=>{s(!1),y.reset()},className:"p-1 hover:bg-red-50 text-gray-600",children:n.jsx(Pt,{className:"w-4 h-4"})})]})}),n.jsx(se,{className:"p-3",children:n.jsx(cs,{...y,children:n.jsxs("form",{onSubmit:y.handleSubmit(g),className:"space-y-4",children:[n.jsx(De,{control:y.control,name:"title",render:({field:j})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs font-medium",children:"Title *"}),n.jsx(ke,{children:n.jsx(de,{placeholder:"Enter reminder title (e.g., Insurance Renewal)",className:"h-8",...j})}),n.jsx(_e,{})]})}),n.jsx(De,{control:y.control,name:"details",render:({field:j})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs font-medium",children:"Details (Optional)"}),n.jsx(ke,{children:n.jsx(Hn,{placeholder:"Enter reminder details (e.g., Renew Honda City insurance with HDFC ERGO)",className:"min-h-[80px] text-xs resize-none",...j})}),n.jsx(_e,{})]})}),n.jsx(De,{control:y.control,name:"reminderDate",render:({field:j})=>n.jsxs(Te,{children:[n.jsx(Ee,{className:"text-xs font-medium",children:"Reminder Date & Time *"}),n.jsx(ke,{children:n.jsx(de,{type:"datetime-local",className:"h-8",min:new Date().toISOString().slice(0,16),...j})}),n.jsx(_e,{})]})}),n.jsxs("div",{className:"flex space-x-2 pt-2",children:[n.jsx(O,{type:"button",variant:"outline",className:"flex-1 h-8 text-xs",onClick:()=>{s(!1),y.reset()},children:"Cancel"}),n.jsx(O,{type:"submit",className:"flex-1 bg-orange-600 hover:bg-orange-700 h-8 text-xs",disabled:N.isPending,children:N.isPending?"Creating...":n.jsxs(n.Fragment,{children:[n.jsx(Pn,{className:"w-3 h-3 mr-1"}),"Set Reminder"]})})]})]})})})]}),(x.length>0||r)&&n.jsx(re,{className:"shadow-orange bg-gradient-to-r from-green-50 to-blue-50",children:n.jsx(se,{className:"p-3",children:n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(Pn,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"text-xs text-gray-700 space-y-1",children:[n.jsx("p",{className:"font-medium text-green-800",children:" Timezone Issue Fixed"}),n.jsx("p",{children:"Time display now shows correctly - no more 12:35 PM becoming 6:05 PM!"}),n.jsx("p",{className:"font-medium text-blue-800",children:" Enhanced Alarm System"}),n.jsx("p",{children:kr.isNativePlatform()?"System alarms work even when app is closed. Maximum priority notifications with sound and vibration.":"Web notifications available. Install mobile app for persistent system alarms."})]})]})})})]})]})}function XB(){const[e,t]=h.useState(null);h.useEffect(()=>{const i=localStorage.getItem("blockedUserInfo");if(i)try{const o=JSON.parse(i);t(o)}catch(o){console.log("Failed to parse blocked user info:",o)}},[]);const r=()=>{window.open("mailto:info@arudhih.com?subject=Account%20Access%20Request%20-%20Myymotto&body=Dear%20Arudhih%20Team%2C%0D%0A%0D%0AI%20am%20writing%20to%20request%20the%20restoration%20of%20my%20Myymotto%20account%20access.%20My%20account%20has%20been%20blocked%2C%20and%20I%20would%20like%20to%20understand%20the%20reason%20and%20request%20unblocking.%0D%0A%0D%0AUser%20Details%3A%0D%0A-%20Mobile%2FEmail%3A%20%5BYour%20registered%20mobile%2Femail%5D%0D%0A-%20Name%3A%20%5BYour%20name%5D%0D%0A-%20Reason%20for%20access%20request%3A%20%5BExplain%20briefly%5D%0D%0A%0D%0AI%20understand%20that%20accounts%20are%20blocked%20for%20policy%20violations%20and%20I%20assure%20you%20of%20my%20compliance%20with%20app%20guidelines%20going%20forward.%0D%0A%0D%0AThank%20you%20for%20your%20consideration.%0D%0A%0D%0ABest%20regards%2C%0D%0A%5BYour%20Name%5D","_blank")},s=()=>{window.open("tel:+918880105082","_self")},a=()=>{localStorage.clear(),window.location.href="/sign-in"};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex flex-col items-center justify-center p-4",children:[n.jsx("div",{className:"w-full max-w-md mb-6",children:n.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[n.jsx("img",{src:bt,alt:"Myymotto Logo",className:"w-12 h-12 rounded-lg"}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-xl font-bold",children:n.jsx(dt,{})}),n.jsx("p",{className:"text-xs text-red-600",children:"Timely Care for your carrier"})]})]})}),n.jsxs(re,{className:"w-full max-w-md shadow-2xl shadow-red-500/20 border-0 bg-white/95 backdrop-blur-sm",children:[n.jsxs(Me,{className:"text-center pb-4",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 flex items-center justify-center",children:n.jsx(Xt,{className:"w-8 h-8 text-red-600"})})}),n.jsxs(Fe,{className:"text-xl font-bold text-red-600 flex items-center justify-center gap-2",children:[n.jsx(ul,{className:"w-5 h-5"}),"Account Access Restricted"]}),n.jsx("div",{className:"w-16 h-0.5 bg-red-500 mx-auto rounded-full mt-2"})]}),n.jsxs(se,{className:"text-center space-y-6",children:[n.jsxs("div",{className:"bg-red-50 p-4 rounded-xl border border-red-200",children:[n.jsx("p",{className:"text-base font-medium text-gray-800 mb-2",children:"Your account has been temporarily blocked by our admin team."}),(e==null?void 0:e.reason)&&n.jsxs("div",{className:"bg-white p-3 rounded-lg border border-red-300 mb-3",children:[n.jsx("p",{className:"text-sm font-medium text-red-800 mb-1",children:"Reason for blocking:"}),n.jsx("p",{className:"text-sm text-red-700",children:e.reason})]}),n.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"This action was taken due to a violation of our terms of service or app usage policies."})]}),n.jsxs("div",{className:"bg-orange-50 p-4 rounded-xl border border-orange-200",children:[n.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center justify-center gap-2",children:[n.jsx(fo,{className:"w-4 h-4 text-orange-600"}),"Request Access Restoration"]}),n.jsx("p",{className:"text-sm text-gray-700 mb-4 leading-relaxed",children:"Contact our support team to understand the reason for blocking and request account restoration."}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(O,{onClick:r,className:"w-full bg-orange-600 hover:bg-orange-700 text-white font-medium py-3 rounded-lg shadow-lg transition-all duration-200 flex items-center justify-center gap-2",children:[n.jsx(fo,{className:"w-4 h-4"}),"Email Support Team",n.jsx(Ms,{className:"w-3 h-3 opacity-75"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx("div",{className:"flex-1 h-px bg-gray-300"}),n.jsx("span",{children:"or"}),n.jsx("div",{className:"flex-1 h-px bg-gray-300"})]}),n.jsxs(O,{onClick:s,variant:"outline",className:"w-full border-orange-300 text-orange-600 hover:bg-orange-50 font-medium py-3 rounded-lg flex items-center justify-center gap-2",children:[n.jsx(sa,{className:"w-4 h-4"}),"Call Support: +91 8880105082"]})]})]}),n.jsx("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:n.jsxs("p",{className:"text-xs text-blue-700 font-medium leading-relaxed",children:[" ",n.jsx("strong",{children:"Support Email:"})," ",(e==null?void 0:e.contactEmail)||"info@arudhih.com",n.jsx("br",{}),"Response time: 24-48 hours"]})}),n.jsx("div",{className:"flex justify-center pt-2",children:n.jsx(O,{onClick:a,variant:"ghost",className:"text-gray-600 hover:text-red-600 hover:bg-red-50 text-sm font-medium",children:"Try Different Account"})})]})]}),n.jsx("div",{className:"text-center mt-6 text-xs text-gray-500",children:"by Arudhih Solutions LLP"})]})}function HB(){const[,e]=Zt();return yt(),h.useEffect(()=>{const t=setTimeout(()=>{e("/profile")},1e3);return()=>clearTimeout(t)},[e]),n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-green-50 to-white flex items-center justify-center p-4",children:n.jsxs("div",{className:"text-center max-w-sm mx-auto",children:[n.jsx("div",{className:"mb-8 flex justify-center",children:n.jsx("div",{className:"animate-pulse",children:n.jsx(dt,{className:"w-20 h-20"})})}),n.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:["Welcome to ",n.jsx("span",{className:"text-orange-600",children:"MyyMotto"}),"!"]}),n.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"Timely Care for your carrier"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Let's get your profile set up..."}),n.jsx("div",{className:"mt-8",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto"})})]})})}function KB(){return n.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:n.jsx(re,{className:"w-full max-w-md mx-4 shadow-orange",children:n.jsxs(se,{className:"pt-6",children:[n.jsxs("div",{className:"flex mb-4 gap-2",children:[n.jsx(ul,{className:"h-8 w-8 text-red-500"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),n.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function QB(){const[e,t]=Zt(),[r,s]=h.useState(!0),[a,i]=h.useState(!1),o=localStorage.getItem("currentUserId")||localStorage.getItem("userId"),l=localStorage.getItem("isAuthenticated")==="true",c=()=>{s(!1),t("/sign-in")},d=()=>{i(!1),m()},m=async()=>{try{await y6.initialize(),console.log("Push notifications initialized successfully")}catch(y){console.error("Failed to initialize push notifications:",y)}};h.useEffect(()=>{l&&!r&&!a&&m()},[l,r,a]);const{data:p,isLoading:f}=We({queryKey:["/api/profile",o],queryFn:async()=>{var y;if(!o)return null;try{return(await Pe("GET",`/api/profile/${o}`)).json()}catch(N){if((y=N.message)!=null&&y.includes("404"))return null;throw N}},enabled:l}),{data:x,isLoading:v}=We({queryKey:["/api/vehicles",o],queryFn:async()=>(await Pe("GET",`/api/vehicles?userId=${o}`)).json(),enabled:l&&!!o});return h.useEffect(()=>{r||(!l&&e!=="/sign-in"&&e!=="/blocked-user"?t("/sign-in"):l&&!f&&!v&&p&&!localStorage.getItem(`permissionsCompleted_${o}`)&&!a&&!r&&(!x||x.length===0)&&i(!0))},[l,f,v,p,x,e,t,o,a,r]),r?n.jsx(w6,{onComplete:c}):a?n.jsx(b6,{onComplete:d}):l&&(f||v)?n.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading your dashboard..."})]})}):n.jsx("div",{className:"page-transition",children:n.jsxs(ZA,{children:[n.jsx(ft,{path:"/sign-in",component:e7}),n.jsx(ft,{path:"/blocked-user",component:XB}),n.jsx(ft,{path:"/welcome",component:HB}),n.jsx(ft,{path:"/",component:hV}),n.jsx(ft,{path:"/add-vehicle",component:oz}),n.jsx(ft,{path:"/vehicle/:id/edit",component:lz}),n.jsx(ft,{path:"/vehicle/:id/upload",component:Uv}),n.jsx(ft,{path:"/vehicle/:id/upload-documents",component:Uv}),n.jsx(ft,{path:"/vehicle/:id/local-documents",component:CU}),n.jsx(ft,{path:"/vehicle/:id/service",component:CB}),n.jsx(ft,{path:"/vehicle/:id/service-logs",component:kB}),n.jsx(ft,{path:"/vehicle/:id/add-service-log",component:DB}),n.jsx(ft,{path:"/vehicle/:id/alerts",component:RB}),n.jsx(ft,{path:"/emergency-contacts",component:_U}),n.jsx(ft,{path:"/subscribe",component:DU}),n.jsx(ft,{path:"/profile",component:EU}),n.jsx(ft,{path:"/settings",component:uB}),n.jsx(ft,{path:"/search",component:GB}),n.jsx(ft,{path:"/climbing-game",component:mB}),n.jsx(ft,{path:"/news-tidbits",component:MB}),n.jsx(ft,{path:"/dashboard/customize",component:FB}),n.jsx(ft,{path:"/traffic-violations",component:oB}),n.jsx(ft,{path:"/insurance-renewals",component:lB}),n.jsx(ft,{path:"/insurance",component:dB}),n.jsx(ft,{path:"/broadcast",component:LB}),n.jsx(ft,{path:"/admin-dashboard",component:VB}),n.jsx(ft,{path:"/account-management",component:YB}),n.jsx(ft,{path:"/calendar-reminder",component:WB}),n.jsx(ft,{component:KB})]})})}function ZB(){return n.jsx(yR,{client:va,children:n.jsx(s6,{children:n.jsxs("div",{className:"min-h-screen max-w-md mx-auto bg-background relative",children:[n.jsx(QB,{}),n.jsx(A4,{})]})})})}if(typeof window<"u"){const e=window.ResizeObserver;class t extends e{constructor(s){let a;super((i,o)=>{clearTimeout(a),a=window.setTimeout(()=>{try{s(i,o)}catch(l){if(!(l instanceof Error&&l.message.includes("ResizeObserver")))throw l}},16)})}}window.ResizeObserver=t}const WD=[e=>{var t;if((t=e.message)!=null&&t.includes("ResizeObserver loop completed"))return e.stopImmediatePropagation(),e.preventDefault(),!1},e=>{var t,r;if((r=(t=e.reason)==null?void 0:t.message)!=null&&r.includes("ResizeObserver"))return e.preventDefault(),!1}],JB={error:console.error,warn:console.warn};["error","warn"].forEach(e=>{console[e]=(...t)=>{const r=t[0];typeof r=="string"&&r.includes("ResizeObserver loop completed")||JB[e].apply(console,t)}});window.addEventListener("error",WD[0]);window.addEventListener("unhandledrejection",WD[1]);window.addEventListener("error",e=>{var t,r,s;if((r=(t=e.error)==null?void 0:t.stack)!=null&&r.includes("ResizeObserver")||(s=e.message)!=null&&s.includes("ResizeObserver loop"))return e.stopPropagation(),e.preventDefault(),!1},!0);l2(document.getElementById("root")).render(n.jsx(ZB,{}));export{rk as W};
